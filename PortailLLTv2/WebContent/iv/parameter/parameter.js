actuate.util.Package.define("actuate.parameter");actuate.parameter.Constants={PARAMETER_DEFINITION:"ParameterDefinition",PARAMETER_VALUE:"ParameterValue",PARAMETER_PICK_LIST:"ParameterPickList",PARAMETER_PICK_LIST_TOTAL_COUNT:"TotalCount",DATETIME_PARAMETER:"DateTimeParameter",DEPENDENT_FILE_TYPE:"DependentFileType",LOCALIZED_MESSAGE:"LocalizedMessage",LOCALIZED_PATTERN:"LocalizedPattern",POSITION:"Position",DATA_TYPE:"DataType",CURRENT_VALUE:"CurrentValue",CURRENT_VALUE_IS_NULL:"CurrentValueIsNull",CURRENT_ADHOC_VALUE_LIST:"CurrentAdHocValueList",DEFAULT_VALUE:"DefaultValue",DEFAULT_VALUE_IS_NULL:"DefaultValueIsNull",IS_REQUIRED:"IsRequired",IS_PASSWORD:"IsPassword",IS_HIDDEN:"IsHidden",DISPLAY_NAME:"DisplayName",GROUP_PROMPT_TEXT:"GroupPromptText",START_EXPANDED:"StartExpanded",IS_ADHOC:"IsAdHoc",CONTROL_TYPE:"ControlType",COLUMN_NAME:"ColumnName",COLUMN_TYPE:"ColumnType",DATA_SOURCE_TYPE:"DataSourceType",CASCADING_PARENT_NAME:"CascadingParentName",GROUP_NAME:"Group",SELECT_NAME_VALUE_LIST:"SelectNameValueList",SELECT_VALUE_LIST:"SelectValueList",OPERATOR_LIST:"OperatorList",HELP_TEXT:"HelpText",IS_VIEW_PARAMETER:"IsViewParameter",IS_DYNAMIC_SELECTION_LIST:"IsDynamicSelectionList",NAME_VALUE_PAIR:"NameValuePair",NAME:"Name",VALUE:"Value",STRING:"String",DATE_ONLY:"DateOnly",TIME:"Time",DATE:"Date",TABLE:"Table",AUTOSUGGEST:"AutoSuggest",AUTO_SUGGEST_THRESHOLD:"AutoSuggestThreshold",CURRENT_DISPLAY_NAME:"CurrentDisplayName",FAULT_CODE:"faultcode",FAULT_STRING:"faultstring",DETAIL:"detail",XMLNS:' xmlns="http://schemas.actuate.com/actuate11" ',XMLNS_SOAPENV:' xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" ',XMLNS_XSD:' xmlns:xsd="http://www.w3.org/2001/XMLSchema" ',XMLNS_XSI:' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ',LAYOUT_NONE:"none",LAYOUT_GROUP:"group",LAYOUT_COLLAPSIBLE:"collapsible",NAV_FIRST:"firstlink",NAV_PREV:"prevlink",NAV_NEXT:"nextlink",NAV_LAST:"lastlink",ERR_SERVER:actuate.Exception.ERR_SERVER,ERR_CLIENT:actuate.Exception.ERR_CLIENT,ERR_USAGE:actuate.Exception.ERR_USAGE,REPORT_CONNECTION_HANDLE:"REPORT_CONNECTION_HANDLE",FILTER_VALUE_1_SUFFIX:".DF_filterValue1",FILTER_VALUE_2_SUFFIX:".DF_filterValue2",LOC_IMG_ARROW:"iportal/activePortal/images/arrow_btn.gif",LOC_IMG_CALENDAR:"iportal/activePortal/images/calendar.png",LOC_IMG_CALENDAR_GRAY:"iportal/activePortal/images/calendar_gray.png",LOC_IMG_FIRST:"iportal/activePortal/images/first.gif",LOC_IMG_PREV:"iportal/activePortal/images/previous.gif",LOC_IMG_NEXT:"iportal/activePortal/images/next.gif",LOC_IMG_LAST:"iportal/activePortal/images/last.gif",LOC_IMG_FIRST_OFF:"iportal/activePortal/images/first_off.gif",LOC_IMG_PREV_OFF:"iportal/activePortal/images/previous_off.gif",LOC_IMG_NEXT_OFF:"iportal/activePortal/images/next_off.gif",LOC_IMG_LAST_OFF:"iportal/activePortal/images/last_off.gif",LOC_IMG_DOWN:"iportal/common/images/navdown.gif",LOC_IMG_DOWN_OFF:"iportal/common/images/navdown_off.gif",LOC_IMG_UP:"iportal/common/images/navup.gif",LOC_IMG_UP_OFF:"iportal/common/images/navup_off.gif",LOC_IMG_PROGRESS_ANIMATION:"iportal/common/images/progress_animation.gif",LOC_IMG_HELP_TEXT:"images/help.png",LOC_IMG_COLLAPSED:"iportal/common/images/Collapse.gif",LOC_IMG_EXPANDED:"iportal/common/images/Expand.gif",NO_VALUE:"--No Value--"};actuate.util.Package.define("actuate.parameter");actuate.parameter.ConvertUtility=actuate.Class.create();actuate.parameter.ConvertUtility.prototype={_paramVals:null,_resultConsumer:null,initialize:function(A){this._paramVals=A;return true;},convert:function(A){this._convert(A,false,false);},convertDate:function(A){this._convert(A,true,false);},convertMultiSelectDate:function(A){this._convert(A,false,true);},_convert:function(J,L,D){if(this._paramVals==null||(this.__paramValus!=null&&this._paramVals.length==0)){J(null);return ;}var H="";var F=new Array();var K=new Array();var C=new Array();var A=new Array();for(var E=0;E<this._paramVals.length;E++){var I=this._paramVals[E];var B=I.getControlType();var G=I.getValue();if(L){C.push(I);}else{if(D){A.push(I);}else{if(G!=null&&typeof (G)=="object"&&G.length>0){F.push(I);}else{if(B&&B.toUpperCase()=="FILTERSIMPLE"){K.push(I);}}}}}H=this._prepareSoapMsg(F,K,C,A);if(H!=""){this._sendSoapMsg(H,J);}else{J(this._paramVals);}},createSOAPBodyForMultiSelectValues:function(A){var F="";for(var E=0;E<A.length;E++){var G=A[E];var D=G.getName();var B=G.getColumnType();var H=G.getValue();F+="<ParameterDefinition><Name>"+actuate.parameter.Utility.xmlEscape(D)+"</Name>";if(B!=null){F+="<DataType>"+actuate.parameter.Utility.xmlEscape(B)+"</DataType>";}F+="<SelectValueList>";for(var C=0;C<H.length;C++){if(H[C]==null){F+="<String xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:nil='1' />";}else{F+="<String>"+actuate.parameter.Utility.xmlEscape(H[C])+"</String>";}}F+="</SelectValueList>";F+="</ParameterDefinition>";}return F;},createSOAPBodyForDynamicFilterValues:function(K){var J="";for(var E=0;E<K.length;E++){var L=K[E];var A=L.getName();var G=L.getValueArray();var I=L.getColumnType();var C=L.getColumnName();var B=L.getOperator();J+="<ParameterDefinition>";J+="<Name>"+actuate.parameter.Utility.xmlEscape(A)+"</Name>";J+="<ColumnName>"+actuate.parameter.Utility.xmlEscape(C)+"</ColumnName>";J+="<ColumnType>"+actuate.parameter.Utility.xmlEscape(I)+"</ColumnType>";J+="<Operator>"+actuate.parameter.Utility.xmlEscape(B)+"</Operator>";J+="<SelectValueList>";for(var F=0;F<G.length;F++){var H=G[F];if(typeof (H)=="object"){for(var D=0;D<H.length;D++){J+="<String>"+actuate.parameter.Utility.xmlEscape(H[D])+"</String>";}}else{J+="<String>"+actuate.parameter.Utility.xmlEscape(G[F])+"</String>";}}J+="</SelectValueList>";J+="</ParameterDefinition>";}return J;},_sendSoapMsg:function(A,C){var B=new actuate.parameter.util.AjaxForWsservlet();actuate.parameter.Utility.sendSoapMessage(B,A,actuate.Method.bind2(this._parseResponse,this,C),null,true);},_parseResponse:function(F,B){var A=B.getResponseXml();if(A.getElementsByTagName("ErrorMessage")[0]){var C=A.getElementsByTagName("ErrorMessage")[0].firstChild.data;F(C);}else{var D=new actuate.parameter.ParameterParser();var E=D.parseConvertedParameterValues(A);this._updateParamVals(E);F(this._paramVals);}},_updateParamVals:function(B){for(var C=0;C<this._paramVals.length;C++){var A=this._paramVals[C].getName();if(typeof (B[A])!="undefined"){this._paramVals[C].setValue(B[A]);}}},getParameterValues:function(){return this._paramVals;},getParameterMap:function(){return actuate.parameter.Utility.getMapFromParameterVals(this._paramVals);},_createSoapBodyForDateValues:function(H){var E="";for(var D=0;D<H.length;D++){var F=H[D];var C=F.getName();var A=F.getColumnType();var G=F.getValue();if(!A){A=F.getDataType();}if(!(typeof (G)=="object"&&G.length>0)){G=[G];}E+="<ParameterDefinition><Name>"+actuate.parameter.Utility.xmlEscape(C)+"</Name>";if(A!=null){E+="<DataType>"+actuate.parameter.Utility.xmlEscape(A)+"</DataType>";}E+="<SelectValueList>";for(var B=0;B<G.length;B++){E+="<String>"+actuate.parameter.Utility.xmlEscape(G[B])+"</String>";}E+="</SelectValueList>";E+="</ParameterDefinition>";}return E;},_prepareSoapMsg:function(G,I,B,A){var H="";if(G.length>0||I.length>0||B.length>0||A.length>0){H="<GetConvertedParameterValues>";if(G.length>0){var F=this.createSOAPBodyForMultiSelectValues(G);H+="<MultiSelectValues>"+F+"</MultiSelectValues>";}if(I.length>0){var E=this.createSOAPBodyForDynamicFilterValues(I);H+="<DynamicFilterValues>"+E+"</DynamicFilterValues>";}if(B.length>0){var C=this._createSoapBodyForDateValues(B);H+="<LocaleNeutralValues>"+C+"</LocaleNeutralValues>";}if(A.length>0){var D=this._createSoapBodyForDateValues(A);H+="<LocaleNeutralMultiSelectValues>"+D+"</LocaleNeutralMultiSelectValues>";}H+="</GetConvertedParameterValues>";}return H;}};actuate.util.Package.define("actuate.parameter");actuate.parameter.EventConstants={ON_CHANGED:"ON_CHANGED",ON_CHANGE_COMPLETED:"ON_CHANGE_COMPLETED",ON_SELECTION_CHANGED:"ON_SELECTION_CHANGED",ON_AUTO_SUGGESTION_CHANGED:"ON_AUTO_SUGGESTION_CHANGED",ON_PICKLIST_CHANGED_PD:"ON_PICKLIST_CHANGED_PD",ON_SESSION_TIMEOUT:"onSessionTimeout",_ON_SESSION_TIMEOUT:"_onSessionTimeout",ON_EXCEPTION:"ON_EXCEPTION",ON_TEXT_ENTER_KEY:"ON_TEXT_ENTER_KEY",_ON_CASCADING_CHANGE:"_ON_CASCADING_CHANGE",_ON_AUTO_SUGGESTION_CHANGE:"_ON_AUTO_SUGGESTION_CHANGE",_ON_CASCADING_CHANGE_DONE:"_ON_CASCADING_CHANGE_DONE",_ON_DOWNLOAD_PARAMETERS:"_ON_DOWNLOAD_PARAMETERS",_ON_SUBMIT:"_ON_SUBMIT",_ON_SUBMITTED:"_ON_SUBMITTED",_ON_CHANGE:"_ON_CHANGE",_ON_CLICK:"_ON_CLICK",_ON_MOUSEOUT:"_ON_MOUSEOUT",_ON_MOUSE_DOWN:"_ON_MOUSE_DOWN",_ON_MOUSE_UP:"_ON_MOUSE_UP",_ON_KEY_DOWN:"_ON_KEY_DOWN",_ON_KEY_UP:"_ON_KEY_UP",_ON_RESIZE:"_ON_RESIZE",_ON_ADHOC_CLICK:"_ON_ADHOC_CLICK",_ON_BLUR:"_ON_BLUR",_ON_EXCEPTION:"_ON_EXCEPTION",_ON_EXCEPTION_CONTAINER:"_ON_EXCEPTION_CONTAINER"};actuate.util.Package.define("actuate.parameter");actuate.parameter.Exception=actuate.Exception;actuate.util.Package.define("actuate.parameter");actuate.parameter.EventHandler=actuate.Class.create();actuate.parameter.EventHandler.prototype={_handlers:null,initialize:function(){this._handlers=new Array();},fireEvent:function(){var B=Array.prototype.slice.call(arguments);var A=B[0];var D=this._handlers[A];B.splice(0,1);if(D){var C=this;if(typeof (dbgLog)=="function"){dbgLog("Firing event listener for eventName= "+A);}setTimeout(function(){try{D.apply(null,B);}catch(F){if(A!=actuate.parameter.EventConstants._ON_EXCEPTION){var E=actuate.parameter.Utility.createException(F);C.fireEvent(actuate.parameter.EventConstants._ON_EXCEPTION,E);}}});}},registerHandler:function(A,B){this._handlers[A]=B;},removeHandler:function(A,B){this._handlers[A]=null;},getHandler:function(A){return this._handlers[A];},setOnChangeEvent:function(A){actuate.util.Event.observe(A,"change",actuate.Method.bindAsEventListener(this._onChange,this));},_onChange:function(B){var A=actuate.util.Event.element(B);if(typeof (dbgLog)=="function"){dbgLog(" New value= "+A.value+" for elemid= "+A.id);}if(A.id==null||A.id==""){A=A.parentNode;}this.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,A.id);},setOnClickEvent:function(A){actuate.util.Event.observe(A,"click",actuate.Method.bindAsEventListener(this._onClick,this));},_onClick:function(B){var A=actuate.util.Event.element(B);if(typeof (dbgLog)=="function"){dbgLog(" OnClick for elemid= "+A.id);}this.fireEvent(actuate.parameter.EventConstants._ON_CLICK,A.id);},setOnFocusEvent:function(A){actuate.util.Event.observe(A,"focus",actuate.Method.bindAsEventListener(this._onFocus,this));},_onFocus:function(B){var A=actuate.util.Event.element(B);if(typeof (dbgLog)=="function"){dbgLog(" onFocus for elemid= "+A.id);}this.fireEvent(actuate.parameter.EventConstants._ON_CLICK,A.id);},setOnAdHocClick:function(A){actuate.util.Event.observe(A,"click",actuate.Method.bindAsEventListener(this._onAdHocClick,this));},setOnMouseOutEvent:function(A){actuate.util.Event.observe(A,"mouseout",actuate.Method.bindAsEventListener(this._onMouseOut,this));},_onAdHocClick:function(B){var A=actuate.util.Event.element(B);this.fireEvent(actuate.parameter.EventConstants._ON_ADHOC_CLICK,A);},_onMouseOut:function(B){var A=actuate.util.Event.element(B);if(typeof (dbgLog)=="function"){dbgLog(" Mouse left element ID#"+A.id);}this.fireEvent(actuate.parameter.EventConstants._ON_MOUSEOUT,A.id);},setOnBlurEvent:function(A){actuate.util.Event.observe(A,"blur",actuate.Method.bindAsEventListener(this._onBlur,this));},_onBlur:function(B){var A=actuate.util.Event.element(B);if(typeof (dbgLog)=="function"){dbgLog(" New value= "+A.value+" for elemid= "+A.id);}this.fireEvent(actuate.parameter.EventConstants._ON_BLUR,A.id);},setOnMouseDownEvent:function(A){actuate.util.Event.observe(A,"mousedown",actuate.Method.bindAsEventListener(this._onMouseDown,this));},_onMouseDown:function(B){var A=actuate.util.Event.element(B);if(typeof (dbgLog)=="function"){dbgLog(" New value= "+A.value+" for elemid= "+A.id);}var C=actuate.util.Event.isLeftClick(B);if(C==true){this.fireEvent(actuate.parameter.EventConstants._ON_MOUSE_DOWN,A.id);}},setOnMouseUpEvent:function(A){actuate.util.Event.observe(A,"mouseup",actuate.Method.bindAsEventListener(this._onMouseUp,this));},_onMouseUp:function(B){var A=actuate.util.Event.element(B);if(typeof (dbgLog)=="function"){dbgLog(" New value= "+A.value+" for elemid= "+A.id);}var C=actuate.util.Event.isLeftClick(B);if(C==true){this.fireEvent(actuate.parameter.EventConstants._ON_MOUSE_UP,A.id);}},setOnKeyDownEvent:function(A){actuate.util.Event.observe(A,"keydown",actuate.Method.bindAsEventListener(this._onKeyDown,this));},_onKeyDown:function(C){var B=actuate.util.Event.element(C);if(typeof (dbgLog)=="function"){dbgLog(" New value= "+B.value+" for elemid= "+B.id);}this.fireEvent(actuate.parameter.EventConstants._ON_KEY_DOWN,B.id);if(B.processEnterKey){var A=C.keyCode;switch(A){case 13:this._onChange(C);this.fireEvent(actuate.parameter.EventConstants.ON_TEXT_ENTER_KEY);return false;break;default:break;}}},setOnKeyUpEvent:function(A){actuate.util.Event.observe(A,"keyup",actuate.Method.bindAsEventListener(this._onKeyUp,this));},_onKeyUp:function(C){var B=actuate.util.Event.element(C);if(typeof (dbgLog)=="function"){dbgLog(" New value= "+B.value+" for elemid= "+B.id);}this.fireEvent(actuate.parameter.EventConstants._ON_KEY_UP,B.id);if(B.processEnterKey){var A=C.keyCode;switch(A){case 13:this._onChange(C);this.fireEvent(actuate.parameter.EventConstants.ON_TEXT_ENTER_KEY);return false;break;default:break;}}}};actuate.util.Package.define("actuate.parameter");actuate.parameter.GetParameterPickListResponse=actuate.Class.create();actuate.parameter.GetParameterPickListResponse.prototype={_parameterPickList:null,_totalCount:0,initialize:function(A,B){this._parameterPickList=A;this._totalCount=B;},getParameterPickList:function(){return this._parameterPickList;},setParameterPickList:function(A){this._parameterPickList=A;},getTotalCount:function(){return this._totalCount;},setTotalCount:function(A){this._totalCount=A;}};actuate.parameter.GetParameterPickList=actuate.Class.create();actuate.parameter.GetParameterPickList.prototype={_objectName:null,_cascadingGroupName:null,_parameterName:null,_precedingParameterValues:null,_filter:null,_startIndex:0,_fetchSize:-1,_countLimit:1,initialize:function(B,A){this._objectName=B;this._cascadingGroupName=A;},getObjectName:function(){return this._objectName;},setObjectName:function(A){this._objectName=A;},getCascadingGroupName:function(){return this._cascadingGroupName;},setCascadingGroupName:function(A){this._cascadingGroupName=A;},getParameterName:function(){return this._parameterName;},setParameterName:function(A){this._parameterName=A;},getPrecedingParameterValues:function(){return this._precedingParameterValues;},setPrecedingParameterValues:function(A){this._precedingParameterValues=A;},getFilter:function(){return this._filter;},setFilter:function(A){this._filter=A;},getStartIndex:function(){return this._startIndex;},setStartIndex:function(A){this._startIndex=A;},getFetchSize:function(){return this._fetchSize;},setFetchSize:function(A){this._fetchSize=A;},getCountLimit:function(){return this._countLimit;},setCountLimit:function(A){this._countLimit=A;},toString:function(){var A="<GetParameterPickList "+actuate.parameter.Constants.XMLNS+">";A+="<Object>";A+="<Name>"+actuate.parameter.Utility.xmlEscape(this._objectName)+"</Name>";A+="</Object>";if(this._cascadingGroupName!=null&&this._filter==null){A+="<CascadingGroupName>"+actuate.parameter.Utility.xmlEscape(this._cascadingGroupName)+"</CascadingGroupName>";}A+="<ParameterName>"+actuate.parameter.Utility.xmlEscape(this._parameterName)+"</ParameterName>";if(this._precedingParameterValues!=null){A+="<PrecedingParameterValues>";for(var B=0;B<this._precedingParameterValues.length;B++){var C=this._precedingParameterValues[B];A+="<ParameterValue>";A+="<Name>"+actuate.parameter.Utility.xmlEscape(C.getName())+"</Name>";A+="<Value>"+actuate.parameter.Utility.xmlEscape(C.getValue())+"</Value>";if(C.getValueIsNull()==true){A+="<ValueIsNull>"+C.getValueIsNull()+"</ValueIsNull>";}A+="</ParameterValue>";}A+="</PrecedingParameterValues>";}if(this._filter!=null){A+="<Filter>"+actuate.parameter.Utility.xmlEscape(this._filter)+"</Filter>";if(this._fetchSize!=null){A+="<FetchSize>"+this._fetchSize+"</FetchSize>";}if(this._countLimit!=null){A+="<CountLimit>"+this._countLimit+"</CountLimit>";}if(this._startIndex!=null){A+="<StartIndex>"+this._startIndex+"</StartIndex>";}}A+="</GetParameterPickList>";return A;},reset:function(){this._objectName=null;this._cascadingGroupName=null;this._parameterName=null;this._precedingParameterValues=null;this._filter=null;this._startIndex=0;this._fetchSize=-1;this._countLimit=1;}};actuate.util.Package.define("actuate.parameter");actuate.parameter.NameValuePair=actuate.Class.create();actuate.parameter.NameValuePair.prototype={_name:null,_value:null,initialize:function(A,B){this._name=A;this._value=B;},getName:function(){return this._name;},setName:function(A){this._name=A;},getValue:function(){return this._value;},setValue:function(A){this._value=A;}};actuate.util.Package.define("actuate.parameter");actuate.parameter.StaticFuncs={_validEvents:new Array(actuate.parameter.EventConstants._ON_SUBMITTED,actuate.parameter.EventConstants.ON_CHANGED,actuate.parameter.EventConstants.ON_SELECTION_CHANGED,actuate.parameter.EventConstants.ON_PICKLIST_CHANGED_PD,actuate.parameter.EventConstants.ON_CHANGE_COMPLETED,actuate.parameter.EventConstants.ON_AUTO_SUGGESTION_CHANGED,actuate.parameter.EventConstants.ON_TEXT_ENTER_KEY,actuate.parameter.EventConstants.ON_EXCEPTION,actuate.parameter.EventConstants.ON_SESSION_TIMEOUT),isValidEvent:function(A){if(!A||typeof (A)!="string"){return false;}var C=actuate.parameter.StaticFuncs._validEvents;for(var B=0;B<C.length;B++){if(A==C[B]){return true;}}return false;}};actuate.parameter.Parameter=actuate.Class.create();actuate.parameter.Parameter.prototype={_requestOptions:null,_iportalURL:null,_reportName:null,_reportConnHandle:null,_docName:null,_connHandle:null,_domContainer:null,_ajaxConn:null,_container:null,_containerID:null,_hiddenParameters:null,_eventHandlers:null,_layout:actuate.parameter.Constants.LAYOUT_COLLAPSIBLE,_showDisplayType:false,_expandedGroupNames:null,_readOnly:false,_bShowNavBar:null,_progressIndicator:null,_autoSuggestDelay:500,_autoSuggestFetchSize:-1,_autoSuggestListSize:-1,_groupNames:null,_nullValueSupported:true,_isParameterPageRendered:false,_arrayOfOverwritePDs:null,_parametersOverwritten:false,_sessionTimeOutCallback:null,_calendardContainerID:null,_autoScale:false,initialize:function(A){this._ajaxConn=new actuate.parameter.util.AjaxForWsservlet();this._ajaxConn.setOnException(actuate.Method.bind(this._onException,this));this._iportalURL=this._ajaxConn.getIportalUrl();actuate.parameter.ResourceBundle.setIportalUrl(this._iportalURL);this._eventHandlers=new actuate.parameter.EventHandler();this._eventHandlers.registerHandler(actuate.parameter.EventConstants._ON_EXCEPTION,actuate.Method.bind(this._onException,this));this._paramImpl=new actuate.parameter.impl.ParameterImpl(this._ajaxConn);this._paramImpl.setOnSessionTimedOut(actuate.Method.bind(this._showLoginPromptDialog,this));this._isParameterPageRendered=false;if(A==null){return false;}this._container=this._createParameterContainer(A);this._domContainer=this._container.getDefaultContainer().id;this._autoSuggestFetchSize=actuate.parameter.ResourceBundle.getDefaultAutoSuggestFetchSize();this._autoSuggestListSize=actuate.parameter.ResourceBundle.getDefaultAutoSuggestListSize();this._autoSuggestDelay=actuate.parameter.ResourceBundle.getDefaultAutoSuggestDelay();this._container.setAutoSuggestDelay(this._autoSuggestDelay);this._container.setAutoSuggestFetchSize(this._autoSuggestFetchSize);this._container.setAutoSuggestListSize(this._autoSuggestListSize);return true;},_showLoginPromptDialog:function(){var A=this._eventHandlers.getHandler(actuate.parameter.EventConstants.ON_SESSION_TIMEOUT);if(A){this._eventHandlers.fireEvent(actuate.parameter.EventConstants.ON_SESSION_TIMEOUT);}},setService:function(B,A){this._iportalURL=(B.charAt(B.length-1)!="/")?B+"/":B;this._ajaxConn.setService(B,A);this._paramImpl.setAjaxConnection(this._ajaxConn);actuate.parameter.ResourceBundle.setIportalUrl(this._iportalURL);},setReportNameEx:function(C,A){this._reportName=C;if(actuate.parameter.Utility.isNotEditable(this._reportName)){this._readOnly=true;}else{this._readOnly=false;}this._paramImpl.setDependentFileType(null);if(A){var B=A[actuate.parameter.Constants.REPORT_CONNECTION_HANDLE];if(B!=undefined){this._reportConnHandle=B;}}},setFont:function(A){if(undefined==A||""==A){return ;}else{var D=document.getElementsByClassName("actuateParameterContainer");var C=D[0].getElementsByTagName("*");if(null!=C){for(var B=0;B<C.length;B++){C[B].style.cssText=A;}}}},setReportName:function(A){this.setReportNameEx(A,null);},getReportName:function(){return this._reportName;},getParameterGroupNames:function(){if(this._reportName==null||this._container==null){return null;}var B=this._container.getParameterDefinitions();if(B==null){return null;}if(B.length==0){return null;}if(this._groupNames!=null){return this._groupNames;}var D=new Array();var C=null;for(var A=0;A<B.length;A++){var E=B[A].getGroup();if(E==C||E==null){continue;}D.push(E);C=E;}this._groupNames=D;return this.groupNames;},setTransientDocumentName:function(B,A){this._docName=B;this._connHandle=A;},getTransientDocumentName:function(){return this._docName;},setLayout:function(A){this._layout=A;if(this._layout!=actuate.parameter.Constants.LAYOUT_NONE){this._bShowNavBar=true;}},getLayout:function(){return this._layout;},hideNavBar:function(){this._bShowNavBar=false;},navigate:function(A,B){this._container.navigate(A,B);},setReadOnly:function(A){this._readOnly=A;},setShowDisplayType:function(A){this._showDisplayType=actuate.parameter.Utility.isBooleanTrue(A);},setExpandedGroups:function(A){this._expandedGroupNames=A;},_getUniqueHiddenParamID:function(B,A){if(actuate.parameter.Utility.isEmpty(A)){A="";}if(actuate.parameter.Utility.isEmpty(B)){B="";}return"<Group>"+B+"</Group>"+"<Name>"+A+"</Name>";},_setUserHiddenParameter:function(C,A){if(this._hiddenParameters==null){this._hiddenParameters=new Array();}if(actuate.parameter.Utility.isEmpty(A)){A="";}if(actuate.parameter.Utility.isEmpty(C)){C="";}if(A==""&&C==""){return false;}var B=this._getUniqueHiddenParamID(C,A);if(actuate.util.Utility.indexOf(this._hiddenParameters,B)==-1){this._hiddenParameters.push(B);}},_updatePDWithHiddenParameter:function(B){if(this._hiddenParameters==null){return false;}var C=this._getUniqueHiddenParamID(B.getGroup(),B.getName());var E=this._getUniqueHiddenParamID(B.getGroup(),"");var D=this._getUniqueHiddenParamID("",B.getName());for(var A=0;A<this._hiddenParameters.length;A++){if(actuate.util.Utility.indexOf(this._hiddenParameters,C)>=0||actuate.util.Utility.indexOf(this._hiddenParameters,E)>=0||actuate.util.Utility.indexOf(this._hiddenParameters,D)>=0){B.setIsHidden(true);return true;}}return false;},_updatePDsWithHiddenParameters:function(C){if(C==null||C.length==0||this._hiddenParameters==null){return ;}for(var B=0;B<C.length;B++){var A=C[B];this._updatePDWithHiddenParameter(A);}},hideParameterName:function(B){if(typeof (B)=="string"){this._setUserHiddenParameter("",B);}else{for(var A=0;A<B.length;A++){this._setUserHiddenParameter("",B[A]);}}},hideParameterGroup:function(A){if(typeof (A)=="string"){this._setUserHiddenParameter(A,"");}else{for(var B=0;B<A.length;B++){this._setUserHiddenParameter(A[B],"");}}},setGroupContainer:function(B,A){this._container.setGroupContainer(B,A);},removeGroupContainer:function(B,A){},downloadParameters:function(A){this._parametersOverwritten=true;if(this._reportName==null){this._checkAPIUsage("setReportName api needs to be called first before calling downloadParameters.");}actuate.parameter.Utility.startTimer("downloadParameters");this._paramImpl.getReportParameters(this._reportName,this._reportConnHandle,this._docName,this._connHandle,A,actuate.Method.bind(this._onException,this));},_createParameterContainer:function(A){var B;var C=null;if(typeof (A)=="string"){C=document.getElementById(A);}else{C=A;}if(!C){throw new actuate.parameter.Exception(actuate.Exception.ERR_USAGE,"No container object specified");}B=new actuate.parameter.impl.MasterParametersContainer(C,this._eventHandlers,this._iportalURL);return B;},_onCascasdingChange:function(B,A){this._paramImpl.getParameterPickList(this._reportName,B.getGroup(),B.getName(),A,actuate.Method.bind2(this._renderPDContent,this,B),actuate.Method.bind2(this._onExceptionPickList,this,actuate.Method.bind2(this._renderPDContent,this,B)));},_setAutoSuggestions:function(D,A,C,B){D.setSelectNameValueList(C);this._container.setAutoSuggestion(D,A,B);},_onAutoSuggestionChange:function(C,A){var B=this._container.getParamDefFromControlID(C);A.setObjectName(this._reportName);A.setCascadingGroupName(B.getGroup());A.setParameterName(B.getName());this._paramImpl.getSuggestionList(A,actuate.Method.bind2(this._setAutoSuggestions,this,B,A),actuate.Method.bind(this._onException,this));},_renderPDContent:function(B,A){B.setSelectNameValueList(A);this._container.renderChangedControl(B);},setAutoScale:function(A){this._autoScale=A;},renderContent:function(E,D){try{this.showProgressIndicator();var B=null;if(this._autoScale==true&&document.createElement&&(B=document.createElement("meta"))){B.name="viewport";B.content="width=device-width, initial-scale=1";document.getElementsByTagName("head")[0].appendChild(B);try{document.getElementsByTagName("body")[0].style.minWidth=window.screen.availWidth/2+"px";}catch(A){}}if(this._calendardContainerID){this._container.setCalendarContainerID(this._calendardContainerID);}this._updatePDsWithHiddenParameters(E);if(D){this.registerEventHandler(actuate.parameter.EventConstants._ON_SUBMITTED,actuate.Method.bind2(this._onSuccessfulSubmit,this,D));}actuate.parameter.Utility.stopTimer("downloadParameters");if(E!=null){var C=actuate.parameter.Utility.getFileExtension(this._reportName);if("ROX"==C.toUpperCase()||"ROI"==C.toUpperCase()){this._nullValueSupported=false;}if(this._arrayOfOverwritePDs&&!this._parametersOverwritten){E=actuate.parameter.Utility.overwritePDs(E,this._arrayOfOverwritePDs);}this._paramImpl.GetReportInfo(E,this._reportName,actuate.Method.bind(this._breakDownDefaultvalues,this),actuate.Method.bind(this._onException,this));}else{this._renderContent(E);}}catch(A){this._onJSException(A);}},refreshContent:function(){var A=this.getParameterDefinitions();this.clearContent();this.showProgressIndicator();A=actuate.parameter.Utility.overwritePDs(A,this._arrayOfOverwritePDs);this.renderContent(A);},clearContent:function(){if(this._container){this._container.clearContent();}},setCalendarContainerID:function(A){this._calendardContainerID=A;},overwriteParameterDefProperties:function(A){this._arrayOfOverwritePDs=A;if(this._paramImpl){this._paramImpl.overwriteParameterDefProperties(A);}},resizeControls:function(){this._container._resizeControls();},_breakDownDefaultvalues:function(A){this._paramImpl.GetParamDefaultValues(A,actuate.Method.bind(this._renderContent,this),actuate.Method.bind(this._onException,this));},_renderContent:function(A){this.hideProgressIndicator();this._eventHandlers.registerHandler(actuate.parameter.EventConstants._ON_CASCADING_CHANGE,actuate.Method.bind(this._onCascasdingChange,this));this._eventHandlers.registerHandler(actuate.parameter.EventConstants._ON_AUTO_SUGGESTION_CHANGE,actuate.Method.bind(this._onAutoSuggestionChange,this));this._container.setReadOnly(this._readOnly);this._container.setExpandedGroups(this._expandedGroupNames);if(this._paramImpl._dependentFileType&&this._paramImpl._dependentFileType.toLowerCase()=="rox"){this._nullValueSupported=false;}this._container.setNullValueSupported(this._nullValueSupported);this._container.renderParameterContent(A,this._layout,this._showDisplayType,this._bShowNavBar);this._isParameterPageRendered=true;this._eventHandlers.fireEvent(actuate.parameter.EventConstants._ON_SUBMITTED,null);},submit:function(A){if(A){this.registerEventHandler(actuate.parameter.EventConstants._ON_SUBMITTED,actuate.Method.bind2(this._onSuccessfulSubmit,this,A));}this.clearContent();this.showProgressIndicator();this.downloadParameters(actuate.Method.bind(this.renderContent,this));},registerEventHandler:function(A,B){if(!actuate.parameter.StaticFuncs.isValidEvent(A)){throw new actuate.parameter.Exception(actuate.Exception.ERR_USAGE,'Invalid parameter event type "'+A+'"');}if(!B||typeof (B)!="function"){throw new actuate.parameter.Exception(actuate.Exception.ERR_USAGE,"Event handler is required and must be a function");}this._eventHandlers.registerHandler(A,B);},_getEventHandlers:function(B){var A=this._eventHandlers.getHandler(B);return A;},removeEventHandler:function(A,B){if(!actuate.parameter.StaticFuncs.isValidEvent(A)){throw new actuate.parameter.Exception(actuate.Exception.ERR_USAGE,'Invalid parameter event type "'+A+'"');}if(!B||typeof (B)!="function"){throw new actuate.parameter.Exception(actuate.Exception.ERR_USAGE,"Event handler is required and must be a function");}this._eventHandlers.removeEventHandler(A,B);},downloadParameterValues:function(D){this._checkAPIUsage("submit or renderContent api needs to be called first before calling downloadParameterValues.");var C=this.getParameterValues();var B=new actuate.parameter.ConvertUtility(C);var A=function(F){if(typeof (F)=="string"){var E=new actuate.parameter.Exception(actuate.Exception.ERR_SERVER,F);this._onException(E);return ;}D(F);};B.convert(actuate.Method.bind(A,this));},getParameterValues:function(){return this._container.getParameterValues();},validateParameters:function(){return this._container.validateParameters();},downloadParameterMap:function(A){this.downloadParameterValues(function(B){A(actuate.parameter.Utility.getMapFromParameterVals(B));});},getParameterMap:function(){return actuate.parameter.Utility.getMapFromParameterVals(this._container.getParameterValues());},getParameterContainer:function(){return this._container;},getAjaxConnection:function(){return this._ajaxConn;},getParameterDefinitions:function(){return this._container.getParameterDefinitions();},setAutoSuggestListSize:function(A){this._autoSuggestListSize=A;this._container.setAutoSuggestListSize(A);},setAutoSuggestFetchSize:function(A){this._autoSuggestFetchSize=A;this._container.setAutoSuggestFetchSize(A);},setAutoSuggestDelay:function(A){this._autoSuggestDelay=A;this._container.setAutoSuggestDelay(A);},showProgressIndicator:function(){this._progressIndicator=actuate.parameter.Utility.showProgressIndicator(this._progressIndicator,this._domContainer,this._iportalURL);},hideProgressIndicator:function(){actuate.parameter.Utility.hideProgressIndicator(this._progressIndicator);},_onSuccessfulSubmit:function(){var A=Array.prototype.slice.call(arguments);var B=A[0];A.splice(0,1);if(B){B.apply(null,A);}},onUnload:function(){if(this._progressIndicator){this._progressIndicator.innerHTML="";}this._progressIndicator=null;this._hiddenParameters=null;this._container.onUnload();},_checkAPIUsage:function(A){if(this._isParameterPageRendered==false){throw new actuate.parameter.Exception(actuate.Exception.ERR_USAGE,A);}},_onJSException:function(A){errorObj=new actuate.parameter.Exception(A);this._onException(errorObj);},_onException:function(B){this.hideProgressIndicator();var A=this._getEventHandlers(actuate.parameter.EventConstants.ON_EXCEPTION);if(A){this._eventHandlers.fireEvent(actuate.parameter.EventConstants._ON_EXCEPTION_CONTAINER,B);this._eventHandlers.fireEvent(actuate.parameter.EventConstants.ON_EXCEPTION,B);}else{if(B.getMessage()){this.clearContent();if(this._domContainer){document.getElementById(this._domContainer).innerHTML=B.getMessage();}}}},_onExceptionPickList:function(B,A){if(B){B(null);}this._onException(A);}};actuate.util.Package.define("actuate.parameter");actuate.parameter.ParameterData=actuate.Class.create();actuate.parameter.ParameterData.prototype={_reportName:null,_pd:null,_childData:null,_parentData:null,_currentValue:null,_webService:null,initialize:function(B,A){this._reportName=B;this._pd=A;this._fileType=actuate.parameter.Utility.getFileExtension(this._reportName);},setChildData:function(A){this._childData=A;},getChildData:function(){return this._childData;},setParentData:function(A){this._parentData=A;},getParentData:function(){return this._parentData;},setWebService:function(A){this._webService=A;},getDefaultValue:function(){if(this._pd){if(this._pd.getDefaultValueIsNull()){return null;}return this._pd.getDefaultValue();}return null;},getHelpText:function(){if(this._pd){return this._pd.getHelpText();}return"";},getPromptText:function(){if(this._pd){return this._pd.getDisplayName();}return"";},getParameterName:function(){if(this._pd){return this._pd.getName();}return null;},getNameValueList:function(){if(this._pd){var B=this._pd.getSelectNameValueList();if(B){return B;}else{var A=this._pd.getSelectValueList();if(A){var D=new Arrray();for(var E=0;E<A.length;E++){var C=new actuate.parameter.NameValuePair(A[E],A[E]);D.push(C);}return D;}}}return null;},setCurrentValue:function(A){this._currentValue=A;},getCurrentValue:function(){return this._currentValue;},getCascadingParentValues:function(B){if(!B){B=new Array();}if(this.isCascadingParameter()){if(this._pd&&this._parentData){var C=this._pd.getCascadingParentName();if(this._parentData.getParameterName()==C){var A=this._parentData.getCurrentValue();if(A){B.splice(0,0,A);}this._parentData.getCascadingParentValues(B);}}}return B;},getPickList:function(E){var C=this.getCascadingParentValues();var D=this._pd.getGroup();var B=new actuate.parameter.GetParameterPickList(this._reportName,D);B.setParameterName(this.getParameterName());B.setPrecedingParameterValues(C);B.setFilter(null);var A=null;this._getParameterPickList(B,E,A);},_getDefaultWebService:function(){if(!this._webService){this._webService=new actuate.parameter.util.AjaxForWsservlet();}return this._webService;},_getParameterPickList:function(D,E,C){var A=D.toString();var B=null;actuate.parameter.Utility.sendSoapMessage(this._getDefaultWebService(),A,actuate.Method.bind2(this._parseParameterPickList,this,E),C,false,B);},_parseParameterPickList:function(F,C){var A=C.getResponseXml();var E=new actuate.parameter.ParameterParser();E.parseParameterPickList(A);var D=E.getNameValuePickList();var B=E.getParameterPickListTotalCount();if(F){F(D,B);}},getSuggestionList:function(E,A){var C=new actuate.parameter.GetParameterPickList();C.setFilter(A);C.setStartIndex(0);C.setFetchSize(-1);C.setObjectName(this._reportName);C.setCascadingGroupName(this._pd.getGroup());C.setParameterName(this.getParameterName());var D=new Array();C.setPrecedingParameterValues(D);var B=null;this._getParameterPickList(C,E,B);},getControlType:function(){if(this._pd){return this._pd.getControlType();}return null;},isRequired:function(){if(this._pd){return this._pd.isRequired();}return false;},isMultiList:function(){if(this._pd){var B=this._pd.getControlType();var A=this._pd.isAdHoc();if(B==null||B==""){if(this.getNameValueList()!=null&&A){return true;}}}return false;},isDynamicFilter:function(){if(this._pd){if(this._pd.getControlType()=="FilterSimple"){return true;}}return false;},isAdhoc:function(){if(this._pd){return this._pd.isAdHoc();}return false;},isCascadingParameter:function(){if(this._childData||this._parentData){return true;}return false;}};actuate.util.Package.define("actuate.parameter");actuate.parameter.ParameterDefinition=actuate.Class.create();actuate.parameter.ParameterDefinition.prototype={_group:null,_cascadingParentName:null,_name:null,_position:null,_dataType:null,_defaultValue:null,_defaultValueList:null,_defaultValueIsNull:false,_isRequired:false,_isPassword:false,_isHidden:false,_displayName:null,_helpText:null,_isAdHoc:false,_columnName:null,_groupPromptText:null,_startExpanded:true,_defaultDateValue:null,_defaultTimeValue:null,_currentDateValue:null,_currentTimeValue:null,_dynamicFilterValueList:null,_dynamicFilterOperator:null,_columnType:null,_selectValueList:null,_operatorList:null,_selectNameValueList:null,_controlType:null,_recordDefinition:null,_defaultTableValues:null,_dataSourceType:null,_isViewParameter:null,_autoSuggestThreshold:1,_currentValue:"",_currentValueIsNull:false,_currentDisplayName:null,_updatedWithDocParam:false,_isMultiSelectControl:false,_isDynamicFilterControl:false,_isDynamicSelectionList:false,getGroup:function(){return this._group;},setGroup:function(A){this._group=A;},getCascadingParentName:function(){return this._cascadingParentName;},setCascadingParentName:function(A){this._cascadingParentName=A;},getName:function(){return this._name;},setName:function(A){this._name=A;},getPosition:function(){return this._position;},setPosition:function(A){this._position=A;},getDataType:function(){return this._dataType;},setDataType:function(A){this._dataType=A;},getDefaultValue:function(){return this._defaultValue;},setDefaultValue:function(A){this._defaultValue=A;this._currentValue=A;},getDefaultValueList:function(){return this._defaultValueList;},setDefaultValueList:function(A){this._defaultValueList=A;},getDefaultDateValue:function(){return this._defaultDateValue;},setDefaultDateValue:function(A){this._defaultDateValue=A;},getCurrentTimeValue:function(){return this._currentTimeValue;},setCurrentTimeValue:function(A){this._currentTimeValue=A;},getCurrentDateValue:function(){return this._currentDateValue;},setCurrentDateValue:function(A){this._currentDateValue=A;},getDefaultTimeValue:function(){return this._defaultTimeValue;},setDefaultTimeValue:function(A){this._defaultTimeValue=A;},getDynamicFilterOperator:function(){return this._dynamicFilterOperator;},setDynamicFilterOperator:function(A){this._dynamicFilterOperator=A;},getDynamicFilterValueList:function(){return this._dynamicFilterValueList;},setDynamicFilterValueList:function(A){this._dynamicFilterValueList=A;},isRequired:function(){return this._isRequired;},setIsRequired:function(A){this._isRequired=A;},getDefaultValueIsNull:function(){return this._defaultValueIsNull;},setDefaultValueIsNull:function(A){this._defaultValueIsNull=A;this._currentValueIsNull=A;},isPassword:function(){return this._isPassword;},setIsPassword:function(A){this._isPassword=A;},isHidden:function(){return this._isHidden;},setIsHidden:function(A){this._isHidden=A;},getDisplayName:function(){return this._displayName;},setDisplayName:function(A){this._displayName=A;},getHelpText:function(){return this._helpText;},setHelpText:function(A){this._helpText=A;},isAdHoc:function(){return this._isAdHoc;},setIsAdHoc:function(A){this._isAdHoc=A;},getColumnName:function(){return this._columnName;},setColumnName:function(A){this._columnName=A;},getGroupPromptText:function(){return this._groupPromptText;},setGroupPromptText:function(A){this._groupPromptText=A;},getStartExpanded:function(){return this._startExpanded;},setStartExpanded:function(A){this._startExpanded=A;},getColumnType:function(){return this._columnType;},setColumnType:function(A){this._columnType=A;},getSelectValueList:function(){return this._selectValueList;},setSelectValueList:function(A){this._selectValueList=A;},getOperatorList:function(){return this._operatorList;},setOperatorList:function(A){this._operatorList=A;},getSelectNameValueList:function(){return this._selectNameValueList;},setSelectNameValueList:function(A){this._selectNameValueList=A;},getControlType:function(){return this._controlType;},setControlType:function(A){this._controlType=A;},getRecordDefinition:function(){return this._recordDefinition;},setRecordDefinition:function(A){this._recordDefinition=A;},getDefaultTableValues:function(){return this._defaultTableValues;},setDefaultTableValues:function(A){this._defaultTableValues=A;},getDataSourceType:function(){return this._dataSourceType;},setDataSourceType:function(A){this._dataSourceType=A;},isViewParameter:function(){return this._isViewParameter;},setIsViewParameter:function(A){this._isViewParameter=A;},getAutoSuggestThreshold:function(){return this._autoSuggestThreshold;},setAutoSuggestThreshold:function(A){this._autoSuggestThreshold=A;},getCurrentDisplayName:function(){return this._currentDisplayName;},setCurrentDisplayName:function(A){this._currentDisplayName=A;},getCurrentValue:function(){return this._currentValue;},setCurrentValue:function(A){this._currentValue=A;},getCurrentValueIsNull:function(){return this._currentValueIsNull;},setCurrentValueIsNull:function(A){this._currentValueIsNull=A;},getUpdatedWithDocParam:function(){return this._updatedWithDocParam;},setUpdatedWithDocParam:function(A){this._updatedWithDocParam=A;},isMultiSelectControl:function(){return this._isMultiSelectControl;},setIsMultiSelectControl:function(A){this._isMultiSelectControl=A;},isDynamicFilterControl:function(){return this._isDynamicFilterControl;},setIsDynamicFilterControl:function(A){this._isDynamicFilterControl=A;},isDynamicSelectionList:function(){return this._isDynamicSelectionList;},setIsDynamicSelectionList:function(A){this._isDynamicSelectionList=A;}};actuate.util.Package.define("actuate.parameter");actuate.parameter.ParameterParser=actuate.Class.create();actuate.parameter.ParameterParser.prototype={_parameterDefinitionArray:null,_paramDef:null,_nameValuePairArray:null,_valueListArray:null,_currentAdhocValueArray:null,_parameterPickListArray:null,_totalCount:0,initialize:function(){},getParameterDefinitions:function(){return this._parameterDefinitionArray;},getParameterPickList:function(){return this._parameterPickListArray;},getNameValuePickList:function(){return this._nameValuePairArray;},getValuePickList:function(){return this._valueListArray;},getParameterPickListTotalCount:function(){return this._totalCount;},setParameterPickList:function(A){this._parameterPickListArray=A;},setParameterDefinitions:function(A){this._parameterDefinitionArray.push(A);},clearParameterDefinitions:function(){this._parameterDefinitionArray.clear();},clearParameterPickList:function(){this._parameterPickListArray.clear();},getSoapRequest:function(){},parseParameterDefinition:function(B){var C=B.getElementsByTagName(actuate.parameter.Constants.PARAMETER_DEFINITION);if(C&&C.length>0){this._parameterDefinitionArray=new Array();for(var A=0;A<C.length;A++){if(C[A]!=null){this.breakDownParamDefs(C[A]);this._parameterDefinitionArray.push(this._paramDef);}}}},parseParameterPickList:function(C){var A=C.getElementsByTagName(actuate.parameter.Constants.PARAMETER_PICK_LIST);if(A&&A.length>0){this._parameterPickListArray=new Array();this.breakDownNameValueList(A);if(this._nameValuePairArray&&this._nameValuePairArray.length>0){this._parameterPickListArray=this._nameValuePairArray;}else{this._valueListArray=this.breakDownSelectValueList(A);this._parameterPickListArray=this._valueListArray;}}var B=C.getElementsByTagName(actuate.parameter.Constants.PARAMETER_PICK_LIST_TOTAL_COUNT);this._totalCount=0;if(B&&B.length>0){this._totalCount=actuate.parameter.Utility.getNodeTextData(B[0]);}},parseFormattedDateTime:function(C){var E=C.getElementsByTagName(actuate.parameter.Constants.DATETIME_PARAMETER);var G=null;if(E&&E.length>0){G=new Object();for(var B=0;B<E.length;B++){var D=E[B].getElementsByTagName(actuate.parameter.Constants.NAME);D=actuate.parameter.Utility.getNodeTextData(D[0]);var A=E[B].getElementsByTagName(actuate.parameter.Constants.DATE);A=actuate.parameter.Utility.getNodeTextData(A[0]);var F=E[B].getElementsByTagName(actuate.parameter.Constants.TIME);F=actuate.parameter.Utility.getNodeTextData(F[0]);G[D]=new Object();G[D]["date"]=A;G[D]["time"]=F;}}return G;},parseDependentFileType:function(C){var B=C.getElementsByTagName(actuate.parameter.Constants.DEPENDENT_FILE_TYPE);var A="";if(B&&B.length>0){A=actuate.parameter.Utility.getNodeTextData(B[0]);}return A;},parseReportInfo:function(C){var D=new Object();var B=this.parseDependentFileType(C);if(B){D["dependentFileType"]=B;}var A=this.parseFormattedDateTime(C);D["dateTimeMap"]=A;return D;},parseLocalizedResources:function(D,C){var G=D.getElementsByTagName(C);var F=new Object();if(G&&G.length>0){for(var B=0;B<G.length;B++){var A=G[B].getElementsByTagName(actuate.parameter.Constants.NAME);A=actuate.parameter.Utility.getNodeTextData(A[0]);var E=G[B].getElementsByTagName(actuate.parameter.Constants.VALUE);E=actuate.parameter.Utility.getNodeTextData(E[0]);F[A]=E;}}return F;},parseConvertedParameterValues:function(C){var F=C.getElementsByTagName(actuate.parameter.Constants.PARAMETER_VALUE);var E=new Object();if(F&&F.length>0){for(var B=0;B<F.length;B++){var A=F[B].getElementsByTagName(actuate.parameter.Constants.NAME);A=actuate.parameter.Utility.getNodeTextData(A[0]);var D=F[B].getElementsByTagName(actuate.parameter.Constants.VALUE);D=actuate.parameter.Utility.getNodeTextData(D[0]);E[A]=D;}}return E;},parseMultiSelectDefaults:function(E){var G=E.getElementsByTagName(actuate.parameter.Constants.PARAMETER_DEFINITION);var F=new Object();if(G&&G.length>0){for(var D=0;D<G.length;D++){var C=G[D].getElementsByTagName(actuate.parameter.Constants.NAME);C=actuate.parameter.Utility.getNodeTextData(C[0]);var H=G[D].getElementsByTagName(actuate.parameter.Constants.STRING);var B=new Array();for(var A=0;A<H.length;A++){if(H[A].getAttribute("xsi:nil")){B.push(null);}else{B.push(actuate.parameter.Utility.getNodeTextData(H[A]));}}F[C]=B;}}return F;},parseDynamicFilterDefaults:function(E){var D=E.getElementsByTagName("DynamicFilter");var A=new Object();if(D&&D.length>0){for(var G=0;G<D.length;G++){var J=D[G].getElementsByTagName(actuate.parameter.Constants.NAME);J=actuate.parameter.Utility.getNodeTextData(J[0]);var K=new Array();var B=D[G].getElementsByTagName("Operator");B=actuate.parameter.Utility.getNodeTextData(B[0]);K.push(B);var C=D[G].getElementsByTagName(actuate.parameter.Constants.COLUMN_NAME);C=actuate.parameter.Utility.getNodeTextData(C[0]);K.push(C);var H=D[G].getElementsByTagName(actuate.parameter.Constants.STRING);var I=new Array();for(var F=0;F<H.length;F++){I.push(actuate.parameter.Utility.getNodeTextData(H[F]));}K.push(I);A[J]=K;}}return A;},breakDownParamDefs:function(S){this._paramDef=new actuate.parameter.ParameterDefinition();var T=S.getElementsByTagName(actuate.parameter.Constants.NAME);this._paramDef.setName(actuate.parameter.Utility.getNodeTextData(T[0]));var G=S.getElementsByTagName(actuate.parameter.Constants.POSITION);if(G&&G.length>0){this._paramDef.setPosition(actuate.parameter.Utility.getNodeTextData(G[0]));}var U=S.getElementsByTagName(actuate.parameter.Constants.DATA_TYPE);if(U&&U.length>0){this._paramDef.setDataType(actuate.parameter.Utility.getNodeTextData(U[0]));}var g=S.getElementsByTagName(actuate.parameter.Constants.DEFAULT_VALUE);var N=false;if(g!=null&&g.length>0){var k=actuate.parameter.Utility.getNodeTextData(g[0]);this._paramDef.setDefaultValue(k);}var j=S.getElementsByTagName(actuate.parameter.Constants.DEFAULT_VALUE_IS_NULL);if(j&&j.length>0){var k=actuate.parameter.Utility.getNodeTextData(j[0]);var Z=actuate.parameter.Utility.isBooleanTrue(k);this._paramDef.setDefaultValueIsNull(Z);}var e=S.getElementsByTagName(actuate.parameter.Constants.CURRENT_VALUE);var M=null;if(e!=null&&e.length>0){M=actuate.parameter.Utility.getNodeTextData(e[0]);this._paramDef.setCurrentValue(M);}var d=S.getElementsByTagName(actuate.parameter.Constants.CURRENT_VALUE_IS_NULL);var R=null;if(d!=null&&d.length>0){R=actuate.parameter.Utility.getNodeTextData(d[0]);R=actuate.parameter.Utility.isBooleanTrue(R);this._paramDef.setCurrentValueIsNull(R);}var C=S.getElementsByTagName(actuate.parameter.Constants.IS_REQUIRED);if(C&&C.length>0){N=actuate.parameter.Utility.isBooleanTrue(actuate.parameter.Utility.getNodeTextData(C[0]));this._paramDef.setIsRequired(N);}var L=S.getElementsByTagName(actuate.parameter.Constants.IS_PASSWORD);if(L&&L.length>0){N=actuate.parameter.Utility.isBooleanTrue(actuate.parameter.Utility.getNodeTextData(L[0]));this._paramDef.setIsPassword(N);}var X=S.getElementsByTagName(actuate.parameter.Constants.IS_HIDDEN);if(X&&X.length>0){N=actuate.parameter.Utility.isBooleanTrue(actuate.parameter.Utility.getNodeTextData(X[0]));this._paramDef.setIsHidden(N);}var A=S.getElementsByTagName(actuate.parameter.Constants.DISPLAY_NAME);if(A&&A.length>0){this._paramDef.setDisplayName(actuate.parameter.Utility.getNodeTextData(A[0]));}var O=S.getElementsByTagName(actuate.parameter.Constants.GROUP_PROMPT_TEXT);if(O&&O.length>0){this._paramDef.setGroupPromptText(actuate.parameter.Utility.getNodeTextData(O[0]));}var H=S.getElementsByTagName(actuate.parameter.Constants.START_EXPANDED);if(H&&H.length>0){N=actuate.parameter.Utility.isBooleanTrue(actuate.parameter.Utility.getNodeTextData(H[0]));this._paramDef.setStartExpanded(N);}var a=S.getElementsByTagName(actuate.parameter.Constants.IS_ADHOC);if(a&&a.length>0){N=actuate.parameter.Utility.isBooleanTrue(actuate.parameter.Utility.getNodeTextData(a[0]));this._paramDef.setIsAdHoc(N);if(N==true){var E=S.getElementsByTagName(actuate.parameter.Constants.CURRENT_ADHOC_VALUE_LIST);if(E&&E.length>0){this._currentAdhocValueArray=this.breakDownSelectValueList(E);this._paramDef.setDefaultValueList(this._currentAdhocValueArray);}}}var P=S.getElementsByTagName(actuate.parameter.Constants.CONTROL_TYPE);if(P&&P.length>0){this._paramDef.setControlType(actuate.parameter.Utility.getNodeTextData(P[0]));}var K=S.getElementsByTagName(actuate.parameter.Constants.COLUMN_NAME);if(K&&K.length>0){this._paramDef.setColumnName(actuate.parameter.Utility.getNodeTextData(K[0]));}var l=S.getElementsByTagName(actuate.parameter.Constants.COLUMN_TYPE);if(l&&l.length>0){this._paramDef.setColumnType(actuate.parameter.Utility.getNodeTextData(l[0]));}var Q=S.getElementsByTagName(actuate.parameter.Constants.DATA_SOURCE_TYPE);if(Q&&Q.length>0){this._paramDef.setDataSourceType(actuate.parameter.Utility.getNodeTextData(Q[0]));}var f=S.getElementsByTagName(actuate.parameter.Constants.CASCADING_PARENT_NAME);if(f&&f.length>0){this._paramDef.setCascadingParentName(actuate.parameter.Utility.getNodeTextData(f[0]));}var B=S.getElementsByTagName(actuate.parameter.Constants.GROUP_NAME);if(B&&B.length>0){this._paramDef.setGroup(actuate.parameter.Utility.getNodeTextData(B[0]));}var D=S.getElementsByTagName(actuate.parameter.Constants.SELECT_NAME_VALUE_LIST);if(D&&D.length>0){this.breakDownNameValueList(D);this._paramDef.setSelectNameValueList(this._nameValuePairArray);}var c=S.getElementsByTagName(actuate.parameter.Constants.SELECT_VALUE_LIST);if(c&&c.length>0){this._valueListArray=this.breakDownSelectValueList(c);this._paramDef.setSelectValueList(this._valueListArray);}var F=S.getElementsByTagName(actuate.parameter.Constants.OPERATOR_LIST);if(F&&F.length>0){var I=this.breakDownSelectValueList(F);this._paramDef.setOperatorList(I);}var J=S.getElementsByTagName(actuate.parameter.Constants.HELP_TEXT);if(J&&J.length>0){this._paramDef.setHelpText(actuate.parameter.Utility.getNodeTextData(J[0]));}var W=S.getElementsByTagName(actuate.parameter.Constants.IS_VIEW_PARAMETER);if(W&&W.length>0){N=actuate.parameter.Utility.isBooleanTrue(actuate.parameter.Utility.getNodeTextData(W[0]));this._paramDef.setIsViewParameter(N);}var V=S.getElementsByTagName(actuate.parameter.Constants.IS_DYNAMIC_SELECTION_LIST);if(V&&V.length>0){N=actuate.parameter.Utility.isBooleanTrue(actuate.parameter.Utility.getNodeTextData(V[0]));this._paramDef.setIsDynamicSelectionList(N);}var Y=S.getElementsByTagName(actuate.parameter.Constants.AUTO_SUGGEST_THRESHOLD);if(Y&&Y.length>0){this._paramDef.setAutoSuggestThreshold(actuate.parameter.Utility.getNodeTextData(Y[0]));}var b=S.getElementsByTagName(actuate.parameter.Constants.CURRENT_DISPLAY_NAME);if(b&&b.length>0){this._paramDef.setCurrentDisplayName(actuate.parameter.Utility.getNodeTextData(b[0]));}},breakDownNameValueList:function(A){this._nameValuePairArray=new Array();var E=A[0].getElementsByTagName(actuate.parameter.Constants.NAME_VALUE_PAIR);if(E&&E.length>0){for(var B=0;B<E.length;B++){var C=new actuate.parameter.NameValuePair();var D=E[B].getElementsByTagName(actuate.parameter.Constants.NAME);if(D[0].getAttribute("xsi:nil")){C.setName(null);}else{C.setName(actuate.parameter.Utility.getNodeTextData(D[0]));}var F=E[B].getElementsByTagName(actuate.parameter.Constants.VALUE);if(F[0].getAttribute("xsi:nil")){C.setValue(null);}else{C.setValue(actuate.parameter.Utility.getNodeTextData(F[0]));}this._nameValuePairArray.push(C);}}},breakDownSelectValueList:function(A){var D=new Array();var B=A[0].getElementsByTagName(actuate.parameter.Constants.STRING);if(B&&B.length>0){for(var C=0;C<B.length;C++){if(B[C].getAttribute("xsi:nil")){D.push(null);}else{D.push(actuate.parameter.Utility.getNodeTextData(B[C]));}}}return D;}};actuate.util.Package.define("actuate.parameter");actuate.parameter.ParameterValue=actuate.Class.create();actuate.parameter.ParameterValue.prototype={_group:null,_name:null,_displayName:null,_position:null,_value:null,_promptParameter:null,_tableValue:null,_dataSourceType:null,_isViewParameter:null,_valueIsNull:null,_dataType:null,_columnName:null,_controlType:null,_operator:null,_valueArray:null,_isRequired:null,_isMultiList:null,_columnType:null,getGroup:function(){return this._group;},setGroup:function(A){this._group=A;},getName:function(){return this._name;},setName:function(A){this._name=A;},getDisplayName:function(){return this._displayName;},setDisplayName:function(A){this._displayName=A;},getPosition:function(){return this._position;},setPosition:function(A){this._position=A;},getValue:function(){return this._value;},setValue:function(A){this._value=A;},getPromptParameter:function(){return this._promptParameter;},setPromptParameter:function(A){this._promptParameter=A;},setControlType:function(A){this._controlType=A;},getControlType:function(){return this._controlType;},getTableValue:function(){return this._tableValue;},setTableValue:function(A){this._tableValue=A;},getDataSourceType:function(){return this._dataSourceType;},setDataSourceType:function(A){this._dataSourceType=A;},isViewParameter:function(){return this._isViewParameter;},setIsViewParameter:function(A){this._isViewParameter=A;},getValueIsNull:function(){return this._valueIsNull;},setValueIsNull:function(A){this._valueIsNull=A;},getDataType:function(){return this._dataType;},setDataType:function(A){this._dataType=A;},getColumnName:function(){return this._columnName;},setColumnName:function(A){this._columnName=A;},getColumnType:function(){return this._columnType;},setColumnType:function(A){this._columnType=A;},setOperator:function(A){this._operator=A;},getOperator:function(){return this._operator;},setValueArray:function(A){this._valueArray=A;},getValueArray:function(){return this._valueArray;},isRequired:function(){return this._isRequired;},setIsRequired:function(A){this._isRequired=A;},isMultiList:function(){return this._isMultiList;},setIsMultiList:function(A){this._isMultiList=A;}};actuate.util.Package.define("actuate.parameter");actuate.parameter.Utility={_timerMap:new Object(),_updateForm:false,checkIfGroupHasParameter:function(C,A){for(var B=0;B<C.length;B++){if(C[B].getName().toUpperCase()==A.toUpperCase()){return B;}}return -1;},isDateTimeTypeControl:function(A){if(A.getControlType()==null&&(A.getDataType()==actuate.parameter.Constants.DATE||A.getDataType()==actuate.parameter.Constants.DATE_ONLY||A.getDataType()==actuate.parameter.Constants.TIME)){return true;}else{return false;}},getChildParameterDefinitions:function(E,G){var D=null;var A=new Array();var F=G.getName();if(E==null||G==null){return null;}if(G!=null){for(var C=0;C<E.length;C++){if(E[C].getCascadingParentName()!=null&&E[C].getCascadingParentName()==F){A.push(E[C]);F=E[C].getName();}}}if(A!=null&&A.length>0){D=new Array();for(var B=0;B<A.length;B++){D.push(A[B]);}}return D;},getMapFromParameterVals:function(A){var C=new Object();if(A!=null){for(var B=0;B<A.length;B++){C[A[B].getName()]=A[B].getValue();}}return C;},hasCascadingChildren:function(A,C){var B=actuate.parameter.Utility.getChildParameterDefinitions(A,C);if(B!=null){return true;}return false;},isCascadingMultiList:function(D,A){if(!A){var B=D.isAdHoc();var C=D.getCascadingParentName();if(C!=null&&C!=""&&B){return true;}}return false;},isNoValueSupported:function(A,E,D){var C=actuate.parameter.Utility.getFileExtension(E);var B=true;if("ROX"==C.toUpperCase()||"ROI"==C.toUpperCase()){B=false;}if(A.isAdHoc()==false&&D!=true&&(A.isRequired()==null||A.isRequired()==false)&&B==true){return true;}return false;},isMultiListControl:function(D){var A=false;var C=D.getControlType();var B=D.isAdHoc();if(C==null||C==""){if((D.getSelectNameValueList()!=null||D.getSelectValueList()!=null)&&B){A=true;}}return A;},isPartOfSelectList:function(E,A){var B=E.options;var D=false;for(var C=0;C<B.length;C++){if(A==B[C].text){D=true;B[C].selected=true;break;}}return D;},setParameterValue:function(C,D,A,B){C.setValue(D);C.setValueIsNull(A);C.setName(B.getName());if(!A){C.setDisplayName(this._getValueDisplayText(D,B));}C.setDataType(B.getDataType());C.setColumnType(B.getColumnType());C.setColumnName(B.getColumnName());return C;},_getValueDisplayText:function(C,B){var D=B.getSelectNameValueList();if(D&&D.length>0){for(var A=0;A<D.length;A++){if(C==D[A].getValue()){return D[A].getName();}}}return null;},overwritePDs:function(E,D){if(E){for(var C=0;C<E.length;C++){var B=E[C];var A=this._getPDToOverwrite(B,D);if(A){this._overwritePDWithCustomProperties(B,A);}}}return E;},_getPDToOverwrite:function(B,D){if(D){for(var C=0;C<D.length;C++){var A=D[C];if(B.getName()==A.getName()){return A;}}}return null;},_overwritePDWithCustomProperties:function(C,B){var A=B.getDefaultValue();if(A!=null&&typeof (A)!="undefined"){C.setDefaultValue(A);}C.setDefaultValueIsNull(B.getDefaultValueIsNull());if(!C.isHidden()){C.setIsHidden(B.isHidden());}C.setCurrentValue(B.getCurrentValue());C.setCurrentValueIsNull(B.getCurrentValueIsNull());},startTimer:function(A){if(typeof (profLog)=="function"){this._timerMap[A]=new Date();profLog("Start timer : "+A);}},stopTimer:function(B){if(typeof (profLog)=="function"){var C=new Date();var D=C.getTime()-this._timerMap[B].getTime();C.setTime(D);var A=(C.getSeconds()*1000)+C.getMilliseconds();profLog("Stop timer : "+B+". Elapsed (ms)= "+A);}},showProgressIndicator:function(D,A,C){if(D==null){D=document.createElement("DIV");D.id="progress_animation_"+A;D.className="progress_animation";var B='<img src="'+C+actuate.parameter.Constants.LOC_IMG_PROGRESS_ANIMATION+'"/>';D.innerHTML=B;var E=document.getElementById(A);E.innerHTML="";E.appendChild(D);}D.style.display="block";return D;},hideProgressIndicator:function(A){if(A!=null){A.style.display="none";}},isIE6:function(){return((window.XMLHttpRequest==undefined)&&(ActiveXObject!=undefined));},createElementWithName:function(B,A){return actuate.Method.tryThese(function(){return document.createElement("<"+B+' name="'+A+'" />');},function(){var C=document.createElement(B);C.setAttribute("name",A);return C;});},getValueByTagName:function(C,B){if(!C.childNodes){return null;}var D=C.getElementsByTagName(B);var A=(D&&D.length>0&&D[0].firstChild)?D[0].firstChild.data:null;return A;},createOptionTagEx:function(F,B,D,G,A){var E=F.createElement("OPTION");E.value=D;E.title=G;E.valueIsNull=A;var C=F.createTextNode(B);E.appendChild(C);return E;},createOptionTag:function(E,F,B,C,A){var D=actuate.parameter.Utility.createOptionTagEx(E,B,C,B,A);F.appendChild(D);},sendSoapMessage:function(H,F,I,B,E,D){var G=this._createSoapBody(F);var J=this._createSoapHeader(D);var A=this._createSoapEnvelope(J+G);var C=new Object();C["Content-type"]="text/xml; charset=utf-8";C["SOAPAction"]='""';C["request-type"]=(E==true)?"SOAP-INT":"SOAP";C["ac-update-form"]=(this.getUpdateForm()==false)?"false":"true";H.send(A,C,I,B);},_createSoapHeader:function(B){if(actuate.parameter.Utility.isEmpty(B)){B="";}var A="<soapenv:Header>"+B+"</soapenv:Header>";return A;},_createSoapBody:function(A){var B="<soapenv:Body>"+A+"</soapenv:Body>";return B;},_createSoapEnvelope:function(A){var B="<soapenv:Envelope "+actuate.parameter.Constants.XMLNS_SOAPENV+actuate.parameter.Constants.XMLNS_XSD+actuate.parameter.Constants.XMLNS_XSI+">";B+=A;B+="</soapenv:Envelope>";return B;},getNameFromSoap:function(A){if(A==null){return"noName";}var B=A.match(/<(Get\S+)\s/g);if(B==null){return"noName";}else{return B[0];}},getNodeTextData:function(A){if(!A){return"";}if(typeof (A.textContent)!="undefined"){return A.textContent;}if(A.firstChild){return A.firstChild.nodeValue;}return"";},trim:function(A){if(A==""){return A;}return A.replace(/^\s*/,"").replace(/\s*$/,"");},endsWith:function(A,B){if(!A){return false;}return(A.match(B+"$")==B);},removeQuotes:function(C){var B=C.indexOf('"');var A=C.lastIndexOf('"');return C.substring(B+1,A);},isEmpty:function(A){if(A==null||A==undefined||typeof A=="undefined"){return true;}if(typeof A=="number"||typeof A=="boolean"){return false;}else{if(typeof A=="string"){if(actuate.parameter.Utility.trim(A)==""){return true;}}else{if(typeof A=="object"){for(var B in A){if(A.hasOwnProperty(B)){return false;}}return true;}}}return false;},inArray:function(C,A){if(A!=null&&A.length>0){for(var B=0;B<A.length;B++){if(C==A[B]){return true;}}}return false;},isBooleanTrue:function(B){if(!actuate.parameter.Utility.isEmpty(B)){if(typeof B=="boolean"){return B;}var A=actuate.parameter.Utility.trim(""+B);if(A.toLowerCase()=="true"){return true;}}return false;},appendClassName:function(C,B){var A=C;if(C&&B&&C.length>0){A=C+" "+B;}else{if(B){A=B;}}return A;},removeClassName:function(E,B){var A="";if(E){var D=E.split(" ");for(var C=0;C<D.length;C++){if(A!=""){A+=" ";}if(D[C]!=B){A+=D[C];}}}return A;},removeInputTextColorClass:function(A){return this.removeClassName(A,"inputTextColor");},prependInputClassName:function(A){if(A&&A.type){var B=A.type+" "+actuate.parameter.Utility.removeInputTextColorClass(A.className);if(A.type=="text"){B+=" inputTextColor";}A.className=B;}},xmlEscape:function(B){if(!B){return B;}if(typeof (B)!="string"){return B;}var A=B;A=A.replace(/\&/g,"&amp;");A=A.replace(/</g,"&lt;");A=A.replace(/>/g,"&gt;");A=A.replace(/\"/g,"&quot;");A=A.replace(/\'/g,"&apos;");return A;},escapeQuotesInValues:function(B){if(B&&typeof (B)=="object"){for(var A=0;A<B.length;A++){var C=B[A];if(C.length>0){B[A]=C.replace(/\"/g,'\\"');}}}else{if(B.length>0){B=B.replace(/\"/g,'\\"');}}return B;},unEscapeQuotesInValues:function(B){if(B&&typeof (B)=="object"){for(var A=0;A<B.length;A++){var C=B[A];if(C.length>0){B[A]=C.replace(/\\\"/g,'"');}}}else{if(B!=null&&B.indexOf('\\"')>-1){B=B.replace(/\\\"/g,'"');}}return B;},getFilterBREValue:function(A,D){var B=D.getColumnName();var C=D.getColumnType();return this.getFilterBREValueObject(A,B,C);},createFilterValueId:function(B){var C=new Array();var A=B+actuate.parameter.Constants.FILTER_VALUE_1_SUFFIX;C.push(A);A=B+actuate.parameter.Constants.FILTER_VALUE_2_SUFFIX;C.push(A);return C;},getFilterBREValueObject:function(C,B,K){var E=C.value;var D=new actuate.parameter.ParameterValue();D.setOperator(E);D.setColumnName(B);D.setColumnType(K);var M=this.createFilterValueId(C.id);var L=M[0];var H=document.getElementById(L);var A=M[1];var F=document.getElementById(A);var I=null;var G=null;if(H){if(H.multiple==true){I=this.getMultiListControlValueArray(H);}else{I=this.checkIfComboboxAndGetValue(L,H);}}if(F){G=this.checkIfComboboxAndGetValue(A,F);}var J=new Array();if(I!=null){J.push(I);}if(G!=null){J.push(G);}D.setValueArray(J);return D;},getLocalizedOperatorList:function(G,D){var F=actuate.parameter.ResourceBundle.getFilterOperatorsMap();var C=new Array();if(!D){var B=F[""];var E=new actuate.parameter.NameValuePair(B,"");C.push(E);}for(var A=0;A<G.length;A++){var B=F[G[A]];var E=new actuate.parameter.NameValuePair(B,G[A]);C.push(E);}return C;},getFilterOperatorMap:function(){var A=new actuate.util.HashMap();A.put("=","eq");A.put("<>","ne");A.put("<","lt");A.put("<=","le");A.put(">","gt");A.put(">=","ge");A.put("BETWEEN","between");A.put("NOTBETWEEN","not-between");A.put("ISNULL","is-null");A.put("NOTISNULL","is-not-null");A.put("NOTNULL","is-not-null");A.put("IN","in");A.put("NOTIN","not-in");A.put("LIKE","like");A.put("NOTLIKE","not-like");A.put("ISTOPN","is-top-n");A.put("ISBOTTOMN","is-bottom-n");A.put("ISTOPNPERCENT","is-top-percent");A.put("ISBOTTOMNPERCENT","is-bottom-percent");A.put("MATCH","match");A.put("NOTMATCH","not-match");A.put("ISTRUE","is-true");A.put("ISFALSE","is-false");return A;},getMultiListControlValueArray:function(A){var C="";for(var B=0;B<A.options.length;B++){if(A.options[B].selected==true){if(C.length==0){C=new Array();}if(A.options[B].valueIsNull){C.push(null);}else{C.push(A.options[B].value);}}}return C;},getDisplayTypeAndRequiredString:function(A,G,I,B,D,F,H){var E=this.getDisplayType(A,G,I,B,D,F,H);var C=this.displayRequiredString(A,D,F);var J="";if(C==true&&E!=null){J=actuate.parameter.ResourceBundle.getMessage("LBL_REQUIRED_WITHPARAMTYPE",new Array(E));}else{if(C==true&&E==null){J=actuate.parameter.ResourceBundle.getMessage("LBL_REQUIRED_NOPARAMTYPE");}else{if(C==false&&E!=null){J="("+E+")";}}}return J;},getParamHintText:function(G,B,C,F,D,A){var E=this.getDisplayType(G,B,C,F,D,A);return"("+E+")";},OKToAddDisplayType:function(A){if(A==null){return true;}if(A.length<=0){return true;}if(A.toUpperCase()==actuate.parameter.Constants.AUTOSUGGEST.toUpperCase()){return true;}if(A.toUpperCase()=="ControlListAllowNew".toUpperCase()){return true;}return false;},getDisplayType:function(A,I,K,B,D,H,J){var G=null;var C=null;if(this.OKToAddDisplayType(A)){var F=(A&&(A.toUpperCase()=="ControlListAllowNew".toUpperCase()));var E=I;if(actuate.parameter.Constants.DATE.toUpperCase()==I.toUpperCase()){if(F){E=actuate.parameter.ResourceBundle.getPattern("DATE_SHORT");}G=B==true?K:E;G+=" "+actuate.parameter.ResourceBundle.getPattern("TIME_LONG");}else{if(actuate.parameter.Constants.DATE_ONLY.toUpperCase()==I.toUpperCase()){E=actuate.parameter.Constants.DATE;if(F){E=actuate.parameter.ResourceBundle.getPattern("DATE_SHORT");}G=B==true?K:E;}else{if(actuate.parameter.Constants.TIME.toUpperCase()==I.toUpperCase()){G=actuate.parameter.ResourceBundle.getPattern("TIME_LONG");}else{G=B==true?K:E;}}}}return G;},displayRequiredString:function(D,C,B){var A=C;if(C==true&&D!=null&&D.length!=0){if(D=="ControlListAllowNew"||(D=="ControlRadioButton"&&(B==null||B.length==0))||(D=="ControlList")){A=C;}else{A=false;}}return A;},isNotEditable:function(C){var B=actuate.parameter.Utility.getFileExtension(C);var A=B.toLowerCase();if(A=="rptdocument"||A=="bizdocument"){return true;}else{return false;}},generateAdHocMenu:function(){var A="<table class='adHocMenu'>";var C=actuate.parameter.ResourceBundle.getAdHocParamMap();for(var B in C){A+="<tr><td id='"+B+"' class='adHocItem'>"+C[B]+"</td></tr>";}A+="</table>";return A;},highlightRequiredParameter:function(A,C,B){if(C==null||C==""){if(A.className){A.className=A.className+" "+B;}else{A.className=B;}}},getCorrectDateElementToHighlight:function(B){var A=null;if(actuate.parameter.Utility.endsWith(B.id,".date")){A=document.getElementById(B.id.substring(0,B.id.indexOf(".date")));}else{if(actuate.parameter.Utility.endsWith(B.id,".time")){A=document.getElementById(B.id.substring(0,B.id.indexOf(".time")));}}return A;},getNullValueCheckBoxId:function(A){return"__isnull"+A;},nullValueSelected:function(A,C,B){if(A.type.toLowerCase()=="text"){A.savedValue=A.value;A.value="";if(A.hintTextAdded==true){A.savedValueIsHint=A.valueIsHint;A.valueIsHint=false;A.savedClickHintText=A.clickHintText;A.clickHintText=false;A.savedBlurClicked=A.blurClicked;A.blurClicked=false;}if(C=="AutoSuggest"){B.updateDefaultValue("");}}else{if(A.type.toLowerCase()=="select-one"){A.savedValue=A.value;A.savedSelectedIndex=A.selectedIndex;A.selectedIndex=-1;}else{if(A.type=="checkbox"){A.saveChecked=A.checked;A.savedValue=A.value;A.checked=false;}}}A.savedTitle=A.title;A.title="";A.valueIsNull=true;},nullValueUnselected:function(A,C,B){if(A.type=="text"){A.value=A.savedValue;if(A.hintTextAdded==true){A.clickHintText=A.savedClickHintText;A.savedClickHintText=null;A.valueIsHint=A.savedValueIsHint;A.savedValueIsHint=null;A.blurClicked=A.savedBlurClicked;A.savedBlurClicked=null;if(actuate.parameter.Utility.trim(A.value)==""&&A.id.indexOf("txt")==-1){A.value=A.hintText;A.className=A.hintClassName;A.valueIsHint=true;}}A.clickHintText=false;A.blurClicked=false;if(C=="AutoSuggest"){B.updateDefaultValue(A.value);}}else{if(A.type=="select-one"){A.selectedIndex=A.savedSelectedIndex;A.savedSelectedIndex=-1;}else{if(A.type=="checkbox"){A.checked=A.saveChecked;A.value=A.savedValue;}}}A.title=A.savedTitle;A.savedValue="";A.valueIsNull=false;},checkIfComboboxAndGetValue:function(D,A){var C="";var B=document.getElementById("txt"+D);if(typeof (B)!="undefined"&&B!=null&&!this.isPartOfSelectList(A,B.value)){C=B.value;}else{C=A.value;}return C;},onMultiListClick:function(B,D){var C=actuate.util.Event.element(D);if(!C){return ;}if(D.ctrlKey){if(B.isRequired&&B.value==""){if(B.isDynamicFilter){var E=document.getElementById(B.filterTableId);if(E){actuate.parameter.Utility.highlightRequiredParameter(E,"","highlightRequiredParameters");}}else{var A=document.getElementById("paramAdHocColumn"+B.id);if(A){actuate.parameter.Utility.highlightRequiredParameter(A,"","highlightRequiredParameters");}}}else{return ;}}else{if(B.isRequired&&B.value!=""){if(B.isDynamicFilter){var E=document.getElementById(B.filterTableId);if(E){E.className=actuate.parameter.Utility.removeClassName(E.className,"highlightRequiredParameters");}}else{var A=document.getElementById("paramAdHocColumn"+B.id);if(A){A.className=actuate.parameter.Utility.removeClassName(A.className,"highlightRequiredParameters");}}}}},_clearRadioValue:function(A){var C=document.getElementsByName(A.id);var E=null;var D=-1;for(var B=0;B<C.length;B++){if(C[B].checked){C[B].checked=false;D=B;break;}}return D;},_setRadioValue:function(A,D){var B=null;if(D>-1){var C=document.getElementsByName(A.id);C[D].checked=true;B=C[D].value;}return B;},createException:function(A){return actuate.util.Utility.createException(A);},isReportDocument:function(B){var A=actuate.parameter.Utility.getFileExtension(B);if(A.toLowerCase()=="rptdocument"||A.toLowerCase()=="bizdocument"){return true;}else{return false;}},getFileExtension:function(D){if(actuate.parameter.Utility.isEmpty(D)){return"";}var A=D.lastIndexOf(";");if(A!=-1){D=D.substr(0,A);}var B=D.lastIndexOf(".");if(B==-1){return"";}var C=D.substr(B+1,D.length);return C;},toggleCollapsibleGroup:function(K,F,N,E){var B=document.getElementById(K);var M=B.parentNode;var C=M.parentNode;var Q=C.nextSibling;var S=K.lastIndexOf(".");var P=K.lastIndexOf("_");var R=K.substring(P+1,S);var G=parseInt(R);var A=this._paramDefinitionObjects[G];var I=null;if(A){I=A.getGroup();}for(var O=G;O<this._paramDefinitionObjects.length;O++){var T=this._paramDefinitionObjects[O];var H=T.getGroup();if(H==I){var D=Q.childNodes;if(D!=null){for(var L=0;L<D.length;L++){var J=D[L];if(N){if(E){J.style.display="";}else{J.style.display="none";}}else{if(J.style.display=="none"){J.style.display="";B.src=F+actuate.parameter.Constants.LOC_IMG_EXPANDED;B.expanded=true;}else{J.style.display="none";B.src=F+actuate.parameter.Constants.LOC_IMG_COLLAPSED;B.expanded=false;}}window.setTimeout(actuate.Method.bind(this._resizeControls,this));}}}if(Q.nextSibling!=null){Q=Q.nextSibling;}}},setUpdateForm:function(A){this._updateForm=A;},getUpdateForm:function(){return this._updateForm;}};actuate.util.Package.define("actuate.parameter.impl");actuate.parameter.impl.AutoSuggestControl=actuate.Class.create();actuate.parameter.impl.AutoSuggestControl.prototype={_htmlInstance:null,_htmlInstanceActualValue:null,_autoHtmlInstance:null,_autoHtmlNavUp:null,_autoHtmlNavDown:null,_autoSuggestThreshold:1,_autoSuggestDelay:500,_autoSuggestFetchSize:-1,_autoSuggestListSize:-1,_autoSuggestStartIndex:-1,_curListElement:null,_startingIndex:0,_endingIndex:0,_totalCount:0,_suggestions:null,_eligible:null,_noSuggestionMsgString:null,_inputText:null,_actualValue:null,_baseInputText:null,_highlighted:-1,_className:null,_BACKSPACE:8,_TAB:9,_ENTER:13,_ESC:27,_KEYUP:38,_KEYDN:40,_NAV_PREVIOUS_ID:"previousItem",_NAV_SEPARATOR_ID:"navseparatorItem",_NAV_CONTAINER_ID:"navcontainerItem",_NAV_NEXT_ID:"nextItem",_NAV_ID:"navcontainer",_UNORDERED_LIST_ID:"ulcontainer",_FOOTER_ID:"footercontainer",_SUGGESTION_WRAPPER_ID:"suggestioncontainer",_startTimeDelay:0,_timer:null,_readOnly:false,_eventFramework:null,_defaultValue:null,_pickList:null,_iportalURL:null,_mainContainerID:null,_hideDivTimer:null,initialize:function(D,I,B,C,G,F,A,H,E){this._iportalURL=A;this._eventFramework=D;this._defaultValue=G;this._className=F;this._mainContainerID=H;this.__init_htmlContent(I,B,C,F);this._autoHtmlWrapper=E;this._autoHtmlInstance=E.children[0];actuate.util.Event.observe(this._autoHtmlInstance,"blur",actuate.Method.bind2(this._hideAutoSuggestList,this,"autoHtmlInstance"));actuate.util.Event.observe(this._autoHtmlWrapper,"blur",actuate.Method.bind2(this._hideAutoSuggestList,this,"wrapper"));actuate.util.Event.observe(window,"resize",actuate.Method.bindAsEventListener(this._initSuggestionDivLocation,this),false);},__init_htmlContent:function(C,A,D,B){this._htmlInstance=document.createElement("INPUT");this._htmlInstance.name=D;this._htmlInstance.id=D;this._htmlInstance.className=B;this._htmlInstance.type="text";this._htmlInstance.style.width="100%";actuate.parameter.Utility.prependInputClassName(this._htmlInstance);this._className=this._htmlInstance.className;this._htmlInstanceActualValue=document.createElement("INPUT");this._htmlInstanceActualValue.name=D+"_hiddenauto";this._htmlInstanceActualValue.id=D+"_hiddenauto";this._htmlInstanceActualValue.type="hidden";this._htmlInstance.setAttribute("autocomplete","off");C.appendChild(this._htmlInstance);C.appendChild(this._htmlInstanceActualValue);this._eligible=new Array();this._inputText=null;this._highlighted=-1;actuate.util.Event.observe(this._htmlInstance,"keyup",actuate.Method.bindAsEventListener(this._onkeyup,this));actuate.util.Event.observe(this._htmlInstance,"keydown",actuate.Method.bindAsEventListener(this._onkeydown,this));actuate.util.Event.observe(this._htmlInstance,"dblclick",actuate.Method.bindAsEventListener(this._onDoubleClick,this));actuate.util.Event.observe(this._htmlInstance,"blur",actuate.Method.bind2(this._hideAutoSuggestList,this,"htmlInstance"));},getHtmlInstance:function(){return this._htmlInstance;},_initSuggestionHTML:function(H){if(this.showNavigation()){var L=document.createElement("table");L.cellPadding="0";L.cellspacing="0";L.id=this._SUGGESTION_WRAPPER_ID;var M=L.insertRow(-1);var N=M.insertCell(-1);var K=M.insertCell(-1);var D=document.createElement("table");D.cellPadding="0";D.cellspacing="0";D.id=this._NAV_CONTAINER_ID;var C=D.insertRow(-1);var F=D.insertRow(-1);var J=D.insertRow(-1);var A=C.insertCell(-1);var E=J.insertCell(-1);var I=F.insertCell(-1);I.id=this._NAV_SEPARATOR_ID;var G=document.createElement("a");G.href="javascript:false";this._autoHtmlNavUp=document.createElement("IMG");this._autoHtmlNavUp.src=this._iportalURL+actuate.parameter.Constants.LOC_IMG_UP_OFF;this._autoHtmlNavUp.id=this._NAV_PREVIOUS_ID;this._autoHtmlNavUp.className="up";G.appendChild(this._autoHtmlNavUp);actuate.util.Event.observe(G,"click",actuate.Method.bind(this._onPreviousEvent,this));var B=document.createElement("a");B.href="javascript:false";this._autoHtmlNavDown=document.createElement("IMG");this._autoHtmlNavDown.src=this._iportalURL+actuate.parameter.Constants.LOC_IMG_DOWN;this._autoHtmlNavDown.id=this._NAV_NEXT_ID;this._autoHtmlNavDown.className="up";B.appendChild(this._autoHtmlNavDown);actuate.util.Event.observe(B,"click",actuate.Method.bind(this._onNextEvent,this));A.appendChild(G);E.appendChild(B);K.className="navigation";K.id=this._NAV_ID;K.appendChild(D);N.className="listcontent";N.id=this._UNORDERED_LIST_ID;N.appendChild(H);return L;}return H;},_hideSuggestionListAndUpdateValue:function(){this._hideDiv();this.updateDefaultValue(this._htmlInstance.value);},_checkTimeOutHideSuggestionList:function(){if(this._hideDivTimer){this._hideSuggestionListAndUpdateValue();}},_hideAutoSuggestList:function(A,C){if(this._isAutoSuggestListGainingFocus(C)==false){if(actuate.util.browser.isChrome||actuate.util.browser.isSafari||actuate.util.browser.isIPad){this.clearHideDivTimer();this._hideDivTimer=window.setTimeout(actuate.Method.bind(this._checkTimeOutHideSuggestionList,this),200);return ;}if(actuate.util.browser.isIPod||actuate.util.browser.isIPhone){if(this._highlighted>-1){if(this._eligible!=null){var B=this._eligible[this._highlighted];this._htmlInstance.value=B.getName();}}}this._hideSuggestionListAndUpdateValue();}},clearHideDivTimer:function(){if(this._hideDivTimer){window.clearTimeout(this._hideDivTimer);this._hideDivTimer=null;}},setAutoSuggestThreshold:function(A){this._autoSuggestThreshold=A;},showNavigation:function(){var B=false;var A=this._autoSuggestListSize;if(A>0){B=true;}if(this._autoSuggestListSize==this._autoSuggestFetchSize||(this._eligible&&this._eligible.length<=this._autoSuggestListSize)){B=false;}return B;},calculateListSize:function(B){var A=this._autoSuggestListSize;if(A<=0){A=this._autoSuggestFetchSize;if(A<=0){A=B;}}return A;},setAutoSuggestListSize:function(A){this._autoSuggestListSize=A;},setAutoSuggestFetchSize:function(A){this._autoSuggestFetchSize=A;},setAutoSuggestDelay:function(A){this._autoSuggestDelay=A;},getSuggestions:function(){return this._suggestions;},setSuggestions:function(A){this._suggestions=A;},setIncrementalSuggestions:function(A,B){this._totalCount=B;if(this._suggestions==null){this._startingIndex=0;this._autoSuggestStartIndex=0;this._suggestions=A;}else{for(var C=0;C<A.length;C++){this._suggestions.push(A[C]);}}},updateDefaultValue:function(A){var C="";var D="";if(typeof (A)=="string"){D=A;C=A;if(this._eligible!=null){for(i=0;i<this._eligible.length;i++){var B=this._eligible[i].getName();if(B!=null&&(B==D)){C=this._eligible[i].getValue();break;}}}}else{if(A!=null){C=A.getValue();D=A.getName();}}this._htmlInstance.value=D;this._htmlInstance.actualValue=C;this._inputText=D;this._htmlInstance.title=D;if(this._htmlInstance.valueIsHint!=true){this._htmlInstanceActualValue.value=C;this._actualValue=C;}},_setReadOnly:function(A){if(this._htmlInstance){this._htmlInstance.disabled=A;}this._readOnly=A;},_onkeydown:function(B){var A=B.keyCode;switch(A){case this._TAB:this._useSuggestion();break;case this._ENTER:this._onSuggestClick("enterKeyDown",B);break;case this._ESC:this.updateDefaultValue(this._htmlInstance.value);this._hideDiv();break;case this._KEYUP:if(this._highlighted>0){this._highlighted--;}this._onPreviousEvent(B);break;case this._KEYDN:if(this._highlighted<(this._eligible.length-1)){this._highlighted++;}this._onNextEvent(B);break;}},_onkeyup:function(C){var A=C.keyCode;this._startTimeDelay=(new Date()).getTime();var B=this._startTimeDelay;switch(A){case this._TAB:case this._ESC:case this._KEYUP:case this._KEYDN:case this._ENTER:this._cancelEvent(C);break;default:this._uncheckNoValueCheckbox();this._toggleHighlightingRequiredParameter(C);this._timer=window.setTimeout(actuate.Method.bind2(this._onAutoSuggestDelay,this,B),this._autoSuggestDelay);if(actuate.util.browser.isChrome||actuate.util.browser.isSafari||actuate.util.browser.isIPad||actuate.util.browser.isAndroid){this.updateDefaultValue(this._htmlInstance.value);}break;}},_toggleHighlightingRequiredParameter:function(B){var A=null;if(B){A=actuate.util.Event.element(B);}else{A=this._htmlInstance;}var C=A.value;if(A.isRequired){if(C==""){actuate.parameter.Utility.highlightRequiredParameter(A,"","highlightRequiredParameters");}else{A.className=actuate.parameter.Utility.removeClassName(A.className,"highlightRequiredParameters");}}},_onDoubleClickDelay:function(A,B){if(A!=this._startTimeDelay){return ;}this._eligible=null;this._suggestions=null;this._fireSuggestionEvent(B,0,this._autoSuggestFetchSize);window.clearTimeout(this._timer);this._timer=null;},_onDoubleClick:function(C){this._uncheckNoValueCheckbox();this._startTimeDelay=(new Date()).getTime();var A=this._startTimeDelay;var B=actuate.util.Event.element(C);var D=B.value;if(D==""&&this._defaultValue!=null){D=this._defaultValue;}this._timer=window.setTimeout(actuate.Method.bind2(this._onDoubleClickDelay,this,A,D),this._autoSuggestDelay);this._cancelEvent(C);return false;},showSuggestions:function(A){this._showSuggestions(A,false,0);},showIncrementalSuggestions:function(A){this._showSuggestions(A,true,this._startingIndex);},_showSuggestions:function(B,A,C){this._htmlInstance.autoSuggestionListShown=true;this._getEligible(B,A,C);if(this._createDiv()){this._htmlInstance.title=this._htmlInstance.value;this._showDiv();}},_onAutoSuggestDelay:function(A){if(A!=this._startTimeDelay){return ;}this._inputText=this._htmlInstance.value;if(this._inputText==null||this._inputText.length<this._autoSuggestThreshold){this._eligible=null;this._suggestions=null;this._hideDiv();}else{this.showSuggestions(this._htmlInstance.value);}window.clearTimeout(this._timer);this._timer=null;},_useSuggestion:function(){if(this._highlighted>-1){if(this._eligible!=null){var A=this._eligible[this._highlighted];this._htmlInstance.value=A.getName();this.updateDefaultValue(A);this._toggleHighlightingRequiredParameter();}this._hideDiv();setTimeout("document.getElementById('"+this._htmlInstance.id+"').focus()",0);this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,this._htmlInstance.id);}},_showDiv:function(){this._initSuggestionDivLocation();this._autoHtmlInstance.style.display="block";},_initSuggestionDivLocation:function(){var A=this._getRelativeElementPosition(this._htmlInstance,this._autoHtmlWrapper.parentNode);this._autoHtmlWrapper.style.position="absolute";this._autoHtmlWrapper.style.zIndex=5000;this._autoHtmlWrapper.style.width=A.width+"px";var B=A.top+A.height;this._autoHtmlWrapper.style.top=B+"px";var C=A.left;this._autoHtmlWrapper.style.left=C+"px";},_getRelativeElementPosition:function(E,A){var F=E;var D=0;var C=0;while(E!=null){D+=E.offsetLeft;C+=E.offsetTop;try{if(A==E.offsetParent){break;}}catch(B){break;}E=E.offsetParent;}return{left:D,top:C,width:F.offsetWidth,height:F.offsetHeight};},_hideDiv:function(){this.clearHideDivTimer();this._htmlInstance.autoSuggestionListShown=false;this._autoHtmlInstance.style.display="none";this._highlighted=-1;},_initLIClassName:function(A,D,C,B){var E=(B>0&&((D<this._startingIndex)||(C>(B-1))))?true:false;if(E&&this.showNavigation()){A.className="hidden";return false;}else{if(this._highlighted==D){A.className="selected";this._curListElement=A;}else{A.className="";}}return true;},_changeHighlight:function(){var B=this._autoHtmlInstance.getElementsByTagName("LI");var E=this.calculateListSize(B.length);var D=0;for(var C=0;C<B.length;C++){var A=B[C];if(this._initLIClassName(A,C,D,E)){D+=1;}}},_attachSuggestionToHTML:function(B){this._curListElement=null;var A=this._initSuggestionHTML(B);if(this._autoHtmlInstance.firstChild==null){this._autoHtmlInstance.appendChild(A);}else{this._autoHtmlInstance.replaceChild(A,this._autoHtmlInstance.childNodes[0]);}},_createNoSuggestionList:function(){var C=document.createElement("ul");var A=document.createElement("li");var B=document.createElement("a");B.href="javascript:false";B.innerHTML=this._getNoSuggestionMsg();A.appendChild(B);C.appendChild(A);actuate.util.Event.observe(C,"mouseover",actuate.Method.bindAsEventListener(this._noop,this));actuate.util.Event.observe(C,"click",actuate.Method.bindAsEventListener(this._cancelOnClickEvent,this));return C;},_createSomeSuggestionList:function(){var F=this.calculateListSize(this._eligible.length);var E=document.createElement("ul");var D=0;for(var C=0;C<this._eligible.length;C++){var G=this._eligible[C].getName();var A=document.createElement("li");var B=document.createElement("a");B.href="javascript:false";B.innerHTML=G;A.appendChild(B);if(this._initLIClassName(A,C,D,F)){D+=1;}actuate.util.Event.observe(A,"click",actuate.Method.bind2(this._onSuggestClick,this,"liclick"));E.appendChild(A);}actuate.util.Event.observe(E,"mouseover",actuate.Method.bind(this._onSuggestMouseOver,this));actuate.util.Event.observe(E,"click",actuate.Method.bind2(this._onSuggestClick,this,"ulclick"));return E;},_onNextEvent:function(D){this.clearHideDivTimer();var C=D.keyCode;var A=this._autoHtmlInstance.getElementsByTagName("LI");var B=this.calculateListSize(A.length);var F=this._startingIndex+B;var E=true;if((F!=this._highlighted)&&C==this._KEYDN&&this.showNavigation()){E=false;if(this._highlighted<=0){this._highlighted=this._startingIndex;}}if(F<A.length&&E){this._startingIndex+=1;}this._changeHighlight();if(this._autoHtmlNavUp&&this._startingIndex!=0){this._autoHtmlNavUp.src=this._iportalURL+actuate.parameter.Constants.LOC_IMG_UP;}if(this._autoHtmlNavDown&&(F==A.length-1)){this._autoHtmlNavDown.src=this._iportalURL+actuate.parameter.Constants.LOC_IMG_DOWN_OFF;}this._htmlInstance.focus();this._cancelEvent(D);return false;},_onPreviousEvent:function(F){this.clearHideDivTimer();var E=F.keyCode;var B=this._autoHtmlInstance.getElementsByTagName("LI");var D=0;var C=this.calculateListSize(B.length);var A=true;if((this._startingIndex!=this._highlighted)&&E==this._KEYUP&&this.showNavigation()){A=false;}if(A){this._autoSuggestStartIndex-=1;this._startingIndex-=1;}if(this._startingIndex<0){this._startingIndex=0;}if(this._autoSuggestStartIndex<0){this._autoSuggestStartIndex=0;}this._changeHighlight();if(this._autoHtmlNavUp&&(this._startingIndex<=0)){this._autoHtmlNavUp.src=this._iportalURL+actuate.parameter.Constants.LOC_IMG_UP_OFF;}if(this._autoHtmlNavDown){if(C==B.length){this._autoHtmlNavDown.src=this._iportalURL+actuate.parameter.Constants.LOC_IMG_DOWN_OFF;}else{this._autoHtmlNavDown.src=this._iportalURL+actuate.parameter.Constants.LOC_IMG_DOWN;}}this._htmlInstance.focus();this._cancelEvent(F);return false;},_cancelOnClickEvent:function(A){this._hideDiv();this._htmlInstance.focus();this._cancelEvent(A);return false;},_noop:function(A){return false;},_createDiv:function(){if(this._eligible==null||this._eligible.length<=0){if(this._suggestions!=null&&this._htmlInstance.value!=null&&this._htmlInstance.value.length>0){this._attachSuggestionToHTML(this._createNoSuggestionList());return true;}return false;}this._attachSuggestionToHTML(this._createSomeSuggestionList());return true;},_onSuggestClick:function(A,B){this._htmlInstance.valueIsHint=false;this._useSuggestion();this._hideDiv();this._cancelEvent(B);return false;},_onSuggestMouseOver:function(D){var E=this._getEventSource(D);while(E.parentNode&&E.tagName.toUpperCase()!="LI"){E=E.parentNode;}var B=this._autoHtmlInstance.getElementsByTagName("LI");for(var C=0;C<B.length;C++){var A=B[C];if(A==E){this._highlighted=C;break;}}this._changeHighlight();},_getNoSuggestionMsg:function(){if(this._noSuggestionMsgString==null){var A=actuate.parameter.ResourceBundle.getMessage("MSG_NO_SUGGESTION");if(A==null||A.length<=0||A.indexOf("Localized string not available")=="0"){A="No suggestions";}this._noSuggestionMsgString=A;}return this._noSuggestionMsgString;},_fireSuggestionEvent:function(C,D,B){if(B<0||D<=0){this._suggestions=null;this._eligible=null;this._autoSuggestStartIndex=0;this._startingIndex=0;D=0;}if(B==0){return ;}this._baseInputText=C;var A=new actuate.parameter.GetParameterPickList();A.setFilter(C);A.setStartIndex(D);A.setFetchSize(B);this._pickList=A;this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_AUTO_SUGGESTION_CHANGE,this._htmlInstance.id,A);},_getEligible:function(D,B,E){if((B==false)&&(D==null||D.length<this._autoSuggestThreshold)){this._eligible=null;return null;}this._eligible=new Array();this._startingIndex=E;if(this._suggestions!=null&&this._baseInputText!=null&&D.toLowerCase().indexOf(this._baseInputText.toLowerCase())=="0"){for(var C=0;C<this._suggestions.length;C++){var A=this._suggestions[C];if(A.getName().toLowerCase().indexOf(D.toLowerCase())=="0"){this._eligible[this._eligible.length]=A;}}}else{this._fireSuggestionEvent(D,0,this._autoSuggestFetchSize);}},_isAutoSuggestElement:function(C){var B=C+"";var A=this._mainContainerID+"";B=B.toUpperCase();A=A.toUpperCase();if(B==this._autoHtmlInstance.id.toUpperCase()||B==this._htmlInstance.id.toUpperCase()||B==this._NAV_PREVIOUS_ID.toUpperCase()||B==this._NAV_SEPARATOR_ID.toUpperCase()||B==this._NAV_CONTAINER_ID.toUpperCase()||B==this._NAV_NEXT_ID.toUpperCase()||B==this._FOOTER_ID.toUpperCase()||B==this._NAV_ID.toUpperCase()||B==this._UNORDERED_LIST_ID.toUpperCase()||B==this._SUGGESTION_WRAPPER_ID.toUpperCase()||B==A){return true;}return false;},_isCurrentHtmlInstanceGainingFocus:function(B){var A=B+"";A=A.toUpperCase();if(A==this._htmlInstance.id.toUpperCase()){return true;}return false;},_getElementGainingFocus:function(A){if(A&&A.explicitOriginalTarget){return A.explicitOriginalTarget;}else{if(window.event&&window.event.srcElement&&window.event.srcElement.ownerDocument&&window.event.srcElement.ownerDocument.activeElement){return window.event.srcElement.ownerDocument.activeElement;}}return actuate.util.Event.element(A);},_isAutoSuggestListGainingFocus:function(C){var E=this._getElementGainingFocus(C);var D=E.id;if(D==""||D==undefined){if(E.tagName=="HTML"){if(actuate.util.Utility.isIE&&document.documentMode<=7){return true;}return false;}var B=E.parentNode;if(B){D=B.id;if(B.tagName=="A"||B.tagName=="LI"||B.tagName=="UL"){D=B.id;B=E.parentNode.parentNode;if(B&&(B.tagName=="LI"||B.tagName=="UL")){D=B.id;B=E.parentNode.parentNode.parentNode;if(B&&B.tagName=="UL"){D=B.id;B=E.parentNode.parentNode.parentNode.parentNode;}}}else{if(B.tagName=="TD"||B.tagName=="TR"){B=B.parentNode.parentNode;if(B){if(B.tagName=="TBODY"){B=B.parentNode;}}}}if(B){D=B.id;}}}var A=this._isAutoSuggestElement(D);if(this._isCurrentHtmlInstanceGainingFocus(E.id)){A=false;}return A;},_uncheckNoValueCheckbox:function(){var B="__isnull"+this._htmlInstance.id;var A=document.getElementById(B);if(A&&A.checked){A.checked=false;this._htmlInstance.valueIsNull=false;this._htmlInstance.savedValue="";}},_getEventSource:function(A){if(A&&A.srcElement){return A.srcElement;}else{if(window.event&&window.event.srcElement){return window.event.srcElement;}}return actuate.util.Event.element(A);},_cancelEvent:function(A){actuate.util.Event.stop(A);}};actuate.util.Package.define("actuate.parameter.impl");actuate.parameter.impl.CalendarControl=actuate.Class.create();actuate.parameter.impl.CalendarControl.prototype={_dateFormat:null,_aMonthNames:null,_aWeekNames:null,_aYears:null,_baseYear:null,_locAm:"AM",_locPm:"PM",_aEvents:null,_rootId:null,_disabled:false,_ppcHT:0,_ppcTT:null,_ppcCD:null,_ppcFT:null,_ppcFC:true,_ppcSV:null,_ppcRL:null,_ppcML:null,_ppcNow:null,_ppcPtr:null,_ppcWD:null,_calendarContainer:null,_isCalendarShown:false,_CALENDAR_CONTROL_WIDTH:200,_eventFramework:null,initialize:function(A,B){this._aWeekNames=actuate.parameter.ResourceBundle.getCalendarResource("DAYS_OF_WEEK");this._aMonthNames=actuate.parameter.ResourceBundle.getCalendarResource("MONTHS");this._aYears=actuate.parameter.ResourceBundle.getCalendarResource("YEARS");this._baseYear=actuate.parameter.ResourceBundle.getCalendarResource("YEAR_BASE");this._dateFormat=actuate.parameter.ResourceBundle.getPattern("DATE_SHORT");this._locAm=actuate.parameter.ResourceBundle.getPattern("AM");this._locPm=actuate.parameter.ResourceBundle.getPattern("PM");this._calendarContainer=A;this._rootId=A.id;this._eventFramework=B;this.hideCalendar();},initCalendarHtmlCode:function(){this._calendarContainer.innerHTML=this._generateCalendarContainer();this._ppcTT="<table id='"+this._rootId+"calendar' width=\""+this._CALENDAR_CONTROL_WIDTH+'" cellspacing="1" cellpadding="0" border="0" bordercolor="#000000">\n';this._ppcCD=this._ppcTT;this._ppcFT='<font id="fntCalendarDayOfMonth">';this._ppcML=new Array(31,28,31,30,31,30,31,31,30,31,30,31);this._ppcNow=new Date();this._ppcPtr=new Date();actuate.util.Event.observe(document.getElementById(this._rootId+"sMonth"),"change",actuate.Method.bind(this.adjustCalendar,this));actuate.util.Event.observe(document.getElementById(this._rootId+"sYear"),"change",actuate.Method.bind(this.adjustCalendar,this));actuate.util.Event.observe(document.getElementById(this._rootId+"backBtn"),"click",actuate.Method.bind2(this.moveMonth,this,"Back"));actuate.util.Event.observe(document.getElementById(this._rootId+"fwdBtn"),"click",actuate.Method.bind2(this.moveMonth,this,"Forward"));actuate.util.Event.observe(document.getElementById(this._rootId+"closeBtn"),"click",actuate.Method.bind(this.hideCalendar,this));},_loadCalendarData:function(A){this.initCalendarHtmlCode();this._ppcWD=null;this._ppcSV=A;if(this._ppcFC&&(this._ppcSV.value==null)){this._setCalendar();this._ppcFC=false;}else{this._ppcPtr=this._parseDateOrDefault(this._ppcSV.value,this._dateFormat);this._setCalendar(this._ppcPtr.getFullYear(),this._ppcPtr.getMonth(),this._ppcPtr.getDate());this._ppcFC=false;}},setEventFramework:function(A){this._eventFramework=A;},adjustCalendar:function(){var A=document.getElementById(this._rootId+"sYear");var B=document.getElementById(this._rootId+"sMonth");this._setCalendar(A.value,B.value);},showCalendar:function(D){if(this._disabled==true){return ;}this._loadCalendarData(D);var C=document.getElementById(this._rootId+"PopUpCalendar");var A=document.getElementById(this._rootId+"navSelector");var B=document.getElementById(this._rootId+"monthDays");this._ppcPtr=this._parseDateOrDefault(this._ppcSV.value,this._dateFormat);this._setCalendar(this._ppcPtr.getFullYear(),this._ppcPtr.getMonth(),this._ppcPtr.getDate());this._initTargetLocation(D);actuate.util.Element.show(this._calendarContainer);this._isCalendarShown=true;},_initTargetLocation:function(D){var E=D.calImg;if(!E){E=D;}var A=this._getRelativeElementPosition(E,this._calendarContainer.parentNode);this._calendarContainer.style.position="absolute";this._calendarContainer.style.zIndex=4000;var B=A.top+A.height;this._calendarContainer.style.top=B+"px";var C=A.left;this._calendarContainer.style.left=C+"px";},alignCalendarControl:function(A){if(this._isCalendarShown){this._initTargetLocation(A);}},_getRelativeElementPosition:function(C,D){var E=C;var B=0;var A=0;while(C!=null){B+=C.offsetLeft;A+=C.offsetTop;if(D==C.offsetParent){break;}C=C.offsetParent;}if(C){if(C.offsetWidth<((B-E.offsetWidth)+this._CALENDAR_CONTROL_WIDTH)){B=(B+E.offsetWidth)-this._CALENDAR_CONTROL_WIDTH;}}return{left:B,top:A,width:E.offsetWidth,height:E.offsetHeight};},_parseDateOrDefault:function(C,B){if(C==null){return new Date();}var A=this._parseDate(actuate.parameter.Utility.trim(C),B);if(A==0){return new Date();}else{return new Date(A);}},moveMonth:function(D){var C=null,B=null;var A=false;var E,F;C=document.getElementById(this._rootId+"sMonth");B=document.getElementById(this._rootId+"sYear");if(C!=null&&B!=null){if((D.toLowerCase()=="back")&&(C.selectedIndex>0||B.selectedIndex>0)){if(C.selectedIndex>0){C.selectedIndex--;}else{C.selectedIndex=11;B.selectedIndex--;}}else{if((D.toLowerCase()=="forward")&&((C.selectedIndex<11)||(B.selectedIndex+1<B.options.length))){if(C.selectedIndex<11){C.selectedIndex++;}else{C.selectedIndex=0;B.selectedIndex++;}}else{A=true;}}}if(!A){E=B.options[B.selectedIndex].value;F=C.options[C.selectedIndex].value;this._setCalendar(E,F);}else{C.style.backgroundColor="#FF0000";B.style.backgroundColor="#FF0000";window.setTimeout("document.getElementById('"+this._rootId+"sMonth').style.backgroundColor = '#FFFFFF'",50);window.setTimeout("document.getElementById('"+this._rootId+"sYear').style.backgroundColor = '#FFFFFF'",50);}},selectDate:function(F){var A=F.split("|");var C=A[0];var E=A[1];var B=A[2];var G=parseInt(B);this._ppcPtr.setDate(G);if((this._ppcSV!=null)&&(this._ppcSV)){if(this.validDate(B)){this._ppcSV.value=this._formatDate(new Date(C,E,B),this._dateFormat);this._uncheckNoValueCheckBox(this._ppcSV);this._ppcSV.valueIsHint=false;if(this._ppcSV.isRequired){this._removeRequiredParametrClassName(this._ppcSV);}if(this._ppcSV.normalClassName){this._ppcSV.className=this._ppcSV.normalClassName;}this._setCalendar(C,E,B);this.hideCalendar();var D=this._ppcSV.id.substring(0,this._ppcSV.id.indexOf(".date"));if(this._eventFramework){this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,D);}}else{throw"Date is not valid";}}else{throw"Cannot access CalendarContainer";}},_removeRequiredParametrClassName:function(A){var B=actuate.parameter.Utility.getCorrectDateElementToHighlight(A);B.className=actuate.parameter.Utility.removeClassName(B.className,"highlightRequiredParameters");},_uncheckNoValueCheckBox:function(B){var D="__isnull"+B.id.substring(0,B.id.indexOf(".date"));var A=document.getElementById(D);if(A&&A.checked){A.checked=false;B.valueIsNull=false;B.savedValue="";var C=document.getElementById(B.id.substring(0,B.id.indexOf(".date")+".time"));if(C){C.valueIsNull=false;C.savedValue="";}}},_setCalendar:function(B,C,A){if(B==null){B=this._getFullYear(this._ppcNow);}if(C==null){C=this._ppcNow.getMonth();}if(C==1){this._ppcML[1]=(this._isLeap(B))?29:28;}if(A==null){A="1";}this._ppcPtr.setYear(B);this._ppcPtr.setMonth(C);this._ppcPtr.setDate(A);this._ppcPtr.setMonth(C);this._setSelectList(B,C);this._updateContent();},_updateContent:function(){this._configureEvents(this._aEvents,"stopObserving");this._aEvents=new Array();this._generateWeekDay();this._generateContent();document.getElementById(this._rootId+"monthDays").innerHTML=this._ppcCD;this._ppcCD=this._ppcWD+this._ppcTT;this._configureEvents(this._aEvents,"observe");},_generateCalendarContainer:function(){var B="style='background-color:#DDDDDD;'";var C="";C+="<div id='"+this._rootId+"PopUpCalendar' class='PopUpCalendar'>";C+="<div id='"+this._rootId+"navSelector' class='navSelector' >";C+="<TABLE  cellspacing='1' cellpadding='2' border='0' width='200' vspace='0' hspace='0' class='bg'>";C+="<tr>";C+="<td align='center'>";C+="<a id='"+this._rootId+"backBtn' style='margin-left:2px;'>";C+="<img src='"+actuate.parameter.ResourceBundle.getIportalUrl()+"iportal/jsapi/actuate/widget/images/shared/left-btn.gif' border='0' style='vertical-align:middle; margin-bottom: 1px;'>";C+="</a>";C+="<select id='"+this._rootId+"sMonth' class='fntCalendarMonth'>";for(var A=0;A<this._aMonthNames.length;A++){C+="<option value='"+A+"'>"+this._aMonthNames[A]+"</option>";}C+="</select>";C+="<select id='"+this._rootId+"sYear' class='fntCalendarYear'>";for(var A=0;A<this._aYears.length;A++){C+="<option value='"+(A+this._baseYear)+"'>"+this._aYears[A]+"</option>";}C+="</select>";C+="<a id='"+this._rootId+"fwdBtn' style='margin-right:2px;' >";C+="<img src='"+actuate.parameter.ResourceBundle.getIportalUrl()+"iportal/jsapi/actuate/widget/images/shared/right-btn.gif'' border='0' style='vertical-align:middle; margin-bottom: 1px;'>";C+="</a>";C+="</td>";C+="<td valign='top' halign='right'>";C+="<a id='"+this._rootId+"closeBtn' style='cursor: pointer;'>";C+="<img src='"+actuate.parameter.ResourceBundle.getIportalUrl()+"iportal/activePortal/images/icon-x-small.png' border='0' valign='top' halign='right'>";C+="</a>";C+="</td>";C+="</tr>";C+="</TABLE>";C+="</div>";C+="<div id='"+this._rootId+"monthDays' class='monthDays' > </div>";C+="</div>";return C;},_generateWeekDay:function(){if(this._ppcWD==null){var B="style='background-color:#DDDDDD;'";this._ppcWD='<table border="0" style="border-bottom-style:solid;border-bottom-width:1;" cellspacing="0" cellpadding="0" bordercolor="#000000" width="200" vspace="0" hspace="0">';this._ppcWD+='<tr border="0" align="center" class=\'bg_header\'>';for(var A=0;A<7;A++){this._ppcWD+="<td>";this._ppcWD+=this._aWeekNames[A];this._ppcWD+="</td>";}this._ppcWD+="</tr></table>";}this._ppcCD=this._ppcWD+this._ppcTT;},_generateContent:function(){var I=this._getFullYear(this._ppcPtr);var H=this._ppcPtr.getMonth();var B=1;var K=this._ppcPtr.getDate();this._ppcPtr.setDate(B);var J=this._ppcPtr.getDay();this._ppcPtr.setDate(K);var G=this._ppcML[H];var F,A,E="";var C,D=0;this._ppcHT=0;for(var C=0;C<7;++C){if(B>G){break;}for(var D=0;D<7;++D){F="#ffffff";if(((C==0)&&(D<J))||(B>G)){E+=this._makeCell(F,I,H,0);}else{E+=this._makeCell(F,I,H,B);++B;}}this._ppcCD+='<tr align="right">\n'+E+"</tr>\n";E="";this._ppcHT+=20;}this._ppcCD+="</table>\n";},_makeCell:function(J,N,K,G){var L=this._rootId+N+K+G;var F=N+"|"+K+"|"+G;var A="height:15px;width:14px; padding:2px 5px; font-style: italic; font-size:11px;background-color:"+J+";";var H="<td style='"+A+"' id='"+L+"' ";var E="</font></span></td>\n";var O="onMouseOver=\"this.style.backgroundColor='#DDECFE'\" onMouseOut=\"this.style.backgroundColor='"+J+"'\" ";var B='<span Style="cursor: pointer;">';var I='<span Style="cursor: default">';var P=(G!=0)?G+"":"&nbsp;";var M=false;if((this._ppcPtr.getDate()==G)&&(this._ppcPtr.getMonth()==K)&&(this._getFullYear(this._ppcPtr)==N)){P="<b>"+P+"</b>";M=true;}var D=actuate.Method.bind2(this.selectDate,this,F);this._aEvents.push(new Array(L,"click",D));var C="";if(G==0){C=H+'style="cursor: default">'+I+this._ppcFT+P+E;}else{if(M){var H="<td style='"+A+" border: 1px solid darkred; background-color: #DDECFE;' id='"+L+"' ";C=H+O+'style="cursor: pointer">'+B+this._ppcFT+P+E;}else{C=H+O+'style="cursor: pointer">'+B+this._ppcFT+P+E;}}return C;},_setSelectList:function(D,E){var F=D-this._ppcNow.getFullYear()+100;var C=0;var B=null,A=null;B=document.getElementById(this._rootId+"sMonth");A=document.getElementById(this._rootId+"sYear");F>-1?A.selectedIndex=parseInt(F,10):A.selectedIndex=-1;B.selectedIndex=parseInt(E,10);},hideCalendar:function(){actuate.util.Element.hide(this._calendarContainer);this._isCalendarShown=false;},_isLeap:function(A){if((A%400==0)||((A%4==0)&&(A%100!=0))){return true;}else{return false;}},_getFullYear:function(A){var B=A.getYear();if(B<1900){B+=1900;}return B;},validDate:function(E){var G=true;if(this._ppcRL==null){}else{var B=this._ppcRL.split(":");var H=B[0];var A=B[1];var F=B[2].charAt(0).toLowerCase();if(F!="d"){var C=this._ppcPtr.getDay();var D=this._isEvenOrOdd(E);G=(H=="[^]")?!((C==A)&&((D==F)||(F=="a"))):((C==A)&&((D==F)||(F=="a")));}else{G=(H=="[^]")?(E!=A):(E==A);}}return G;},_isEvenOrOdd:function(A){if(A-21>0){return"e";}else{if(A-14>0){return"o";}else{if(A-7>0){return"e";}else{return"o";}}}},_getInt:function(F,D,E,C){for(var A=C;A>=E;A--){var B=F.substring(D,D+A);if(B.length<E){return null;}if(this._isInteger(B)){return B;}}return null;},_isInteger:function(I,A,C,G){var B="0123456789";var J=I.length;for(var F=0;F<J;F++){var H=I.charAt(F);if(B.indexOf(H)==-1){if(H=="e"||H=="E"){if(F>=J-1){return false;}var D=I.charAt(F+1);if(D!=C&&D!=G&&D!="+"&&D!="-"&&B.indexOf(D)==-1){return false;}else{var K=(B.indexOf(D)!=-1);for(var E=F+2;E<J;E++){H=I.charAt(E);if(B.indexOf(H)==-1){return false;}else{K=true;}}return K;}}else{if(A){if(H!=C&&H!=G){return false;}if(F>0){return false;}continue;}}return false;}}return true;},_parseDate:function(S,P){if(S==null){return null;}var Y=actuate.parameter.Utility.trim(S.toUpperCase());P=P+"";var X=0;var L=0;var T="";var F="";var W="";var H,G;var B=new Date();var I=B.getYear();var V=B.getMonth()+1;var U=B.getDate();var C=B.getHours();var Q=B.getMinutes();var M=B.getSeconds();var J="";while(L<P.length){T=P.charAt(L);F="";var A=(T=="'"||T=='"');if(A){L++;}while((P.charAt(L)==T||A)&&(L<P.length)){if(P.charAt(L)=="'"||P.charAt(L)=='"'){A=false;L++;break;}F+=P.charAt(L);L++;}if(F=="yyyy"||F=="yy"||F=="y"){if(F=="yyyy"){H=4;G=4;}if(F=="yy"){H=2;G=2;}if(F=="y"){H=2;G=4;}I=this._getInt(Y,X,H,G);if(I==null){return 0;}X+=I.length;if(I.length==2){if(I>70){I=1900+(I-0);}else{I=2000+(I-0);}}}else{if(F=="MMM"){V=0;for(var O=0;O<this._aMonthNames.length;O++){var D=this._aMonthNames[O];if(Y.substring(X,X+D.length).toLowerCase()==D.toLowerCase()){V=O+1;if(V>12){V-=12;}X+=D.length;break;}}if(V==0){return 0;}if((V<1)||(V>12)){return 0;}}else{if(F=="MM"||F=="M"){H=1;G=2;V=this._getInt(Y,X,H,G);if(V==null){return 0;}if((V<1)||(V>12)){return 0;}X+=V.length;}else{if(F=="dd"||F=="d"){H=1;G=2;U=this._getInt(Y,X,H,G);if(U==null){return 0;}if((U<1)||(U>31)){return 0;}X+=U.length;}else{if(F=="hh"||F=="h"){H=1;G=2;C=this._getInt(Y,X,H,G);if(C==null){return 0;}if((C<1)||(C>12)){return 0;}X+=C.length;C--;}else{if(F=="HH"||F=="H"){H=1;G=2;C=this._getInt(Y,X,H,G);if(C==null){return 0;}if((C<0)||(C>23)){return 0;}X+=C.length;}else{if(F=="KK"||F=="K"){H=1;G=2;C=this._getInt(Y,X,H,G);if(C==null){return 0;}if((C<0)||(C>11)){return 0;}X+=C.length;}else{if(F=="kk"||F=="k"){H=1;G=2;C=this._getInt(Y,X,H,G);if(C==null){return 0;}if((C<1)||(C>24)){return 0;}X+=C.length;h--;}else{if(F=="mm"||F=="m"){H=1;G=2;Q=this._getInt(Y,X,H,G);if(Q==null){return 0;}if((Q<0)||(Q>59)){return 0;}X+=Q.length;}else{if(F=="ss"||F=="s"){H=1;G=2;M=this._getInt(Y,X,H,G);if(M==null){return 0;}if((M<0)||(M>59)){return 0;}X+=M.length;}else{if(F=="a"){var N=this._locAm.length;var R=this._locPm.length;if(Y.substring(X,X+N)==this._locAm.toUpperCase()){J=this._locAm.toUpperCase();X+=N;}else{if(Y.substring(X,X+R)==this._locPm.toUpperCase()){J=this._locPm.toUpperCase();X+=R;}else{return 0;}}}else{var E=Y.substring(X,X+F.length);if(E!=F.toUpperCase()){return 0;}else{X+=F.length;}}}}}}}}}}}}}if(X!=S.length){return 0;}if(V==2){if(((I%4==0)&&(I%100!=0))||(I%400==0)){if(U>29){return false;}}else{if(U>28){return false;}}}if((V==4)||(V==6)||(V==9)||(V==11)){if(U>30){return false;}}if(C<12&&J==this._locPm.toUpperCase()){C+=12;}else{if(C>11&&J==this._locAm.toUpperCase()){C-=12;}}var K=new Date(I,V-1,U,C,Q,M);return K.getTime();},_formatDate:function(g,b){b=b+"";var L="";var U=0;var f="";var F="";var J=g.getYear()+"";var G=g.getMonth()+1;var e=g.getDate();var N=g.getHours();var W=g.getMinutes();var P=g.getSeconds();var S,T,C,R,j,D,a,Z,X,O,n,N,l,I,B,Y;if(J.length<4){J=J-0+1900;}J=""+J;S=J;T=J.substring(2,4);if(G<10){R="0"+G;}else{R=G;}C=this._aMonthNames[G-1];if(e<10){j="0"+e;}else{j=e;}a=N;I=N;Y=N+1;if(a>12){a-=12;}if(a==0){a=12;}if(a<10){D="0"+a;}else{D=a;}if(N<10){n="0"+I;}else{n=N;}if(I>11){I-=12;}if(I<10){l="0"+I;}else{l=I;}if(Y<10){B="0"+Y;}else{B=Y;}if(N>11){O=this._locPm;}else{O=this._locAm;}if(W<10){Z="0"+W;}else{Z=W;}if(P<10){X="0"+P;}else{X=P;}var V=new Object();V["yyyy"]=S;V["yy"]=T;V["y"]=J;V["MMM"]=C;V["MM"]=R;V["M"]=G;V["dd"]=j;V["d"]=e;V["hh"]=D;V["h"]=a;V["HH"]=n;V["H"]=N;V["KK"]=l;V["K"]=I;V["kk"]=B;V["k"]=Y;V["mm"]=Z;V["m"]=W;V["ss"]=X;V["s"]=P;V["a"]=O;var A=false;while(U<b.length){f=b.charAt(U);F="";A=(f=="'"||f=='"');if(A){U++;}while((b.charAt(U)==f||A)&&(U<b.length)){if(b.charAt(U)=="'"||b.charAt(U)=='"'){A=false;U++;break;}F+=b.charAt(U);U++;}if(V[F]!=null){L=L+V[F];}else{if(F.length>0){var Q=F[0];var E=F[F.length-1];if((Q=='"'&&E=='"')||(Q=="'"&&E=="'")){F=F.substring(1,F.length-1);}}L=L+F;}}return L;},_configureEvents:function(A,E){if(A!=null&&A.length>0){for(var D=0;D<A.length;D++){var B=A[D];var C=document.getElementById(B[0]);if(E=="observe"){actuate.util.Event.observe(C,B[1],B[2]);}else{actuate.util.Event.stopObserving(C,B[1],B[2]);}}}}};actuate.util.Package.define("actuate.parameter.impl");actuate.parameter.impl.LayoutNavigation=actuate.Class.create();actuate.parameter.impl.LayoutNavigation.prototype={_groups:null,_currGroup:null,_map:null,_container:null,_eventFramework:null,_bShowBar:null,_paramDefs:null,_baseUrl:null,_mode:null,_displayGroups:null,initialize:function(C,B,E,A,D){this._container=B;this._paramDefs=C;this._bShowBar=A;this._mode=E;this.sortParamDefs(C,E);this._registerEventHandlers(D);},_registerEventHandlers:function(A){if(A){this.__eventFramework=A;}else{this.__eventFramework=new actuate.parameter.EventHandler();}this.__eventFramework.registerHandler(actuate.parameter.EventConstants._ON_CLICK,actuate.Method.bind(this.onClickHandler,this));},sortParamDefs:function(B,C){this._groups=new Array();this._map=new Object();if(C==actuate.parameter.Constants.LAYOUT_GROUP){for(var A=0;A<B.length;A++){var D=B[A].getGroup();if(D==null){if(this._groups.length>0&&actuate.util.Utility.indexOf(this._groups[this._groups.length-1],"_nogroup")==0){D=this._groups[this._groups.length-1];}else{D="_nogroup"+A;}}if(actuate.util.Utility.indexOf(this._groups,D)==-1){this._map[D]=new Array();this._groups.push(D);}this._map[D].push(B[A]);}}else{this._groups.push("_nogroup");this._map["_nogroup"]=B;}return this._groups;},getGroups:function(){return this._groups;},getGroupName:function(D){for(var B=0;B<this._groups.length;B++){var C=this._map[this._groups[B]];for(var A=0;A<C.length;A++){if(C[A].getName()==D){return this._groups[B];}}}return null;},getParamDefs:function(A){if(typeof (this._map[A])=="undefined"){return null;}return this._map[A];},generateGroupId:function(A){if(actuate.util.Utility.indexOf(this._groups,A)==-1){return null;}return this._container.id+"GroupID"+actuate.util.Utility.indexOf(this._groups,A);},setDisplayGroups:function(A){this._displayGroups=A;},getDisplayGroups:function(){return this._displayGroups;},initNavigationBar:function(G){this._baseUrl=G;var C=this.removeEmptyGroups(this._groups);this.setDisplayGroups(C);if(C.length>1){var J=document.createElement("TABLE");J.className="paramNavBar";J.id=this.getHtmlId("navigationBar");this._container.appendChild(J);var F=J.insertRow(-1);var H=F.insertCell(-1);var O=document.createElement("IMG");O.src=G+actuate.parameter.Constants.LOC_IMG_FIRST;O.id=this.getHtmlId(actuate.parameter.Constants.NAV_FIRST);O.className="imageLink_on";O.name=O.id;H.appendChild(O);this.__eventFramework.setOnClickEvent(O);var D=F.insertCell(-1);var K=document.createElement("IMG");K.src=G+actuate.parameter.Constants.LOC_IMG_PREV;K.id=this.getHtmlId(actuate.parameter.Constants.NAV_PREV);K.className="imageLink_on";K.name=K.id;D.appendChild(K);this.__eventFramework.setOnClickEvent(K);var N=F.insertCell(-1);var M=document.createElement("IMG");M.src=G+actuate.parameter.Constants.LOC_IMG_NEXT;M.id=this.getHtmlId(actuate.parameter.Constants.NAV_NEXT);M.className="imageLink_on";M.name=M.id;N.appendChild(M);this.__eventFramework.setOnClickEvent(M);var I=F.insertCell(-1);var B=document.createElement("IMG");B.src=G+actuate.parameter.Constants.LOC_IMG_LAST;B.id=this.getHtmlId(actuate.parameter.Constants.NAV_LAST);B.className="imageLink_on";B.name=B.id;I.appendChild(B);this.__eventFramework.setOnClickEvent(B);var L=F.insertCell(-1);L.id=this.getHtmlId("navCounter");var E="1/"+(this._groups.length);var A=document.createTextNode(E);L.appendChild(A);this._currGroup=0;if(this._bShowBar==false){J.style.display="none";}}},removeEmptyGroups:function(A){var B=new Array();for(var D=0;D<A.length;D++){var E=A[D];var C=this.checkIfAllHiddenParams(E);if(!C){B.push(E);}}return B;},checkIfAllHiddenParams:function(E){var B=true;var D=this.getParamDefs(E);for(var A=0;A<D.length;A++){var C=D[A];if(C.isHidden()==false){B=false;break;}}return B;},_updateDisplay:function(){if(this._displayGroups!=null&&this._displayGroups.length>1){for(var C=0;C<this._displayGroups.length;C++){if(C==this._currGroup){var E=document.getElementById(this.generateGroupId(this._displayGroups[C]));E.style.display="";}else{var E=document.getElementById(this.generateGroupId(this._displayGroups[C]));E.style.display="none";}}var B=document.getElementById(this.getHtmlId(actuate.parameter.Constants.NAV_PREV));B.src=this._baseUrl+actuate.parameter.Constants.LOC_IMG_PREV;B.className="imageLink_on";var D=document.getElementById(this.getHtmlId(actuate.parameter.Constants.NAV_FIRST));D.src=this._baseUrl+actuate.parameter.Constants.LOC_IMG_FIRST;D.className="imageLink_on";var F=document.getElementById(this.getHtmlId(actuate.parameter.Constants.NAV_NEXT));F.src=this._baseUrl+actuate.parameter.Constants.LOC_IMG_NEXT;F.className="imageLink_on";var A=document.getElementById(this.getHtmlId(actuate.parameter.Constants.NAV_LAST));A.src=this._baseUrl+actuate.parameter.Constants.LOC_IMG_LAST;A.className="imageLink_on";if(this._currGroup==(this._displayGroups.length-1)){F.src=this._baseUrl+actuate.parameter.Constants.LOC_IMG_NEXT_OFF;F.className="imageLink_off";A.src=this._baseUrl+actuate.parameter.Constants.LOC_IMG_LAST_OFF;A.className="imageLink_off";}else{if(this._currGroup==0){B.src=this._baseUrl+actuate.parameter.Constants.LOC_IMG_PREV_OFF;B.className="imageLink_off";D.src=this._baseUrl+actuate.parameter.Constants.LOC_IMG_FIRST_OFF;D.className="imageLink_off";}}}},onClickHandler:function(A){if(this._displayGroups.length>1){if(A==this.getHtmlId(actuate.parameter.Constants.NAV_FIRST)){this._currGroup=0;}else{if(A==this.getHtmlId(actuate.parameter.Constants.NAV_LAST)){this._currGroup=this._displayGroups.length-1;}else{if(A==this.getHtmlId(actuate.parameter.Constants.NAV_PREV)&&this._currGroup>0){this._currGroup--;}else{if(A==this.getHtmlId(actuate.parameter.Constants.NAV_NEXT)&&(this._currGroup<this._displayGroups.length-1)){this._currGroup++;}}}}this._updateDisplay();this._updateCounter();}},_updateCounter:function(){var A=document.getElementById(this.getHtmlId("navCounter"));A.childNodes[0].data=(this._currGroup+1)+"/"+this._displayGroups.length;},getHtmlId:function(A){return this._container.id+A;}};actuate.util.Package.define("actuate.parameter.impl");actuate.parameter.impl.ParameterControl=actuate.Class.create();actuate.parameter.impl.ParameterControl.prototype={__name:null,__displayName:null,__helpText:null,__dataType:null,__defaultValue:null,__defaultValueIsNull:null,__isRequired:null,__isPassword:null,__isHidden:null,__htmlInstance:null,__nameValuePair:null,__selectValueList:null,__operatorList:null,__defaultFilterOperator:null,__defaultFilterValueList:null,__selectInstance:null,__cascadingParentName:null,__cascadingChildName:null,__isCascadingMultiList:false,__isAdHoc:false,__isEmptyMultiListAdHoc:true,__isMultiListAdHoc:false,__hasChildren:false,__controlType:null,__columnType:null,__columnName:null,__controlID:null,__indexedProperty:null,__controlName:null,__controlValue:null,__container:null,__mainContainerID:null,__iportalURL:null,__dateValue:null,__timeValue:null,__showDisplayType:true,__readOnly:false,__autoSuggestThreshold:1,__autoSuggestDelay:500,__autoSuggestFetchSize:-1,__autoSuggestListSize:-1,__eventFramework:null,__defaultValueList:null,__nullValueDisplayName:null,__calControl:null,__initialize:null,__nullValueSupported:true,__autosuggestCurrentDisplayName:null,_calendarInstance:null,_autosuggestInstance:null,__filterValueElemSuffix:".div",initialize:function(B,L,K,H,G,D,F,J,E,C,I,A){this.__initialize=true;actuate.parameter.Utility.startTimer("parameterControl"+K.getControlType());this.__mainContainerID=I;this.__container=L;this.__showDisplayType=F;this.__iportalURL=D;this.__readOnly=J;this.__eventFramework=B;this.__nullValueDisplayName=E;this._autosuggestInstance=A;if(C!=true||!actuate.parameter.Utility.isNoValueSupported(K,"",J)){this.__nullValueSupported=false;}this.__init_properties(K,H,G);this.__init_htmlContent(L);if(this.__nullValueSupported==true){this.__init_NullValueCheckBox(K);}this.__initialize=false;actuate.parameter.Utility.stopTimer("parameterControl"+K.getControlType());},__init_NullValueCheckBox:function(B){var A=document.getElementById(this.__getNullValueCheckBoxId(this.__controlID));if(A!=null){var C=B.getCurrentValueIsNull();if(C){A.checked=true;this._onNullValueBoxclick(A);}}},__getNullValueCheckBoxId:function(A){return actuate.parameter.Utility.getNullValueCheckBoxId(A);},__init_properties:function(F,D,C){this.__controlID=C;this.__name=F.getName();this.__displayName=F.getDisplayName();this.__helpText=F.getHelpText();this.__dataType=F.getDataType();var I=true;var G=F.getCurrentValue();var H=F.getCurrentValueIsNull();this.__defaultValueIsNull=H;if(this._noValueCheckboxExist()){if(H!=null&&H!=true){this.__defaultValue=(G!=null)?G:"";I=false;}else{var E=F.getUpdatedWithDocParam();if(E==true){this.__defaultValue=(F.getDefaultValue()!=null)?F.getDefaultValue():"";}else{if(G!=null){this.__defaultValue=G;I=false;}else{this.__defaultValue=(F.getDefaultValue()!=null)?F.getDefaultValue():"";}}}}else{this.__defaultValue=(G!=null)?G:"";I=false;}this.__isRequired=F.isRequired();this.__isPassword=F.isPassword();this.__isHidden=F.isHidden();this.__isAdHoc=F.isAdHoc();this.__controlType=this.__readOnly?"ReadOnly":F.getControlType();this.__columnType=F.getColumnType();this.__hasChildren=D;this.__autoSuggestThreshold=F.getAutoSuggestThreshold();this.__cascadingParentName=F.getCascadingParentName();this.__isCascadingMultiList=actuate.parameter.Utility.isCascadingMultiList(F,this.__hasChildren);if(this.__controlType=="FilterSimple"){this.__columnName=F.getColumnName();this.__operatorList=F.getOperatorList();this.__defaultFilterOperator=F.getDynamicFilterOperator();this.__defaultFilterValueList=F.getDynamicFilterValueList();}if(this.__controlType=="ControlRadioButton"||this.__controlType=="ControlListAllowNew"||this.__controlType=="FilterSimple"){this._populateAvailableLists(F);}else{if(this.__controlType=="ControlList"){this._populateAvailableLists(F);}else{if(this.__controlType=="AutoSuggest"){}else{if(this.__controlType==null&&this.__dataType==actuate.parameter.Constants.DATE){var B="";var A="";if(I==true){B=(F.getDefaultDateValue()!=null)?F.getDefaultDateValue():"";A=(F.getDefaultTimeValue()!=null)?F.getDefaultTimeValue():"";}else{B=(F.getCurrentDateValue()!=null)?F.getCurrentDateValue():"";A=(F.getCurrentTimeValue()!=null)?F.getCurrentTimeValue():"";}this.__dateValue=B;this.__timeValue=A;}}}}if(this.__controlType==null||this.__controlType==""){if((F.getSelectNameValueList()!=null||F.getSelectValueList()!=null)&&this.__isAdHoc||this.__isCascadingMultiList){this.__isMultiListAdHoc=true;if((F.getSelectNameValueList()!=null&&F.getSelectNameValueList().length>0)||(F.getSelectValueList()!=null&&F.getSelectValueList().length>0)){this.__isEmptyMultiListAdHoc=false;this.__nameValuePair=F.getSelectNameValueList();if(this.__nameValuePair==null){this.__selectValueList=F.getSelectValueList();}this.__defaultValueList=F.getDefaultValueList();}}}if(this.__controlType=="AutoSuggest"){this.__autosuggestCurrentDisplayName=F.getCurrentDisplayName();}},_populateAvailableLists:function(A){this.__nameValuePair=A.getSelectNameValueList();if(this.__nameValuePair==null){this.__selectValueList=A.getSelectValueList();}},__init_htmlContent:function(B){if(this.__isHidden){return ;}var M=B.insertRow(-1);M.className="paramRow";var c=M.insertCell(-1);var u=document.createElement("div");c.appendChild(u);u.className="paramDisplayName";var e=this.__displayName;if(e==null||(e!=null&&e.length==0)){var K=this.__name;if(K!=null&&K.length>0){e=K;}}var j=document.createTextNode(e);u.appendChild(j);var k=M.insertCell(-1);var y=M.insertCell(-1);var S="";var p="";if(!this.__isRequired){if(this.__isAdHoc==false&&this.__readOnly!=true&&this.__nullValueSupported==true){this._addNullableElement(M);}else{this._addTextInNotesArea(M,"","paramPreLabel","paramNotesLabelNarrow");}}var L="";if(this.__showDisplayType){L=actuate.parameter.Utility.getParamHintText(this.__controlType,this.__dataType,this.__columnType,this.__isAdHoc,this.__isRequired,this.__defaultValue);}if(this.__isHidden){var C=document.createElement("INPUT");C.type="hidden";C.id=this.__controlID;C.name=this.__controlID;}if(this.__isHidden==false&&this.__dataType!=actuate.parameter.Constants.TABLE){switch(this.__controlType){case"ReadOnly":k.className="paramCommon";var o;if(this.__defaultValueIsNull!=true){o=document.createTextNode(this.__defaultValue);}else{o=document.createTextNode(this.__nullValueDisplayName);}k.appendChild(o);break;case"ControlCheckBox":k.className="controlCheckBox";var C=document.createElement("INPUT");C.id=this.__controlID;C.name=this.__controlID;C.disabled=this.__readOnly;C.type="checkbox";C.valueIsNull=false;k.appendChild(C);actuate.parameter.Utility.prependInputClassName(C);C.checked=("true"==this.__defaultValue.toLowerCase());this.__htmlInstance=C;break;case"ControlRadioButton":k.className="controlRadioButton";var Z=document.createElement("FIELDSET");Z.id=this.__controlID;Z.className="controlRadioFieldSet";k.appendChild(Z);if(this.__nameValuePair){for(var v=0;v<this.__nameValuePair.length;v++){var n=this.__nameValuePair[v].getValue();if(n==null||typeof (n)=="undefined"){continue;}var K=this.__nameValuePair[v].getName();K=K?K:n;var C=actuate.parameter.Utility.createElementWithName("INPUT",this.__controlID);C.type="radio";C.value=n;C.disabled=this.__readOnly;C.isRequired=this.__isRequired;if(actuate.util.browser.isIEFlag){C.className="radioFieldIE";}else{if(actuate.util.browser.isAndroid||actuate.util.browser.isAndroidPhone){C.className="radioFieldMobile";}else{C.className="radioField";}}actuate.parameter.Utility.prependInputClassName(C);actuate.util.Event.observe(C,"click",actuate.Method.bindAsEventListener(this._onRadioClick,this));var l=document.createElement("div");l.appendChild(C);var j=document.createTextNode(" "+K);l.appendChild(j);Z.appendChild(l);var m=false;if(this.__dataType=="Boolean"){if(n.toLowerCase()==this.__defaultValue.toLowerCase()){m=true;}}else{if(n==this.__defaultValue){m=true;}}if(m){C.setAttribute("defaultChecked","defaultChecked");C.checked=true;}}}else{if(this.__selectValueList){for(var v=0;v<this.__selectValueList.length;v++){var n=this.__selectValueList[v];if(n==null||typeof (n)=="undefined"){continue;}var K=this.__selectValueList[v];K=K?K:n;var C=actuate.parameter.Utility.createElementWithName("INPUT",this.__controlID);C.type="radio";C.value=n;C.disabled=this.__readOnly;C.isRequired=this.__isRequired;actuate.parameter.Utility.prependInputClassName(C);actuate.util.Event.observe(C,"click",actuate.Method.bindAsEventListener(this._onRadioClick,this));Z.appendChild(C);var j=document.createTextNode(" "+K);Z.appendChild(j);var T=document.createElement("BR");Z.appendChild(T);if(n==this.__defaultValue){C.setAttribute("defaultChecked","defaultChecked");C.checked=true;}}}}if(this.__isRequired){actuate.parameter.Utility.highlightRequiredParameter(Z,this.__defaultValue,"highlightRequiredParameters");}break;case"ControlList":k.className="controlList";if((/Safari/.test(navigator.userAgent))){k.style.paddingLeft="4px";}k.id="selectListColumn"+this.__controlID;this.__selectInstance=new actuate.parameter.impl.SelectControl(k,this.__name,this.__controlID);this.__selectInstance.setIsRequired(this.__isRequired);this.__selectInstance.setReadOnly(this.__readOnly);this.__updateSelectList(this.__defaultValue,false);if(this.__isRequired&&this.__selectInstance.getHtmlInstance().value==""){actuate.parameter.Utility.highlightRequiredParameter(k,this.__defaultValue,"highlightRequiredParameters");}break;case"AutoSuggest":k.className="auto_suggestion_list";k.style.width="60%";this.__htmlInstance=new actuate.parameter.impl.AutoSuggestControl(this.__eventFramework,k,this.__name,this.__controlID,this.__defaultValue,k.className,this.__iportalURL,this.__mainContainerID,this._autosuggestInstance);this.__htmlInstance._setReadOnly(this.__readOnly);this.__htmlInstance.setAutoSuggestThreshold(this.__autoSuggestThreshold);var r=this.__htmlInstance.getHtmlInstance();r.isRequired=this.__isRequired;actuate.parameter.Utility.prependInputClassName(r);var D=this.__defaultValue;if(this.__autosuggestCurrentDisplayName!=null){D=new actuate.parameter.NameValuePair(this.__autosuggestCurrentDisplayName,this.__defaultValue);}if(this.__showDisplayType){this._addParamHintText(r,this.__defaultValue,L,r.className,"ParamHintCommonGray");if(D==""||D==null){D=L;}}this.__htmlInstance.updateDefaultValue(D);if(this.__isRequired){actuate.parameter.Utility.highlightRequiredParameter(r,this.__defaultValue,"highlightRequiredParameters");}break;case"ControlListAllowNew":k.className="controlListAllowNew";if(!(/Safari/.test(navigator.userAgent))){k.noWrap="true";}k.width="50%";k.style.minWidth="200px";var R=document.createElement("TABLE");var Q=navigator.userAgent.toLowerCase();if(Q.indexOf("chrome")>-1){R.cellPadding="1";}else{R.cellPadding="0";}R.cellspacing="0";R.width="100%";R.id="comboTable"+this.__controlID;k.appendChild(R);var G=R.insertRow(-1);G.className="paramRow";var x=G.insertCell(-1);x.width="100%";x.style.border.width="1px";if(actuate.parameter.Utility.isIE6()){x.height="20px";}this.__selectInstance=new actuate.parameter.impl.SelectControl(x,this.__name,this.__controlID);this.__selectInstance.setReadOnly(this.__readOnly);this.__selectInstance.setIsRequired(this.__isRequired);this.__updateSelectList(this.__defaultValue,true);this.__htmlInstance=new actuate.parameter.impl.comboBox(x,this.__selectInstance.getHtmlInstance(),this.__eventFramework);if(this.__isAdHoc){var V=document.createElement("IMG");V.id=this.__controlID+".img";V.src=this.__iportalURL+actuate.parameter.Constants.LOC_IMG_ARROW;y.appendChild(V);y.className="adHocCell";if(!this.__readOnly){var w=document.createElement("DIV");w.id=this.__controlID+".div";w.className="adHocDiv";y.appendChild(w);}}else{if(this.__showDisplayType){this._addParamHintText(this.__htmlInstance.getTextboxInstance(),this.__defaultValue,L,this.__htmlInstance._textboxInstance.className,"ParamHintCommonGray");}}if(this.__isRequired){actuate.parameter.Utility.highlightRequiredParameter(R,this.__defaultValue,"highlightRequiredParameters");}break;case"FilterSimple":k.className="operatorList";k.width="60%";var W=null;if(this.__nameValuePair){W=this.__nameValuePair;}else{if(this.__selectValueList){W=this.__selectValueList;}}var R=document.createElement("TABLE");R.width="100%";R.cellPadding="0";R.cellspacing="0";k.appendChild(R);var G=R.insertRow(-1);var E=G.insertCell(-1);E.width="200px";this.__selectInstance=new actuate.parameter.impl.FilterControl(E,this.__name,this.__controlID,W,this.__defaultValue,this.__columnType,this.__isRequired,this.__defaultFilterOperator,this.__defaultFilterValueList,this.__columnName,this.__eventFramework);this.__selectInstance.setReadOnly(this.__readOnly);this.__updateSelectList(this.__selectInstance.getDefaultOperator(),false);var d=document.createElement("DIV");d.id=this.getFilterValueId(this.__controlID);d.className="filterDiv";var J=G.insertCell(-1);J.width="100%";J.noWrap="nowrap";J.style.minWidth="220px";J.style.verticalAlign="top";J.style.paddingLeft="5px";J.className="operatorList";J.appendChild(d);this.activateFilterValueEvent(J);break;default:if(this.__isAdHoc){k.className="paramAdHoc";k.id="paramAdHocColumn"+this.__controlID;var R=document.createElement("TABLE");R.width="100%";R.cellPadding="0";R.cellspacing="0";k.appendChild(R);var G=R.insertRow(-1);if(this.__isPassword){var g=G.insertCell(-1);var C=document.createElement("INPUT");C.name=this.__controlID;C.id=this.__controlID;C.type="password";C.className="paramTextbox";C.setAttribute("autocomplete","off");C.value=this.__defaultValue;C.disabled=this.__readOnly;C.isRequired=this.__isRequired;C.maxLength="30";actuate.parameter.Utility.prependInputClassName(C);if(this.__isRequired){actuate.parameter.Utility.highlightRequiredParameter(C,this.__defaultValue,"highlightRequiredParameters");}g.appendChild(C);}else{if(!this.__isEmptyMultiListAdHoc&&this.__isMultiListAdHoc||this.__isCascadingMultiList){this.__selectInstance=new actuate.parameter.impl.SelectControl(k,this.__name,this.__controlID,true,5);this.__selectInstance.getHtmlInstance().isMultiSelectControl=true;this.__selectInstance.setIsRequired(this.__isRequired);this.__selectInstance.setReadOnly(this.__readOnly);actuate.util.Event.observe(this.__selectInstance.getHtmlInstance(),"click",actuate.Method.bind2(actuate.parameter.Utility.onMultiListClick,this,this.__selectInstance.getHtmlInstance()));this.__updateSelectList(this.__defaultValueList,true);}else{var O=G.insertCell(-1);var C=document.createElement("INPUT");C.name=this.__controlID;C.id=this.__controlID;C.type="text";C.className="paramTextbox";C.setAttribute("autocomplete","off");C.disabled=this.__readOnly;C.isRequired=this.__isRequired;var D=this.__defaultValue;var f=this.__defaultValue;C.valueIsNull=false;O.appendChild(C);actuate.parameter.Utility.prependInputClassName(C);if(this.__showDisplayType){if(this.__readOnly!=true){f="";this._addParamHintText(C,D,L,C.className,"ParamHintCommonGray",C.id);if(D==""){D=L;}}}C.value=D;C.title=f;if(this.__isRequired){actuate.parameter.Utility.highlightRequiredParameter(C,D,"highlightRequiredParameters");}}}if(!this.__isMultiListAdHoc){var V=document.createElement("IMG");V.id=this.__controlID+".img";V.src=this.__iportalURL+actuate.parameter.Constants.LOC_IMG_ARROW;y.appendChild(V);y.className="adHocCell";if(!this.__readOnly){var w=document.createElement("DIV");w.id=this.__controlID+".div";w.className="adHocDiv";y.appendChild(w);}}break;}else{k.className="paramCommon";if(this.__isAdHoc==false){if(this.__dataType==actuate.parameter.Constants.DATE||this.__dataType==actuate.parameter.Constants.TIME||this.__dataType==actuate.parameter.Constants.DATE_ONLY){var F=(this.__dataType==actuate.parameter.Constants.DATE);var U=(this.__dataType==actuate.parameter.Constants.DATE_ONLY);var A=(this.__dataType==actuate.parameter.Constants.TIME);var R=document.createElement("TABLE");R.id=this.__controlID;R.cellPadding="0";R.cellspacing="0";k.appendChild(R);var G=R.insertRow(-1);if(F||U){var a=L;if(this.__showDisplayType){a=actuate.parameter.Utility.getParamHintText(this.__controlType,actuate.parameter.Constants.DATE_ONLY,this.__columnType,this.__isAdHoc,this.__isRequired,this.__defaultValue);}var Y=G.insertCell(-1);var q=document.createElement("INPUT");Y.appendChild(q);q.name=this.__controlID+".date";q.id=this.__controlID+".date";q.type="text";q.setAttribute("autocomplete","off");q.disabled=this.__readOnly;q.isRequired=this.__isRequired;var D;if(F){q.isDateDataType=true;q.controlId=this.__controlID;D=this.__dateValue;}else{q.isDateDataType=false;D=this.__defaultValue;}actuate.parameter.Utility.prependInputClassName(q);this._setEventsForHighlightingRequiredParam(q);if(this.__showDisplayType){this._addParamHintText(q,D,a,q.className,"ParamHintCommonGray");if(D==""){D=a;}}q.value=D;q.maxLength="30";this.__dateInputInstance=q;actuate.util.Event.observe(q,"change",actuate.Method.bindAsEventListener(this._onDateTimeChange,this));var s=G.insertCell(-1);var V=document.createElement("IMG");V.id=this.__controlID+".img";V.src=this.__iportalURL+actuate.parameter.Constants.LOC_IMG_CALENDAR;V.style.verticalAlign="bottom";var P=document.getElementById(this.__controlID+".date");s.appendChild(V);q.calImg=V;if(!this.__readOnly){V.onclick=actuate.Method.bind2(this._showCalendar,this,q);actuate.util.Event.observe(window,"resize",actuate.Method.bind2(this._alignCalendarControl,this,q),false);}}if(F||A){var t=G.insertCell(-1);var I=document.createElement("INPUT");t.appendChild(I);I.name=this.__controlID+".time";I.id=this.__controlID+".time";I.type="text";I.controlId=this.__controlID;I.setAttribute("autocomplete","off");I.disabled=this.__readOnly;I.isRequired=this.__isRequired;var X;if(F){I.isDateDataType=true;I.timeInput=true;X=this.__timeValue;}else{I.isDateDataType=false;X=this.__defaultValue;}actuate.parameter.Utility.prependInputClassName(I);this._setEventsForHighlightingRequiredParam(I);if(this.__showDisplayType){var H=actuate.parameter.Utility.getParamHintText(this.__controlType,actuate.parameter.Constants.TIME,this.__columnType,this.__isAdHoc,this.__isRequired,this.__defaultValue);this._addParamHintText(I,X,H,I.className,"ParamHintCommonGray");if(X==""){X=H;}}I.value=X;I.maxLength="30";this.__timeInputInstance=I;actuate.util.Event.observe(I,"change",actuate.Method.bindAsEventListener(this._onDateTimeChange,this));}if(this.__isRequired){actuate.parameter.Utility.highlightRequiredParameter(R,this.__defaultValue,"highlightRequiredParameters");}break;}else{var C;var N=false;if(this.__isPassword){C=document.createElement("INPUT");C.name=this.__controlID;C.id=this.__controlID;C.type="password";C.className="paramTextbox";C.setAttribute("autocomplete","off");C.value=this.__defaultValue;C.disabled=this.__readOnly;C.maxLength="30";C.isRequired=this.__isRequired;k.appendChild(C);actuate.parameter.Utility.prependInputClassName(C);if(this.__isRequired){actuate.parameter.Utility.highlightRequiredParameter(C,this.__defaultValue,"highlightRequiredParameters");}this._setEventsForHighlightingRequiredParam(C);}else{C=document.createElement("INPUT");k.appendChild(C);C.name=this.__controlID;C.id=this.__controlID;C.type="text";C.className="paramTextbox";C.setAttribute("autocomplete","off");C.disabled=this.__readOnly;C.isRequired=this.__isRequired;var b=this.__defaultValue;if(this.__isRequired==false&&b==null){b="";}var D=b;var f=b;actuate.parameter.Utility.prependInputClassName(C);if(this.__showDisplayType){f="";this._addParamHintText(C,D,L,C.className,"ParamHintCommonGray");N=true;if(D==""){D=L;}}C.value=D;C.title=f;}C.valueIsNull=false;this.addEnterKeyAttribute(C,!N);if(this.__isRequired){actuate.parameter.Utility.highlightRequiredParameter(C,this.__defaultValue,"highlightRequiredParameters");}this._setEventsForHighlightingRequiredParam(C);this.__htmlInstance=C;}}}}k.className+=" paramInputSection";}},_setEventsForHighlightingRequiredParam:function(A){this.__eventFramework.setOnMouseDownEvent(A);this.__eventFramework.setOnKeyUpEvent(A);},_onKeyPressFilterValue:function(A){if(A!=null&&A.keyCode==13){return false;}},getFilterValueId:function(A){var B=A+this.__filterValueElemSuffix;return B;},getFilterElementId:function(A){var B=A.substring(0,A.length-this.__filterValueElemSuffix.length);return B;},activateFilterValueEvent:function(A){if(navigator.appName=="Netscape"){A.onkeypress=actuate.Method.bind(this._onKeyPressFilterValue,this);}else{actuate.util.Event.observe(A,"keypress",actuate.Method.bindAsEventListener(this._onKeyPressFilterValue,this));}},addEnterKeyAttribute:function(A,B){if(actuate.util.Utility.isIE){A.processEnterKey=true;if(B){this.__eventFramework.setOnKeyDownEvent(A);}}},setCalendarInstance:function(A){this._calendarInstance=A;},_hideCalendar:function(){if(this._calendarInstance){this._calendarInstance.setEventFramework(null);this._calendarInstance.hideCalendar();}},_alignCalendarControl:function(A){if(this._calendarInstance){this._calendarInstance.alignCalendarControl(A);}},_showCalendar:function(A){if(this._calendarInstance){this._calendarInstance.setEventFramework(this.__eventFramework);this._calendarInstance.showCalendar(A);}},_onRadioClick:function(E){var D=actuate.util.Event.element(E);if(!D){return ;}if(E.ctrlKey){if(this.__isRequired===false){D.checked=false;}else{return ;}}else{var C="__isnull"+D.name;var B=document.getElementById(C);if(B&&B.checked){B.checked=false;var F=document.getElementById(D.name);if(F){F.valueIsNull=false;F.savedValue="";}}var A=document.getElementById(D.name);if(this.__isRequired){A.className=actuate.parameter.Utility.removeClassName(A.className,"highlightRequiredParameters");}}this.__eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,this.__controlID);},_onDateTimeChange:function(B){var A=actuate.util.Event.element(B);if(!A){return ;}this.__eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,this.__controlID);},setAutoSuggestDelay:function(A){this.__autoSuggestDelay=A;if(this.__htmlInstance!=null){this.__htmlInstance.setAutoSuggestDelay(A);}},setAutoSuggestFetchSize:function(A){this.__autoSuggestFetchSize=A;if(this.__htmlInstance!=null){this.__htmlInstance.setAutoSuggestFetchSize(A);}},setAutoSuggestListSize:function(A){this.__autoSuggestListSize=A;if(this.__htmlInstance!=null){this.__htmlInstance.setAutoSuggestListSize(A);}},__updateSelectList:function(H,L){actuate.parameter.Utility.startTimer("__updateSelectList");if(H==null&&!this.__isMultiListAdHoc){H="";}var G=false;this.__selectInstance.removeOptions();if(this.__operatorList){var E=actuate.parameter.Utility.getLocalizedOperatorList(this.__operatorList,this.__isRequired);var C=actuate.parameter.Utility.getFilterOperatorMap();var B=C.get(H);for(var F=0;F<E.length;F++){var D=E[F];var A=D.getName();var K=D.getValue();var J=false;if(B!=null&&K.toLowerCase()==B.toLowerCase()){J=true;}this.__selectInstance.appendOption(A,K,false,J);if(J){G=true;}}}else{if(this.__nameValuePair){if(this.__nameValuePair.length==0){this.__selectInstance.appendOption("","",false,true);}else{for(var F=0;F<this.__nameValuePair.length;F++){var K=this.__nameValuePair[F].getValue();var A=this.__nameValuePair[F].getName();var I=false;var J=false;if(this.__dataType!=null&&this.__dataType.toLowerCase()=="boolean"){J=K.toLowerCase()==H.toLowerCase();}else{if(typeof (H)!="string"){J=actuate.parameter.Utility.inArray(K,H);}else{J=(K==H)?true:false;}}if(K==null&&(!this.__isEmptyMultiListAdHoc&&this.__isMultiListAdHoc||this.__isCascadingMultiList)){I=true;if(A==null){A=actuate.parameter.Constants.NO_VALUE;}}this.__selectInstance.appendOption(A,K,false,J,I);if(J){G=true;}}}}else{if(this.__selectValueList){if(this.__selectValueList.length==0){this.__selectInstance.appendOption("","",false,true);}else{for(var F=0;F<this.__selectValueList.length;F++){var K=this.__selectValueList[F];var I=false;var J=false;if(this.__dataType!=null&&this.__dataType.toLowerCase()=="boolean"){J=K.toLowerCase()==H.toLowerCase();}else{if(typeof (H)!="string"){J=actuate.parameter.Utility.inArray(K,H);}else{J=(K==H)?true:false;}}if(K==null&&(!this.__isEmptyMultiListAdHoc&&this.__isMultiListAdHoc||this.__isCascadingMultiList)){I=true;this.__selectInstance.appendOption(actuate.parameter.Constants.NO_VALUE,K,false,J,I);}else{this.__selectInstance.appendOption(K,K,false,J,I);}if(J){G=true;}}}}}}if(H!=null&&L==true&&(G==false||typeof (H)!="string")){G=true;if(typeof (H)!="string"){for(var F=0;F<H.length;F++){if(!this.__selectInstance.hasValue(H[F])){this.__selectInstance.appendOption(H[F],H[F],false,true);}}}else{if(!this.__selectInstance.hasValue(H)){this.__selectInstance.appendOption(H,H,false,true);}}}if(G==false){if(this.__isRequired==true){if(this.__hasChildren||this.__cascadingParentName){this.__selectInstance.setSelectedIndex(-1);}else{this.__selectInstance.setSelectedIndex(0);}}else{if(this.__operatorList){this.__selectInstance.setSelectedIndex(0);}else{this.__selectInstance.setSelectedIndex(-1);}}}actuate.parameter.Utility.stopTimer("__updateSelectList");},__createHelpText:function(A,C){var B=document.createTextNode("  ");A.appendChild(B);var D=document.createElement("IMG");D.src=this.__iportalURL+actuate.parameter.Constants.LOC_IMG_HELP_TEXT;D.alt=C;D.title=C;D.className="helpTextImg";A.appendChild(D);},_onNullValueBoxclick:function(C){var B=this.__controlType;var K=this.__dataType;var M=this.__controlID;var D=true;var J=true;if(K==actuate.parameter.Constants.DATE||K==actuate.parameter.Constants.DATE_ONLY){if(B==null){M=M+".date";}}else{if(K==actuate.parameter.Constants.TIME){if(B==null){M=M+".time";}}}var G=document.getElementById(M);var F=G.disabled;var E;var I=actuate.util.Event.element(C);if(I&&!I.checked){if(B!=null&&B.toLowerCase()=="controlradiobutton"){var L=actuate.parameter.Utility._setRadioValue(G,G.savedRadioIndex);G.value=G.savedValue;G.savedValue="";G.savedRadioIndex=-1;G.valueIsNull=false;}else{if(B!=null&&B.toLowerCase()=="controllistallownew"){E=document.getElementById("txt"+M);this._nullValueUnselected(G);this._nullValueUnselected(E);}else{this._nullValueUnselected(G);if(K==actuate.parameter.Constants.DATE&&B==null){M=this.__controlID+".time";G=document.getElementById(M);this._nullValueUnselected(G);}if(G.type=="text"){if(G.hintTextAdded==true){D=false;}}}}}else{if(B!=null&&B.toLowerCase()=="controlradiobutton"){var A=actuate.parameter.Utility._clearRadioValue(G);var H=document.getElementsByName(G.id);if(A!=-1){G.savedValue=H[A].value;}G.savedRadioIndex=A;G.valueIsNull=true;}else{if(B!=null&&B.toLowerCase()=="controllistallownew"){E=document.getElementById("txt"+M);this._nullValueSelected(E);this._nullValueSelected(G);G.savedValue=E.savedValue;}else{this._nullValueSelected(G);if(K==actuate.parameter.Constants.DATE||K==actuate.parameter.Constants.DATE_ONLY){this._hideCalendar();if(K==actuate.parameter.Constants.DATE&&B==null){M=this.__controlID+".time";G=document.getElementById(M);this._nullValueSelected(G);}}if(G.type=="text"){if(G.hintTextAdded==true){D=false;}}}}}if(this.__initialize!=true&&D==true){this.__eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,this.__controlID,J);}},_nullValueSelected:function(A){actuate.parameter.Utility.nullValueSelected(A,this.__controlType,this.__htmlInstance);},_nullValueUnselected:function(A){actuate.parameter.Utility.nullValueUnselected(A,this.__controlType,this.__htmlInstance);},_addNullableElement:function(D){var C=D.insertCell(-1);C.className="paramRequiredText";var A=document.createTextNode(" ");C.appendChild(A);nullValueCell=D.insertCell(-1);nullValueCell.className="controlNullValueButton";nullValueElement=document.createElement("INPUT");if(this.__nullValueDisplayName==null){this.__nullValueDisplayName=actuate.parameter.ResourceBundle.getMessage("LBL_NULL_VALUE");}var B=document.createTextNode(" "+this.__nullValueDisplayName);nullValueElement.type="checkbox";nullValueElement.id=this.__getNullValueCheckBoxId(this.__controlID);nullValueCell.appendChild(nullValueElement);nullValueCell.appendChild(B);actuate.util.Event.observe(nullValueElement,"click",actuate.Method.bindAsEventListener(this._onNullValueBoxclick,this));},_addTextInNotesArea:function(G,F,E,B){var H=null;var D=G.insertCell(-1);D.className=E;var A=document.createTextNode(" ");D.appendChild(A);H=G.insertCell(-1);H.className=B;var C=document.createTextNode(F);H.appendChild(C);},_addParamHintText:function(B,E,C,D,A){B.hintClassName=D+" "+A;B.hintText=C;B.hintClassName=actuate.parameter.Utility.removeInputTextColorClass(B.hintClassName);B.normalClassName=D;B.hintTextAdded=true;if(E==null||E==""){B.className=B.hintClassName;B.valueIsHint=true;B.value=C;}else{B.valueIsHint=false;}this.__eventFramework.setOnClickEvent(B);this.__eventFramework.setOnBlurEvent(B);this.__eventFramework.setOnMouseDownEvent(B);this.__eventFramework.setOnKeyDownEvent(B);},_noValueCheckboxExist:function(){var A=false;if(this.__isAdHoc==false&&this.__readOnly!=true&&(this.__isRequired==null||this.__isRequired==false)&&this.__nullValueSupported==true){A=true;}return A;},toggleRadioButtons:function(C,D){var B=document.getElementsByName(C);for(var A=0;A<B.length;A++){B[A].disabled=!D;}}};actuate.util.Package.define("actuate.parameter.impl");actuate.parameter.impl.MasterParametersContainer=actuate.Class.create();actuate.parameter.impl.MasterParametersContainer.prototype={_defaultContainer:null,_iportalUrl:null,_eventFramework:null,_groupNames:null,_mapContainerIDForGroupNames:null,_arrayContainerIDs:null,_parametersContainers:null,_paramDefinitionObjects:null,_containerIDMap:null,_adhocContent:null,_currentAdHocTextControl:null,_readOnly:false,_expandedGroups:null,_autoSuggestDelay:500,_autoSuggestFetchSize:-1,_autoSuggestListSize:-1,_nullValueDisplayName:null,_nullValueSupported:true,_calendarContainerID:null,_mainCalendarInstance:null,initialize:function(B,C,A){this._defaultContainer=B;this._iportalUrl=A;this._eventFramework=C;this._registerEventHandlers(C);this._arrayContainerIDs=new Array(B.id);this._parametersContainers=new Object();this._mapContainerIDForGroupNames=new Object();this._adhocContent=actuate.parameter.Utility.generateAdHocMenu();},getDefaultContainer:function(){return this._defaultContainer;},setReadOnly:function(A){this._readOnly=A;},setExpandedGroups:function(A){this._expandedGroups=A;},setNullValueSupported:function(A){this._nullValueSupported=A;},setAutoSuggestListSize:function(A){this._autoSuggestListSize=A;},setAutoSuggestFetchSize:function(A){this._autoSuggestFetchSize=A;},setAutoSuggestDelay:function(A){this._autoSuggestDelay=A;},_registerEventHandlers:function(A){if(A){this._eventFramework=A;}else{this._eventFramework=new actuate.parameter.EventHandler();}this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_CHANGE,actuate.Method.bind(this._onChangeHandler,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_CLICK,actuate.Method.bind(this._onClickHandler,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_BLUR,actuate.Method.bind(this._onBlurHandler,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_MOUSE_DOWN,actuate.Method.bind(this._onMouseDownHandler,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_KEY_DOWN,actuate.Method.bind(this._onKeyDownHandler,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_KEY_UP,actuate.Method.bind(this._onKeyUpHandler,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_ADHOC_CLICK,actuate.Method.bind(this._onAdHocClickHandler,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_AUTO_SUGGESTION_CHANGE,actuate.Method.bind(this._onAdHocClickHandler,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_EXCEPTION_CONTAINER,actuate.Method.bind(this._onException,this));},_onChangeHandler:function(B,I){actuate.parameter.Utility.startTimer("_onChangeHandler");var L=this.getParamDefFromControlID(B);var C=document.getElementById(B);var A=L.getControlType();var H=A==null?A:A.toLowerCase();var F=L.getName();if(!I){this.setNoValueCheckBoxStatus(B);}if(!C){}else{if(L&&actuate.parameter.Utility.isDateTimeTypeControl(L)){this._processDateTimeChanges(B,L);}else{if(C.tagName.toUpperCase()=="SELECT"){if(C.selectedIndex>-1){C.title=C.options[C.selectedIndex].title;if(C.isRequired){var N=document.getElementById("selectListColumn"+C.id);if(N){if(C.value==""){N.className=actuate.parameter.Utility.appendClassName(N.className,"highlightRequiredParameters");}else{N.className=actuate.parameter.Utility.removeClassName(N.className,"highlightRequiredParameters");}}}}}else{if(C.tagName.toUpperCase()=="INPUT"&&(C.type.toUpperCase()=="TEXT"||C.type.toUpperCase()=="FILE")){C.title=C.value;}}}}var E=this.getChildParamDef(F);if(E){this.showMask(L);var D=this._getAncestors(E,new Array());this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CASCADING_CHANGE,E,D);}else{this.hideMask(L);this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CASCADING_CHANGE_DONE,null);}var M=this.getParameterValue(L,false);var K=null;if(H=="filtersimple"){K=C.convertedValue;if(K==null){K=M.getValue();}}else{K=M.getValueIsNull()?null:M.getValue();}var J=new actuate.parameter.NameValuePair(F,K);this._eventFramework.fireEvent(actuate.parameter.EventConstants.ON_CHANGED,J);if(L.getControlType()=="ControlList"){this._eventFramework.fireEvent(actuate.parameter.EventConstants.ON_SELECTION_CHANGED,J);}if(E==null){var G=this._getAncestors(L,new Array());G.push(J);this._eventFramework.fireEvent(actuate.parameter.EventConstants.ON_CHANGE_COMPLETED,G);}actuate.parameter.Utility.stopTimer("_onChangeHandler");},setNoValueCheckBoxStatus:function(F){if(actuate.parameter.Utility.endsWith(F,".date")){var E="__isnull"+F.substring(0,F.indexOf(".date"));var B=document.getElementById(E);if(B&&B.checked){B.checked=false;var C=document.getElementById(F);if(C){C.valueIsNull=false;C.savedValue="";}var D=document.getElementById(F.substring(0,F.indexOf(".date")+".time"));if(D){D.valueIsNull=false;D.savedValue="";}}}else{if(actuate.parameter.Utility.endsWith(F,".time")){var E="__isnull"+F.substring(0,F.indexOf(".time"));var B=document.getElementById(E);if(B&&B.checked){B.checked=false;var D=document.getElementById(F);if(D){D.valueIsNull=false;D.savedValue="";}var C=document.getElementById(F.substring(0,F.indexOf(".time")+".date"));if(C){C.valueIsNull=false;C.savedValue="";}}}else{var E="__isnull"+F;var B=document.getElementById(E);if(B&&B.checked){B.checked=false;var A=document.getElementById(F);if(A){A.valueIsNull=false;A.savedValue="";}}}}},_onClickHandler:function(H){actuate.parameter.Utility.startTimer("_onClickHandler");var G=H.indexOf(".img");if(G>-1){if(this._readOnly){return ;}var A=document.getElementById(H);var F=H.substring(0,G)+".div";var B=document.getElementById(F);var E=H.substring(0,G);var D=document.getElementById(E);if(D.type=="select-one"){D=document.getElementById("txt"+E);}this._showAdHocMenu(A,D,B);}else{if(H.indexOf(".paramGroupImg")>-1){actuate.parameter.Utility.toggleCollapsibleGroup.call(this,H,this._iportalUrl);}}var C=document.getElementById(H);if(C&&C.clickHintText!=true){this._clickHintText(C);}actuate.parameter.Utility.stopTimer("_onClickHandler");},_onKeyDownHandler:function(B){actuate.parameter.Utility.startTimer("_onKeyDownHandler");var A=document.getElementById(B);if(A.hintTextAdded==true){this._keyDownHintTextArea(A);}actuate.parameter.Utility.stopTimer("_onKeyDownHandler");},_keyDownHintTextArea:function(B){if(B.hintTextAdded==true){if(B.valueIsHint==true){B.valueIsHint=false;B.className=B.normalClassName;var A=B.value.indexOf(B.hintText);if(A>-1){if(A==0){B.value=B.value.substring(B.hintText.length);}else{B.value=B.value.substring(0,A);}}}B.mouseDownHintArea=false;B.blurClicked=false;B.clickHintText=false;}},_onKeyUpHandler:function(C){actuate.parameter.Utility.startTimer("_onKeyUpHandler");var A=document.getElementById(C);var B=A.value;if(A&&A.isRequired){if(typeof (A.isDateDataType)!="undefined"){A=actuate.parameter.Utility.getCorrectDateElementToHighlight(A);}if(B==null||B==""){actuate.parameter.Utility.highlightRequiredParameter(A,B,"highlightRequiredParameters");}else{A.className=actuate.parameter.Utility.removeClassName(A.className,"highlightRequiredParameters");}}actuate.parameter.Utility.stopTimer("_onKeyUpHandler");},_onMouseDownHandler:function(B){actuate.parameter.Utility.startTimer("_onMouseDownHandler");var A=document.getElementById(B);this._MouseDownHintTextArea(A);actuate.parameter.Utility.stopTimer("_onMouseDownHandler");},_MouseDownHintTextArea:function(A){if(A.hintTextAdded==true){if(A.mouseDownHintArea!=true){A.mouseDownHintArea=true;}A.blurClicked=false;A.clickHintText=false;}},_onBlurHandler:function(B){actuate.parameter.Utility.startTimer("_onBlurHandler");var A=document.getElementById(B);if(A.hintTextAdded==true&&A.blurClicked!=true&&A.autoSuggestionListShown!=true){this._BlurHintText(A);}actuate.parameter.Utility.stopTimer("_onBlurHandler");},_BlurHintText:function(A){if(A.hintTextAdded==true&&A.blurClicked!=true){A.blurClicked=true;A.clickHintText=false;A.mouseDownHintArea=false;if(A.valueIsHint!=true&&A.valueIsNull!=true&&(A.value==null||actuate.parameter.Utility.trim(A.value)=="")){if(A.isRequired){A.className=actuate.parameter.Utility.appendClassName(actuate.parameter.Utility.removeInputTextColorClass(A.className),"ParamHintCommonGray");}else{A.className=A.hintClassName;}A.value=A.hintText;A.valueIsHint=true;}}},_clickHintText:function(A){if(A.hintTextAdded==true&&A.clickHintText!=true){A.blurClicked=false;A.clickHintText=true;A.mouseDownHintArea=false;if(A.valueIsHint==true){A.value="";A.valueIsHint=false;if(A.isRequired){A.className=actuate.parameter.Utility.appendClassName(actuate.parameter.Utility.removeClassName(A.className,"ParamHintCommonGray"),"inputTextColor");}else{A.className=A.normalClassName;}}}},_onAdHocClickHandler:function(A){if(this._readOnly){return ;}this._currentAdHocTextControl.value=this._currentAdHocTextControl.value+A.id;this._clearAllDivs();},_processDateTimeChanges:function(G,F){var D=new actuate.parameter.ParameterValue();var C=false;var E=null;D.setValue(this.getParameterValue(F,false));D.setValueIsNull(C);D.setName(this._name);D.setControlType(F.getControlType());D.setColumnType(this._columnType);D.setColumnName(this._columnName);var B=new actuate.parameter.ConvertUtility([D]);var A=function(H){if(typeof (H)=="string"){return ;}this._eventFramework.fireEvent(actuate.parameter.EventConstants.ON_CHANGE_COMPLETED,parameterValues);};B.convertDate(actuate.Method.bind(A,this));},getParamDefFromControlID:function(E){for(var C=0;C<this._paramDefinitionObjects.length;C++){var B=this._paramDefinitionObjects[C];var F=B.getName();var A=B.getDataType();var D=this.createUniqueControlID(F);if(B.getControlType()==null&&(A==actuate.parameter.Constants.DATE||A==actuate.parameter.Constants.DATE_ONLY)){if(D.indexOf(".date")>-1){D=D.substring(0,D.indexOf(".date"));}}else{if(B.getControlType()==null&&A==actuate.parameter.Constants.TIME){if(D.indexOf(".time")>-1){D=D.substring(0,D.indexOf(".time"));}}}if(D!=null&&D.toUpperCase()==E.toUpperCase()){return B;}}return null;},_showAdHocMenu:function(E,A,B){this._clearAllDivs();B.innerHTML="";B.innerHTML=this._adhocContent;if(B.style.display==""||B.style.display=="none"){B.style.display="block";}else{B.style.display="none";}this._currentAdHocTextControl=A;var D=actuate.util.Utility.getElementsByClassName("adHocItem");for(var C=0;C<D.length;C++){this._eventFramework.setOnAdHocClick(D[C]);}},_clearAllDivs:function(){actuate.parameter.Utility.startTimer("_clearAllDivs");for(var F=0;F<this._paramDefinitionObjects.length;F++){var K=this._paramDefinitionObjects[F];if(K.getControlType()==null&&(K.isAdHoc()&&K.getSelectNameValueList()==null&&K.getSelectValueList()==null)){var G=K.getName();var A=this._getContainerIDForParam(G);var C=this._parametersContainers[A].getLayoutManager();var B=C.getGroups();for(var E=0;E<B.length;E++){var L=C.getParamDefs(B[E]);var D=actuate.parameter.Utility.checkIfGroupHasParameter(L,G);if(D>-1){var H=A+"GroupID"+E;var J=H+"ParameterID"+D+".div";var I=document.getElementById(J);if(typeof (I)!="undefined"&&I!=null){I.innerHTML="";}}}}}actuate.parameter.Utility.stopTimer("_clearAllDivs");},_resizeControls:function(){var D=this._paramDefinitionObjects;if(!D){return ;}for(var B=0;B<D.length;B++){var G=D[B];var F=G.getName();if(!G.isHidden()&&G.getDataType()!=actuate.parameter.Constants.TABLE){var H=G.getControlType();if(H=="ControlListAllowNew"){var E=this._getContainerIDForParam(F);var A=this._parametersContainers[E];var C=A.getMapOfHTMLInstances();if(C[F]&&C[F].__htmlInstance){C[F].__htmlInstance._alignTextBox();}}}}},getParameterValue:function(B,Q){if(B==null){return null;}var N=new actuate.parameter.ParameterValue();var F=B.getName();var A=null;var C=false;if(Q==true){C=B.getDefaultValueIsNull();A=B.getDefaultValue();}else{var E=this.createUniqueControlID(F);var I=document.getElementById(E);if(I==null){A=B.getCurrentValue();}else{var K=I.tagName==null?null:I.tagName.toUpperCase();var S=I.type==null?null:I.type.toUpperCase();var P=B.getControlType()==null?null:B.getControlType().toUpperCase();if(P=="FILTERSIMPLE"){var O=actuate.parameter.Utility.getFilterBREValue(I,B);A=O.getValue();N.setValueArray(O.getValueArray());N.setOperator(O.getOperator());N.setControlType(B.getControlType());}else{if(K=="FIELDSET"){A=this._getRadioValue(I);}else{if(S=="SELECT-MULTIPLE"){A=actuate.parameter.Utility.getMultiListControlValueArray(I);}else{if(S=="SELECT-ONE"){var G=document.getElementById("txt"+E);if(typeof (G)!="undefined"&&G!=null&&!actuate.parameter.Utility.isPartOfSelectList(I,G.value)){A=G.valueIsHint?"":G.value;}else{A=this._getSelectControlValue(I);}}else{if(S=="CHECKBOX"){if(I.valueIsNull==true){A="";}else{A=I.checked?"true":"false";}}else{if(B!=null&&B.getDataType()=="Date"&&P==null){var H=E.indexOf(".date");if(H!=-1){var R=I.value;if(I.valueIsHint==true){R="";}var D=E.substring(0,H)+".time";var M=document.getElementById(D);if(M!=null&&typeof (M)!="undefined"){var J=M.value;if(M.valueIsHint==true){J="";}}if(R.length>0&&J.length>0){A=R+" "+J;}else{if(R.length>0&&J.length==""){A=R;}else{if(J.length>0&&R.length==""){A=J;}else{A="";}}}}}else{if(P=="AUTOSUGGEST"){var L=document.getElementById(I.id+"_hiddenauto");if(I.valueIsHint==true){A="";}else{if(L!=null&&typeof (L)!="undefined"){A=L.value;}else{A=I.value;}}}else{if(I.valueIsHint==true){A="";}else{A=I.value;}}}}}}}}C=I.valueIsNull;if(!C){C=false;}}}if(A==null){A="";}N=actuate.parameter.Utility.setParameterValue(N,A,C,B);return N;},getMultiListControlValueArray:function(A){return actuate.parameter.Utility.getMultiListControlValueArray(A);},getMultiListControlValue:function(A){var B=true;var D="";for(var C=0;C<A.options.length;C++){if(A.options[C].selected==true){if(!B){D=D+"|";D=D+A.options[C].value;}else{B=false;D=A.options[C].value;}}}return D;},_getAncestors:function(D,G){var B=D.getCascadingParentName();if(!B){return G;}for(var C=0;C<this._paramDefinitionObjects.length;C++){var A=this._paramDefinitionObjects[C];if(A.getName()==B){var F=false;var E=this.getParameterValue(A,this._readOnly);G.splice(0,0,E);G=this._getAncestors(A,G);}}return G;},getChildParamDef:function(B){for(var A=0;A<this._paramDefinitionObjects.length;A++){if(this._paramDefinitionObjects[A].getCascadingParentName()==B){return this._paramDefinitionObjects[A];break;}}},_cascadeParameterUseDefault:function(I,D){var E=D;var B=I.getCascadingParentName();if(!B){return E;}if(E==null){E=true;}for(var F=0;F<this._paramDefinitionObjects.length;F++){var H=this._paramDefinitionObjects[F];if(H.getName()==B){var K=this.getParameterValue(H,this._readOnly);var C=K.getValue();var A=K.getValueIsNull();var G=H.getDefaultValueIsNull();if(E==true){if(A==false&&G==false){if(H.getDefaultValue()!=K.getValue()){if(H.getDataType()!=null&&H.getDataType().toLowerCase()=="boolean"){if(H.getDefaultValue()&&K.getValue()&&H.getDefaultValue().toLowerCase()!=K.getValue().toLowerCase()){E=false;break;}}else{E=false;break;}}}else{if((A==false&&G==true)||(A==true&&G==false)){E=false;break;}}}var J=H.getCascadingParentName();if(J!=null&&J!=""){E=this._cascadeParameterUseDefault(H,E);break;}else{break;}}}return E;},renderChangedControl:function(G){actuate.parameter.Utility.startTimer("renderChangedControl");var C=G.getControlType();var R=false;var Q=false;var O=G.getCascadingParentName();var U=(O!=null&&O!="")?true:false;if(U){R=actuate.parameter.Utility.hasCascadingChildren(this._paramDefinitionObjects,G);Q=actuate.parameter.Utility.isCascadingMultiList(G,R);}var K=this.createUniqueControlID(G.getName());var E=document.getElementById(K);if(!E){this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,K);}else{if(C=="ControlList"||C=="ControlListAllowNew"||Q){var X=false;var N=G.getDefaultValue();var J=G.getDefaultValueIsNull();var I=false;if(U==true){X=this._cascadeParameterUseDefault(G);}E.options.length=0;var D=-1;if(G.getSelectNameValueList()!=null){var V=G.getSelectNameValueList();if(V.length==0){var M="";if(X==true&&C=="ControlListAllowNew"){M=N;I=true;D=0;}this._createOptionElement(E,M,M,M);}else{for(var S=0;S<V.length;S++){var W=V[S];var M=W.getValue();if(J==false){if(I==false){if(U==true&&X==true){I=N==M?true:false;if(I==true){D=S;}}}}this._createOptionElement(E,W.getName(),M,W.getName());}}}else{if(G.getSelectValueList()!=null){var B=G.getSelectValueList();if(B.length==0){var M="";if(X==true&&C=="ControlListAllowNew"){M=N;I=true;D=0;}this._createOptionElement(E,M,M,M);}else{for(var S=0;S<B.length;S++){var W=B[S];var M=W.getValue();if(J==false){if(I==false){if(U==true&&X==true){I=N==M?true:false;if(I==true){D=S;}}}}this._createOptionElement(E,M,M,M);}}}}this._eventFramework.fireEvent(actuate.parameter.EventConstants.ON_PICKLIST_CHANGED_PD,G);if(D==-1&&G.isRequired()==true){D=0;}E.options.selectedIndex=D;E.savedSelectedIndex=D;if(C=="ControlListAllowNew"){var L="";var T=K;var H="txt"+K;var A=document.getElementById(H);if(X==true){var F=actuate.parameter.Utility.getNullValueCheckBoxId(K);var P=document.getElementById(F);if(J==true&&P){P.checked=true;actuate.parameter.Utility.nullValueSelected(A,C,null);actuate.parameter.Utility.nullValueSelected(E,C,null);E.savedValue="";}else{if(P){P.checked=false;actuate.parameter.Utility.nullValueUnselected(E,C,null);}if(I==false&&U==true){L=N;T=H;A.value=L;this._createOptionElement(E,N,N,N);}}}A.savedValue=L;A.savedTitle=L;this._fireComboboxChangeEvent(G,T);}else{if(C=="ControlList"){if(X==true){var F=actuate.parameter.Utility.getNullValueCheckBoxId(K);var P=document.getElementById(F);if(J==true&&P){P.checked=true;actuate.parameter.Utility.nullValueSelected(E,C,null);E.savedValue="";}else{if(P){P.checked=false;actuate.parameter.Utility.nullValueUnselected(E,C,null);}}}}this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,K);}}}actuate.parameter.Utility.stopTimer("renderChangedControl");},_fireComboboxChangeEvent:function(B,C){var E=B.getName();var D=this._getContainerIDForParam(E);var A=this._parametersContainers[D];A.fireComboboxChangeEvent(E,C);},_createOptionElement:function(A,B,D,F){var E=document.createElement("option");E.text=B;E.value=D;E.title=F;try{A.add(E,null);}catch(C){A.add(E);}},createUniqueControlID:function(K){actuate.parameter.Utility.startTimer("createUniqueControlID");var A=null;if(this._paramDefinitionObjects!=null&&this._paramDefinitionObjects.length>0){for(var G=0;G<this._paramDefinitionObjects.length;G++){var J=this._paramDefinitionObjects[G];var H=J.getName();if(H.toUpperCase()==K.toUpperCase()){var L=this._getContainerIDForParam(K);var I=this._parametersContainers[L].getParamDefContainerID();var D=this._parametersContainers[L].getLayoutManager();var B=D.getGroups();for(var F=0;F<B.length;F++){var M=D.getParamDefs(B[F]);var E=actuate.parameter.Utility.checkIfGroupHasParameter(M,H);var C=I+"GroupID"+F;if(E>-1){if((J.getDataType()==actuate.parameter.Constants.DATE||J.getDataType()==actuate.parameter.Constants.DATE_ONLY)&&J.getControlType()==null){A=C+"ParameterID"+E+".date";break;}else{if(J.getDataType()==actuate.parameter.Constants.TIME&&J.getControlType()==null){A=C+"ParameterID"+E+".time";break;}else{A=C+"ParameterID"+E;break;}}}}break;}}}actuate.parameter.Utility.stopTimer("createUniqueControlID");return A;},_getContainerIDForParam:function(A){for(var D=0;D<this._arrayContainerIDs.length;D++){var C=this._containerIDMap[this._arrayContainerIDs[D]];for(var B=0;B<C.length;B++){if(C[B].getName().toUpperCase()==A.toUpperCase()){return this._arrayContainerIDs[D];}}}},getParameterValues:function(){var A=null;if(this._paramDefinitionObjects!=null&&this._paramDefinitionObjects.length>0){A=new Array();for(var B=0;B<this._paramDefinitionObjects.length;B++){var C=this.getParameterValue(this._paramDefinitionObjects[B],this._readOnly);A.push(C);}}return A;},validateParameters:function(){var C=null;var L=this.getParameterValues();if(L!=null&&L.length>0){for(var N=0;N<L.length;N++){var S=this._paramDefinitionObjects[N];if(S.isHidden()==false){var E=S.getName();var G=S.getDisplayName();if(G!=null&&typeof (G)!="undefined"&&G.length>0){E=G;}if(S.isRequired()==true){if(L[N].getValueIsNull()==false){var I=L[N].getName();var F=this.createUniqueControlID(I);var A=this.getParamDefFromControlID(F);if(A&&A.getControlType()!=null&&A.getControlType().toUpperCase()=="FILTERSIMPLE"){var D=actuate.parameter.Utility.createFilterValueId(F);var R=D[0];var H=document.getElementById(R);var Q=D[1];var P=document.getElementById(Q);if((H&&actuate.parameter.Utility.checkIfComboboxAndGetValue(R,H)=="")||(P&&actuate.parameter.Utility.checkIfComboboxAndGetValue(Q,P)=="")){C=actuate.parameter.ResourceBundle.getMessage("MSG_REQ_PARAM_MISSING",new Array(E));break;}}else{if((typeof (L[N].getValue())=="string"&&L[N].getValue().replace(/(.*?)\s*$/,"$1")=="")||(typeof (L[N].getValue())=="object"&&L[N].getValue().length==0)){C=actuate.parameter.ResourceBundle.getMessage("MSG_REQ_PARAM_MISSING",new Array(E));break;}}}else{C=actuate.parameter.ResourceBundle.getMessage("MSG_REQ_PARAM_NOVALUE",new Array(E));break;}}else{if(S.isDynamicFilterControl()){var J=L[N].getColumnType();J=(J)?J.toUpperCase():"";var K=L[N].getOperator();K=(K)?K.toLowerCase():"";if(J!="STRING"&&K!=""){var B=L[N].getValueArray();if(K=="eq"||K=="ne"||K=="lt"||K=="le"||K=="gt"||K=="ge"||K=="between"||K=="not-between"||K=="in"||K=="not-in"||K=="match"||K=="not-match"){if(typeof (B)=="object"){var M=false;if(B.length==0){M=true;}else{for(var N=0,O=B.length;N<O;N++){if(typeof (B[N])=="string"&&actuate.parameter.Utility.trim(B[N])==""){M=true;break;}}}if(M){C=actuate.parameter.ResourceBundle.getMessage("ERRMSG_INVALID_PARAMETER_VALUE",new Array(E));break;}}}}}}}}}return C;},_getSelectControlValue:function(B){var C=null;var A=B.selectedIndex;if((A!=null)&&(A>-1)){C=B.options[A].value;}return C;},_getRadioValue:function(A){var B=this._getRadioElement(A);var C=B==null?"":B.value;return C;},_getRadioElement:function(A){var D=document.getElementsByName(A.id);var B=null;for(var C=0;C<D.length;C++){if(D[C].checked){B=D[C];break;}}return B;},setGroupContainer:function(B,A){this._groupNames=B;if(typeof (B)=="string"){if(this._arrayContainerIDs.indexOf(A)==-1){this._arrayContainerIDs.push(A);}this._mapContainerIDForGroupNames[B]=A;}else{for(var C=0;C<B.length;C++){if(this._arrayContainerIDs.indexOf(A)==-1){this._arrayContainerIDs.push(A);}this._mapContainerIDForGroupNames[B[C]]=A;}}},setAutoSuggestion:function(E,A,D){var C=E.getName();var F=this._getContainerIDForParam(C);var B=this._parametersContainers[F];B.setAutoSuggestion(E,A,D);},renderParameterContent:function(F,G,A,C){actuate.parameter.Utility.startTimer("renderParameterContent");this._defaultContainer.innerHTML="";if(F==null||F.length==0){this._displayNoParamMsg();this._paramDefinitionObjects=null;return ;}this._paramDefinitionObjects=F;if(this._nullValueDisplayName==null){this._nullValueDisplayName=actuate.parameter.ResourceBundle.getMessage("LBL_NULL_VALUE");}var B=this._createGroupByContainer();var D=0;for(var E=0;E<this._arrayContainerIDs.length;E++){var H=this._createParameterContainer(this._arrayContainerIDs[E]);this._parametersContainers[this._arrayContainerIDs[E]]=H;H.setAutoSuggestFetchSize(this._autoSuggestFetchSize);H.setAutoSuggestListSize(this._autoSuggestListSize);H.setAutoSuggestDelay(this._autoSuggestDelay);H.setNullValueDisplayName(this._nullValueDisplayName);H.setNullValueSupported(this._nullValueSupported);H.setExpandedGroups(this._expandedGroups);H.renderParameterContent(this._containerIDMap[this._arrayContainerIDs[E]],G,A,C,this._readOnly);D+=H._getTotalVisibleParameters();}if(D==0){this._displayNoParamMsg();return ;}actuate.parameter.Utility.stopTimer("renderParameterContent");},_getContainerObject:function(A){var B=null;if(typeof (A)=="string"){B=document.getElementById(A);}else{B=A;}if(!B){throw"No container object specified";}return B;},_createCalendarContainer:function(A){var C=A.id+"_calendar.div";var D=document.getElementById(C);var E=null;if(!D||!D.calendarInstance){var B=document.createElement("DIV");B.id=C;B.className="dateContainer";A.appendChild(B);E=new actuate.parameter.impl.CalendarControl(B,this._eventFramework);D=B;D.calendarInstance=E;}return D.calendarInstance;},_createAutosuggestContainer:function(A){var B=document.createElement("DIV");B.id=A.id+"_autosuggest.div";B.className="auto_suggestion_container";B.style.position="absolute";var C=document.createElement("DIV");C.className="relativeWrapper_auto_suggestion_list";C.appendChild(B);C.style.position="absolute";A.appendChild(C);return C;},clearContent:function(){if(this._defaultContainer){this._defaultContainer.innerHTML="";}},_createParameterContainer:function(B){var G=this._getContainerObject(B);var D=document.createElement("DIV");D.id="wrapper"+G.id;D.style.position="relative";var F=document.createElement("DIV");F.id="main"+G.id;D.appendChild(F);var E=this.getCalendarInstance();if(!E){E=this._createCalendarContainer(D);}var A=this._createAutosuggestContainer(D);G.appendChild(D);var C=new actuate.parameter.impl.ParametersContainer(F,this._eventFramework,this._iportalUrl,E,A);return C;},_createGroupByContainer:function(){actuate.parameter.Utility.startTimer("_createGroupByContainer");this._containerIDMap=new Object();for(var A=0;A<this._paramDefinitionObjects.length;A++){var B=this._paramDefinitionObjects[A].getGroup();if(B==null){if(typeof (this._containerIDMap[this._defaultContainer.id])=="undefined"){this._containerIDMap[this._defaultContainer.id]=new Array();this._containerIDMap[this._defaultContainer.id].push(this._paramDefinitionObjects[A]);}else{this._containerIDMap[this._defaultContainer.id].push(this._paramDefinitionObjects[A]);}}else{if(typeof (this._mapContainerIDForGroupNames[B])=="undefined"){if(typeof (this._containerIDMap[this._defaultContainer.id])=="undefined"){this._containerIDMap[this._defaultContainer.id]=new Array();this._containerIDMap[this._defaultContainer.id].push(this._paramDefinitionObjects[A]);}else{this._containerIDMap[this._defaultContainer.id].push(this._paramDefinitionObjects[A]);}}else{if(typeof (this._containerIDMap[this._mapContainerIDForGroupNames[B]])=="undefined"){this._containerIDMap[this._mapContainerIDForGroupNames[B]]=new Array();this._containerIDMap[this._mapContainerIDForGroupNames[B]].push(this._paramDefinitionObjects[A]);}else{this._containerIDMap[this._mapContainerIDForGroupNames[B]].push(this._paramDefinitionObjects[A]);}}}}actuate.parameter.Utility.stopTimer("_createGroupByContainer");},_displayNoParamMsg:function(){var A=document.createElement("label");var B=actuate.parameter.ResourceBundle.getMessage("MSG_REPORT_NO_PARAMS");A.innerHTML=B;A.setAttribute("style","display:block;padding-left:2px;padding-top:2px");this._defaultContainer.appendChild(A);},setCalendarContainerID:function(A){this._calendarContainerID=A;},getCalendarInstance:function(){if(!this._calendarContainerID){return null;}if(this._mainCalendarInstance){return this._mainCalendarInstance;}var A=this._getContainerObject(this._calendarContainerID);this._mainCalendarInstance=this._createCalendarContainer(A);return this._mainCalendarInstance;},getParameterDefinitions:function(){return this._paramDefinitionObjects;},navigate:function(E,D){var C=document.getElementById(E);var A=this._parametersContainers[E].getLayoutManager();var B=A.getHtmlId(D);A.onClickHandler(B);},showMask:function(B){var C=this._getContainerIDForParam(B.getName());var A=this._parametersContainers[C];A.showMask();},hideMask:function(B){var C=this._getContainerIDForParam(B.getName());var A=this._parametersContainers[C];A.hideMask();},_hideAll:function(){if(!actuate.parameter.Utility.isEmpty(this._arrayContainerIDs)){for(var B=0;B<this._arrayContainerIDs.length;B++){var A=this._parametersContainers[this._arrayContainerIDs[B]];if(!actuate.parameter.Utility.isEmpty(A)){A.hideMask();A.hideProgressIndicator();}}}},onUnload:function(){if(!actuate.parameter.Utility.isEmpty(this._arrayContainerIDs)){for(var B=0;B<this._arrayContainerIDs.length;B++){var A=this._parametersContainers[this._arrayContainerIDs[B]];if(!actuate.parameter.Utility.isEmpty(A)){A.onUnload();}}}},_onException:function(A){this._hideAll();}};actuate.util.Package.define("actuate.parameter.impl");actuate.parameter.impl.ParametersContainer=actuate.Class.create();actuate.parameter.impl.ParametersContainer.prototype={_parameters:{},_mainContainer:null,_groupName:null,_paramDefinitionObjects:null,_layoutManager:null,_eventFramework:null,_iportalUrl:null,_oldGroup:null,_currentAdHocTextControl:null,_mask:null,_progressIndicator:null,_visibleParameters:0,_autoSuggestDelay:500,_autoSuggestFetchSize:-1,_autoSuggestListSize:-1,_nullValueDisplayName:null,_nullValueSupported:true,_expandedGroups:null,_calendarInstance:null,_autosuggestHTMLInstance:null,initialize:function(C,E,B,F,D){this._mainContainer=C;this._eventFramework=E;this._iportalUrl=B;this._calendarInstance=F;this._autosuggestHTMLInstance=D;var A=B+"/iportal/common/images/progress_animation.gif";this._mask=new actuate.util.Mask(this._mainContainer.id,A);},getParamDefContainerID:function(){return this._mainContainer.id;},setAutoSuggestDelay:function(A){this._autoSuggestDelay=A;},setAutoSuggestFetchSize:function(A){this._autoSuggestFetchSize=A;},setAutoSuggestListSize:function(A){this._autoSuggestListSize=A;},setNullValueDisplayName:function(A){this._nullValueDisplayName=A;},setNullValueSupported:function(A){this._nullValueSupported=A;},setExpandedGroups:function(A){this._expandedGroups=A;},_getTotalVisibleParameters:function(){return this._visibleParameters;},showProgressIndicator:function(){this._progressIndicator=actuate.parameter.Utility.showProgressIndicator(this._progressIndicator,this._mainContainer.id,this._iportalUrl);},hideProgressIndicator:function(){actuate.parameter.Utility.hideProgressIndicator(this._progressIndicator);},hideMask:function(){if(!actuate.parameter.Utility.isEmpty(this._mask)){this._mask.__hideMask();}},showMask:function(){if(!actuate.parameter.Utility.isEmpty(this._mask)){this._mask.__showMask();}},setAutoSuggestion:function(E,B,C){var H=E.getName();var G=E.getSelectNameValueList();var A=new Array();if(G!=null){for(var D=0;D<G.length;D++){A.push(G[D]);}}var F=B.getFilter();this._parameters[H].__htmlInstance.setIncrementalSuggestions(A,C);this._parameters[H].__htmlInstance.showIncrementalSuggestions(F);B.reset();B=null;},fireComboboxChangeEvent:function(B,A){this._parameters[B].__htmlInstance.fireOnChangeEvent(A);},renderParameterContent:function(C,G,D,F,H){actuate.parameter.Utility.startTimer("renderParameterContent");this._mainContainer.innerHTML="";this.showProgressIndicator();this._visibleParameters=0;if(C==null||C.length==0){this.hideProgressIndicator();return ;}this._mainContainer.style.visibility="hidden";this._paramDefinitionObjects=C;this._layoutManager=new actuate.parameter.impl.LayoutNavigation(C,this._mainContainer,G,F);var B=this._layoutManager.getGroups();this._layoutManager.initNavigationBar(this._iportalUrl);if(typeof (dbgLog)=="function"){dbgLog("Layout manager returned "+B.length+" groups for layout="+G);}for(var E=0;E<B.length;E++){var I=document.createElement("DIV");I.id=this._layoutManager.generateGroupId(B[E]);I.className="actuateParameterContainer";this._mainContainer.appendChild(I);var A=this._layoutManager.getParamDefs(B[E]);this.renderParamDefs(A,I,D,H,G);}if(!H){this.setOnCLickEventForDateAndAdHoc(C);}this._layoutManager._updateDisplay();this.hideProgressIndicator();this._mainContainer.style.visibility="visible";this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CASCADING_CHANGE_DONE,null);actuate.parameter.Utility.stopTimer("renderParameterContent");},renderParamDefs:function(R,F,C,a,g){actuate.parameter.Utility.startTimer("renderParamDefs");var U=document.createElement("TABLE");U.className="paramTable";U.width="100%";F.appendChild(U);var X=null;var d=[];var H=null;for(var b=0;b<R.length;b++){var B=R[b];var W=b==(R.length-1);if(typeof (dbgLog)=="function"){dbgLog("Rendering "+B.getName());}var G=B.getName();var D=B.getControlType();var Q=actuate.parameter.Utility.getChildParameterDefinitions(R,B);var P=B.getGroup();var k=B.getGroupPromptText();var Y=false;if(Q!=null){Y=true;}var T=F.id+"ParameterID"+b;var A=false;var O=false;if(P!=null&&P.length>0&&P!=H&&B.isHidden()!=true){var K=U.insertRow(-1);var l=K.insertCell(-1);l.colSpan="5";O=(H!=null)&&(P!=H);H=P;var E=U.insertRow(-1);E.className="paramRow";var S=E.insertCell(-1);S.className="groupDisplayName";S.colSpan="5";S.setAttribute("nowrap","true");var J=P;if(k&&k.length>0){J=k;}var N=document.createTextNode(J);if(g==actuate.parameter.Constants.LAYOUT_COLLAPSIBLE){var e=document.createElement("IMG");e.id=F.id+J+"_"+b+".paramGroupImg";e.groupName=J;if(this._expandedGroups!=null){for(var I=0;I<this._expandedGroups.length;I++){var L=this._expandedGroups[I];if(J==L){e.expanded=true;A=true;e.src=this._iportalUrl+actuate.parameter.Constants.LOC_IMG_EXPANDED;break;}else{e.expanded=false;A=false;e.src=this._iportalUrl+actuate.parameter.Constants.LOC_IMG_COLLAPSED;}}}else{if(!B.getStartExpanded()){e.expanded=false;A=false;e.src=this._iportalUrl+actuate.parameter.Constants.LOC_IMG_COLLAPSED;}else{e.expanded=true;A=true;e.src=this._iportalUrl+actuate.parameter.Constants.LOC_IMG_EXPANDED;}}S.appendChild(e);S.appendChild(document.createTextNode("\u00A0"));S.appendChild(N);this._eventFramework.setOnClickEvent(e);var f={groupImgId:e.id,isGroupExpanded:A};d.push(f);}else{S.appendChild(N);}}this._parameters[G]=new actuate.parameter.impl.ParameterControl(this._eventFramework,U,B,Y,T,this._iportalUrl,C,a,this._nullValueDisplayName,this._nullValueSupported,this._mainContainer.id,this._autosuggestHTMLInstance);this._parameters[G].setCalendarInstance(this._calendarInstance);if(!a){var c=this.createUniqueControlID(G);if(B.isHidden()!=true&&!actuate.parameter.Utility.isDateTimeTypeControl(B)&&B.getControlType()!="ControlListAllowNew"&&B.getControlType()!="FilterSimple"){var M=document.getElementById(c);if(B.getControlType()=="AutoSuggest"){this._parameters[G].setAutoSuggestDelay(this._autoSuggestDelay);this._parameters[G].setAutoSuggestFetchSize(this._autoSuggestFetchSize);this._parameters[G].setAutoSuggestListSize(this._autoSuggestListSize);}else{if(M.tagName.toUpperCase()!="FIELDSET"){this._eventFramework.setOnFocusEvent(M);}}if(M.tagName.toUpperCase()!="FIELDSET"&&B.getControlType()!="AutoSuggest"){this._eventFramework.setOnChangeEvent(M);}}if(B.getControlType()=="FilterSimple"&&B.getCurrentValue()!=null){if(this._parameters[B.getName()].__selectInstance){this._parameters[B.getName()].__selectInstance.fireOnChangeEvent(c);}}}if(actuate.parameter.Utility.isDateTimeTypeControl(B)){var M=document.getElementById(c);this._eventFramework.setOnFocusEvent(M);}if(B.isHidden()!=true){this._visibleParameters+=1;}}for(var Z=0;Z<d.length;Z++){var V=d[Z];actuate.parameter.Utility.toggleCollapsibleGroup.call(this,V.groupImgId,this._iportalUrl,true,V.isGroupExpanded);}this._resizeControls();actuate.parameter.Utility.stopTimer("renderParamDefs");},setOnCLickEventForDateAndAdHoc:function(B){actuate.parameter.Utility.startTimer("setOnCLickEventForDateAndAdHoc");for(var I=0;I<B.length;I++){var M=(B[I].getControlType()==null&&(B[I].isAdHoc()&&B[I].getSelectNameValueList()==null&&B[I].getSelectValueList()==null))?true:false;var A=(B[I].getControlType()=="ControlListAllowNew"&&B[I].isAdHoc()==true)?true:false;if(M||A){var J=B[I].getName();var C=this._layoutManager.getGroups();for(var G=0;G<C.length;G++){var P=this._layoutManager.getParamDefs(C[G]);var F=actuate.parameter.Utility.checkIfGroupHasParameter(P,J);if(F>-1){var D=this._mainContainer.id+"GroupID"+G;var O=D+"ParameterID"+F+".img";var L=document.getElementById(O);this._eventFramework.setOnClickEvent(L);}}}if((B[I].getDataType()==actuate.parameter.Constants.DATE||B[I].getDataType()==actuate.parameter.Constants.DATE_ONLY)&&B[I].getControlType()==null){var J=B[I].getName();var C=this._layoutManager.getGroups();for(var G=0;G<C.length;G++){var P=this._layoutManager.getParamDefs(C[G]);var F=actuate.parameter.Utility.checkIfGroupHasParameter(P,J);if(F>-1){var D=this._mainContainer.id+"GroupID"+G;var H=D+"ParameterID"+F+".date";var E=D+"ParameterID"+F+".time";var K=document.getElementById(H);var N=document.getElementById(E);if(K){this._eventFramework.setOnClickEvent(K);}if(N){this._eventFramework.setOnClickEvent(N);}}}}}actuate.parameter.Utility.stopTimer("setOnCLickEventForDateAndAdHoc");},createUniqueControlID:function(I){actuate.parameter.Utility.startTimer("createUniqueControlID");var A=null;if(this._paramDefinitionObjects!=null&&this._paramDefinitionObjects.length>0){for(var F=0;F<this._paramDefinitionObjects.length;F++){var H=this._paramDefinitionObjects[F];var G=H.getName();if(G.toUpperCase()==I.toUpperCase()){var B=this._layoutManager.getGroups();for(var E=0;E<B.length;E++){var J=this._layoutManager.getParamDefs(B[E]);var D=actuate.parameter.Utility.checkIfGroupHasParameter(J,G);var C=this._mainContainer.id+"GroupID"+E;if(D>-1){if((H.getDataType()==actuate.parameter.Constants.DATE||H.getDataType()==actuate.parameter.Constants.DATE_ONLY)&&H.getControlType()==null){A=C+"ParameterID"+D+".date";break;}else{if(H.getDataType()==actuate.parameter.Constants.TIME&&H.getControlType()==null){A=C+"ParameterID"+D+".time";break;}else{A=C+"ParameterID"+D;break;}}}}}}}actuate.parameter.Utility.stopTimer("createUniqueControlID");return A;},getLayoutManager:function(){return this._layoutManager;},getMapOfHTMLInstances:function(){return this._parameters;},_resizeControls:function(){var C=this._paramDefinitionObjects;for(var A=0;A<C.length;A++){var E=C[A];var D=E.getName();if(!E.isHidden()&&E.getDataType()!=actuate.parameter.Constants.TABLE){var F=E.getControlType();if(F=="ControlListAllowNew"){var B=this.getMapOfHTMLInstances();if(B[D]&&B[D].__htmlInstance){B[D].__htmlInstance._alignTextBox();}}}}},onUnload:function(){this._mainContainer.innerHTML="";if(!actuate.parameter.Utility.isEmpty(this._mask)){var A=document.getElementById(this._mask.getMaskID());if(A!=null){var C=A.parentNode;C.removeChild(A);}this._mask=null;}if(!actuate.parameter.Utility.isEmpty(this._progressIndicator)){var B=document.getElementById(this._progressIndicator.id);if(B!=null){var C=B.parentNode;C.removeChild(B);}this._progressIndicator=null;}}};actuate.util.Package.define("actuate.parameter");actuate.parameter.impl.SelectControl=actuate.Class.create();actuate.parameter.impl.SelectControl.prototype={__htmlInstance:null,__readOnly:false,__isRequired:false,initialize:function(C,A,E,D,B){this.__htmlInstance=document.createElement("SELECT");this.__htmlInstance.name=E;this.__htmlInstance.id=E;this.__htmlInstance.style.width="100%";if(D){this.__htmlInstance.multiple=D;}if(B){this.__htmlInstance.size=B;}this.__htmlInstance.style.padding="0px";this.__htmlInstance.style.margin="0px";C.appendChild(this.__htmlInstance);},getHtmlInstance:function(){return this.__htmlInstance;},setReadOnly:function(A){if(this.__htmlInstance){this.__htmlInstance.disabled=A;}this.__readOnly=A;},setIsRequired:function(A){if(this.__htmlInstance){this.__htmlInstance.isRequired=A;}this.__isRequired=A;},__observe:function(A,B){actuate.util.Event.observe(this.__htmlInstance,A,B,false);},setSelectedIndex:function(A){if(!this.__htmlInstance){return ;}this.__htmlInstance.selectedIndex=A;},prependOption:function(B,D,F){if(!this.__htmlInstance){return ;}var C=(B==null)?"":B;var G=(D==null)?"":D;var A=actuate.parameter.Utility.createOptionTagEx(document,C,G,C);var E=this.__htmlInstance.options[0];if(E){this.__htmlInstance.insertBefore(A,E);}else{this.__htmlInstance.appendChild(A);}if(F==true){this.__htmlInstance.title=this.__htmlInstance.options[0].title;this.__htmlInstance.options[0].selected=true;if(this.__htmlInstance.multiple==false){this.__htmlInstance.selectedIndex=0;}}},appendOption:function(C,I,D,A,G){if(!this.__htmlInstance){return ;}var B=(C==null)?"":C;var H=(I==null)?"":I;if(D==true){for(var E=0;E<this.__htmlInstance.options.length;E++){if(this.__htmlInstance.options[E]&&this.__htmlInstance.options[E].firstChild){if(B==this.__htmlInstance.options[E].firstChild.data&&H==this.__htmlInstance.options[E].value){return ;}}}}actuate.parameter.Utility.createOptionTag(document,this.__htmlInstance,B,H,G);if(A==true){var F=this.__htmlInstance.options.length-1;this.__htmlInstance.title=this.__htmlInstance.options[F].title;this.__htmlInstance.options[F].selected=true;if(this.__htmlInstance.multiple==false){this.__htmlInstance.selectedIndex=F;}}},hasValue:function(B){if(!this.__htmlInstance){return false;}for(var A=0;A<this.__htmlInstance.options.length;A++){if(this.__htmlInstance.options[A]){if(B==this.__htmlInstance.options[A].value){return true;}}}return false;},removeOptions:function(){if(!this.__htmlInstance){return ;}while(this.__htmlInstance.firstChild){this.__htmlInstance.removeChild(this.__htmlInstance.firstChild);}},__setValue:function(B){if(!this.__htmlInstance){return ;}var C=(B==null)?"":B;for(var A=0;A<this.__htmlInstance.options.length;A++){if(this.__htmlInstance.options[A]&&this.__htmlInstance.options[A].firstChild){if(C==this.__htmlInstance.options[A].value){this.__htmlInstance.title=this.__htmlInstance.options[A].title;this.__htmlInstance.selectedIndex=A;return ;}}}this.__htmlInstance.selectedIndex=-1;},__getValue:function(){var A=this.__htmlInstance.selectedIndex;if(A>=0&&A<this.__htmlInstance.options.length){return this.__htmlInstance.options[A].value;}else{return null;}}};actuate.util.Package.define("actuate.parameter.impl");actuate.parameter.impl.FilterControl=actuate.Class.create();actuate.parameter.impl.FilterControl.prototype={NO_CONDITION:"",_htmlInstance:null,_readOnly:false,_isRequired:false,_eventFramework:null,_filterValueList:null,_defaultOperator:null,_defaultValueList:null,_currentValueList:null,_columnName:null,_columnType:null,_name:null,_mainEventFramework:null,_initialized:false,initialize:function(J,A,B,F,H,K,E,G,I,D,C){this._name=A;this._htmlInstance=document.createElement("SELECT");this._htmlInstance.name=B;this._htmlInstance.id=B;this._htmlInstance.valueIsNull=false;this._filterValueList=F;this._isRequired=E;this._columnName=D;this._columnType=K;this._mainEventFramework=C;this._defaultOperator=G;if(E&&!G){if(K.toUpperCase()=="STRING"){this._defaultOperator="LIKE";}else{this._defaultOperator="=";}}this._defaultValueList=this._currentValueList=I;this._eventFramework=new actuate.parameter.EventHandler();this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_CHANGE,actuate.Method.bind(this._onFilterChangeHandler,this));this._eventFramework.setOnChangeEvent(this._htmlInstance);J.appendChild(this._htmlInstance);},getDefaultOperator:function(){return this._defaultOperator;},getDefaultValueList:function(){return this._defaultValueList;},_onFilterChangeHandler:function(E){if(E==this._htmlInstance.id){var H=E+".div";var N=document.getElementById(H);N.innerHTML="";var G=document.getElementById(E);var Q=G.value;var V=document.createElement("TABLE");V.width="100%";V.style.whiteSpace="normal";V.cellPadding="0";V.cellspacing="0";V.id="filterTable"+this._htmlInstance.id;N.appendChild(V);var S=V.insertRow(-1);var U=S.insertCell(-1);U.width="100%";var F=actuate.parameter.Utility.createFilterValueId(this._htmlInstance.id);var C=F[0];var A=F[1];var P=false;if(this._filterValueList==null||(this._filterValueList!=null&&this._filterValueList.length==0)){P=true;}var T=Q.toLowerCase();if(T=="eq"||T=="ne"||T=="lt"||T=="le"||T=="gt"||T=="ge"||T=="like"||T=="not-like"||T=="match"||T=="not-match"){var R="";if(this._currentValueList&&this._currentValueList.length>0){R=this._currentValueList[0];}if(P){var O=this.createTextControl(C,R);O.isRequired=this._isRequired;U.appendChild(O);}else{var L=new actuate.parameter.impl.SelectControl(U,C,C);this._setConstantsForEventHandling(L,V.id);this.populateValueList(L,R,true);this.valueHtmlInstance=new actuate.parameter.impl.comboBox(U,L.getHtmlInstance(),this._mainEventFramework);this.valueHtmlInstance.setOnChangeCallback(actuate.Method.bind2(this.filterValueChanged,this,C));}}else{if(T=="between"||T=="not-between"){var D="";var B="";if(this._currentValueList&&this._currentValueList.length>=2){D=this._currentValueList[0];B=this._currentValueList[1];}if(P){var O=this.createTextControl(C,D);O.isRequired=this._isRequired;U.appendChild(O);var M=this.createTextControl(A,B);M.isRequired=this._isRequired;U.appendChild(M);}else{var K=new actuate.parameter.impl.SelectControl(U,C,C);this._setConstantsForEventHandling(K,V.id);this.populateValueList(K,D,true);this.valueHtmlInstance1=new actuate.parameter.impl.comboBox(U,K.getHtmlInstance(),this._mainEventFramework);this.valueHtmlInstance1.setOnChangeCallback(actuate.Method.bind2(this.filterValueChanged,this,C));var J=new actuate.parameter.impl.SelectControl(U,A,A);this._setConstantsForEventHandling(J,V.id);this.populateValueList(J,B,true);this.valueHtmlInstance2=new actuate.parameter.impl.comboBox(U,J.getHtmlInstance(),this._mainEventFramework);this.valueHtmlInstance2.setOnChangeCallback(actuate.Method.bind2(this.filterValueChanged,this,C));}}else{if(T=="in"||T=="not-in"){var R="";if(this._currentValueList&&this._currentValueList.length>0){R=this._currentValueList[0];}if(P){var O=this.createTextControl(C,R);O.isRequired=this._isRequired;U.appendChild(O);}else{var I=new actuate.parameter.impl.SelectControl(U,C,C,true,5);this._setConstantsForEventHandling(I,V.id);actuate.util.Event.observe(I.getHtmlInstance(),"click",actuate.Method.bind2(actuate.parameter.Utility.onMultiListClick,this,I.getHtmlInstance()));this.populateValueList(I,this._currentValueList,false);I.getHtmlInstance().onchange=actuate.Method.bind2(this.filterValueChanged,this,C);}}else{if(T=="is-top-n"||T=="is-bottom-n"||T=="is-top-percent"||T=="is-bottom-percent"){var R="";if(this._currentValueList&&this._currentValueList.length>0){R=this._currentValueList[0];}var O=this.createTextControl(C,R);O.isRequired=this._isRequired;U.appendChild(O);}}}}}else{if(typeof (dbgLog)=="function"){dbgLog("FilterControl.onChange got this unknown id = "+C);}}this._currentValueList=null;if(this._initialized==true){this.processFilterValueChange(G,true);}else{this._initialized=true;}},_setConstantsForEventHandling:function(A,B){A.setIsRequired(this._isRequired);A.getHtmlInstance().isDynamicFilter=true;A.getHtmlInstance().filterTableId=B;},_downloadFinalValueAndCallback:function(B,A,I){var J=new actuate.parameter.ParameterValue();if(B){var E=false;var C=null;var H=actuate.parameter.Utility.getFilterBREValueObject(B,this._columnName,this._columnType);C=H.getValue();J.setValueArray(H.getValueArray());J.setOperator(H.getOperator());J.setControlType("FilterSimple");if(B){E=B.valueIsNull;if(!E){E=false;}}if(C==null){C="";}J.setValue(C);J.setValueIsNull(E);J.setName(this._name);J.setColumnType(this._columnType);J.setColumnName(this._columnName);}var F=new actuate.parameter.ConvertUtility([J]);var D=this;var G=function(K){if(typeof (K)=="string"){return ;}I(J);};F.convert(actuate.Method.bind(G,this));},_fireOnChangeComplete:function(A){this._mainEventFramework.fireEvent(actuate.parameter.EventConstants.ON_CHANGE_COMPLETED,A);},createTextControl:function(C,A){var B=document.createElement("INPUT");B.name=C;B.id=C;B.type="text";B.value=A;B.className="paramTextbox";B.setAttribute("autocomplete","off");B.onchange=actuate.Method.bind2(this.filterValueChanged,this,C);actuate.util.Event.observe(B,"keypress",actuate.Method.bindAsEventListener(this._onKeyPress,this));return B;},_onKeyPress:function(D){var C=D.keyCode;switch(C){case 13:var E=navigator.appName;var B=D.currentTarget;if(B==null){B=D.srcElement;}if(B!=null){var A=B.id;if(E.toLowerCase().indexOf("microsoft")>-1){B.onchange(A);}else{B.blur();}}return false;break;default:break;}},filterValueChanged:function(C){var B=C.indexOf(actuate.parameter.Constants.FILTER_VALUE_1_SUFFIX);var A=null;if(B<0){B=C.indexOf(actuate.parameter.Constants.FILTER_VALUE_2_SUFFIX);}if(B>-1){A=C.substring(0,B);}var D=document.getElementById(A);this.processFilterValueChange(D,false);return false;},processFilterValueChange:function(C,A){var B=C.id;var D=function(E){C.convertedValue=E.getValue();this._mainEventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,B);};this._downloadFinalValueAndCallback(C,A,actuate.Method.bind(D,this));},populateValueList:function(A,B,G){var C=false;if(this._filterValueList&&this._filterValueList.length>0){for(var E=0;E<this._filterValueList.length;E++){if(typeof (this._filterValueList[E])=="string"){var H=false;var F=this._filterValueList[E];if(B&&typeof (B)!="string"){H=actuate.parameter.Utility.inArray(F,B);}else{if(F==B){H=true;}}A.appendOption(F,F,false,H);if(H){C=true;}}else{var H=false;var F=this._filterValueList[E].getValue();var D=this._filterValueList[E].getName();if(F==null&&D==null){D=actuate.parameter.Constants.NO_VALUE;}if(B&&typeof (B)!="string"){H=actuate.parameter.Utility.inArray(F,B);}else{if(F==B){H=true;}}A.appendOption(D,F,false,H);if(H){C=true;}}}}if(C==false&&G==true&&typeof (B)=="string"&&(B.length>0||this._defaultValueList!=null)){C=true;A.appendOption(B,B,false,true);}if(C==false&&this._isRequired){A.setSelectedIndex(0);}},getHtmlInstance:function(){return this._htmlInstance;},setReadOnly:function(A){if(this._htmlInstance){this._htmlInstance.disabled=A;}this._readOnly=A;},__observe:function(A,B){actuate.util.Event.observe(this._htmlInstance,A,B,false);},setSelectedIndex:function(A){if(!this._htmlInstance){return ;}this._htmlInstance.selectedIndex=A;},prependOption:function(B,D,F){if(!this._htmlInstance){return ;}var C=(B==null)?"":B;var G=(D==null)?"":D;var A=actuate.parameter.Utility.createOptionTagEx(document,C,G,C);var E=this._htmlInstance.options[0];if(E){this._htmlInstance.insertBefore(A,E);}else{this._htmlInstance.appendChild(A);}if(F==true){this._htmlInstance.title=this._htmlInstance.options[0].title;this._htmlInstance.options[0].selected=true;}},fireOnChangeEvent:function(A){this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,A);},appendOption:function(A,E,F,G){if(!this._htmlInstance){return ;}var C=(A==null)?"":A;var H=(E==null)?"":E;if(F==true){for(var B=0;B<this._htmlInstance.options.length;B++){if(this._htmlInstance.options[B]&&this._htmlInstance.options[B].firstChild){if(C==this._htmlInstance.options[B].firstChild.data&&H==this._htmlInstance.options[B].value){return ;}}}}actuate.parameter.Utility.createOptionTag(document,this._htmlInstance,C,H);if(G==true){var D=this._htmlInstance.options.length-1;this._htmlInstance.title=this._htmlInstance.options[D].title;this._htmlInstance.options[D].selected=true;if(this._htmlInstance.multiple==false){this._htmlInstance.selectedIndex=D;}}},removeOptions:function(){if(!this._htmlInstance){return ;}while(this._htmlInstance.firstChild){this._htmlInstance.removeChild(this._htmlInstance.firstChild);}},__setValue:function(B){if(!this._htmlInstance){return ;}var C=(B==null)?"":B;for(var A=0;A<this._htmlInstance.options.length;A++){if(this._htmlInstance.options[A]&&this._htmlInstance.options[A].firstChild){if(C==this._htmlInstance.options[A].value){this._htmlInstance.title=this._htmlInstance.options[A].title;this._htmlInstance.selectedIndex=A;return ;}}}this._htmlInstance.selectedIndex=-1;},__getValue:function(){var A=this._htmlInstance.selectedIndex;if(A>=0&&A<this._htmlInstance.options.length){return this._htmlInstance.options[A].value;}else{return null;}}};actuate.util.Package.define("actuate.parameter.impl");actuate.parameter.impl.ParameterImpl=actuate.Class.create();actuate.parameter.impl.ParameterImpl.prototype={_ajaxConn:null,_resultConsumer:null,_onFailure:null,_docPath:null,_connHandle:null,_overwriteArrayOfPDs:null,_reportPath:null,_paramDefs:null,_cntr:null,_PARAMETER_TYPE_EXECUTION:"Execution",_PARAMETER_TYPE_VIEW:"View",_PARAMETER_TYPE_ALL:"All",_dependentFileType:null,_sessionTimedOutCallback:null,initialize:function(A){this._ajaxConn=A;this.setDependentFileType(null);},setAjaxConnection:function(A){this._ajaxConn=A;},setDependentFileType:function(A){this._dependentFileType=A;},overwriteParameterDefProperties:function(A){this._overwriteArrayOfPDs=A;},getReportParameters:function(F,D,A,B,C,G){this._resultConsumer=C;this._onFailure=G;this._reportPath=F;this._reportConnHandle=D;this._docPath=A;this._connHandle=B;var E=actuate.Method.bind2(this._getDependentFileType,this,actuate.Method.bind2(this._getReportDesignParameters,this,actuate.Method.bind2(this._getReportDocumentParameters,this,actuate.Method.bind2(this._overwriteDefaultParameters,this,actuate.Method.bind2(this._getMultiSelectDefaults,this,actuate.Method.bind(this._startPickListProcessing,this))))));E();},_getReportDesignParameters:function(D){var C=this._getReportParameterType(this._reportPath);var A="<GetReportParameters "+actuate.parameter.Constants.XMLNS+">";A+="<ReportFileName>"+actuate.parameter.Utility.xmlEscape(this._reportPath)+"</ReportFileName>";A+="<ReportParameterType>"+actuate.parameter.Utility.xmlEscape(C)+"</ReportParameterType>";A+="<WithoutDynamicPickList>false</WithoutDynamicPickList>";A+="</GetReportParameters>";var B=null;if(!actuate.parameter.Utility.isEmpty(this._dependentFileType)){B="<FileType>"+actuate.parameter.Utility.xmlEscape(this._dependentFileType)+"</FileType>";}if(!actuate.parameter.Utility.isEmpty(this._reportConnHandle)){B="<ConnectionHandle>"+actuate.parameter.Utility.xmlEscape(this._reportConnHandle)+"</ConnectionHandle>";}actuate.parameter.Utility.sendSoapMessage(this._ajaxConn,A,actuate.Method.bind2(this._parseReportDesignParameters,this,D),this._onFailure,false,B);},_getReportDocumentParameters:function(D){if(actuate.parameter.Utility.isEmpty(this._docPath)){D();return ;}var B=null;if(!actuate.parameter.Utility.isEmpty(this._connHandle)){B="<ConnectionHandle>"+actuate.parameter.Utility.xmlEscape(this._connHandle)+"</ConnectionHandle>";}var C=this._getReportParameterType(this._docPath);var A="<GetReportParameters "+actuate.parameter.Constants.XMLNS+">";A+="<ReportFileName>"+actuate.parameter.Utility.xmlEscape(this._docPath)+"</ReportFileName>";A+="<ReportParameterType>"+actuate.parameter.Utility.xmlEscape(C)+"</ReportParameterType>";A+="<WithoutDynamicPickList>false</WithoutDynamicPickList>";A+="</GetReportParameters>";actuate.parameter.Utility.sendSoapMessage(this._ajaxConn,A,actuate.Method.bind2(this._parseReportDocumentParameters,this,D),this._onFailure,false,B);},_getReportParameterType:function(C){var E=C;if(E.length==0){return this._PARAMETER_TYPE_EXECUTION;}var A=E.lastIndexOf(";");if(A!=-1){E=E.substr(0,A);}var B=E.lastIndexOf(".");if(B==-1){return this._PARAMETER_TYPE_EXECUTION;}var D=E.substr(B+1,E.length);if(D.toLowerCase()=="sox"){return this._PARAMETER_TYPE_ALL;}else{if(D.toLowerCase()=="soi"){return this._PARAMETER_TYPE_VIEW;}}return this._PARAMETER_TYPE_EXECUTION;},_parseReportDesignParameters:function(D,B){var A=B.getResponseXml();if(this.isSessionTimedOutAndHasCallback(A)){return ;}var C=new actuate.parameter.ParameterParser();C.parseParameterDefinition(A);this._paramDefs=C.getParameterDefinitions();if(this._paramDefs==null){this._resultConsumer(null);return ;}else{D();}},_parseReportDocumentParameters:function(J,B){var A=B.getResponseXml();if(this.isSessionTimedOutAndHasCallback(A)){return ;}var H=new actuate.parameter.ParameterParser();H.parseParameterDefinition(A);var F=H.getParameterDefinitions();if(F){for(var D=0;D<this._paramDefs.length;D++){var E=F[D];if(this._paramDefs[D].getName()!=E.getName()){for(var C=0;C<F.length;C++){if(this._paramDefs[D].getName()==F[C].getName()){E=F[C];break;}}}var I=E.getDefaultValueIsNull();var G=E.getDefaultValue();this._paramDefs[D].setDefaultValueIsNull(I);if(I!=true&&G!=null&&G!=this._paramDefs[D].getDefaultValue()){this._paramDefs[D].setDefaultValue(G);}this._paramDefs[D].setCurrentValue(G);this._paramDefs[D].setCurrentValueIsNull(I);this._paramDefs[D].setUpdatedWithDocParam(true);}}J();},_overwriteDefaultParameters:function(A){if(this._overwriteArrayOfPDs){this._paramDefs=actuate.parameter.Utility.overwritePDs(this._paramDefs,this._overwriteArrayOfPDs);}A();},_getMultiSelectDefaults:function(F){var D="";for(var C=0;C<this._paramDefs.length;C++){var B=this._paramDefs[C].getName();var E=this._paramDefs[C].getCurrentValue();var A=actuate.parameter.Utility.hasCascadingChildren(this._paramDefs,this._paramDefs[C]);if((actuate.parameter.Utility.isMultiListControl(this._paramDefs[C])||actuate.parameter.Utility.isCascadingMultiList(this._paramDefs[C],A))){this._paramDefs[C].setIsMultiSelectControl(true);if(!actuate.parameter.Utility.isEmpty(E)){D+="<ParameterDefinition>";D+="<Name>"+actuate.parameter.Utility.xmlEscape(B)+"</Name>";D+="<DefaultValue>"+actuate.parameter.Utility.xmlEscape(E)+"</DefaultValue>";D+="</ParameterDefinition>";}}}if(D!=""){D="<GetAdHocOrMultilistParamValue><ParameterDefinitions>"+D+"</ParameterDefinitions></GetAdHocOrMultilistParamValue>";actuate.parameter.Utility.sendSoapMessage(this._ajaxConn,D,actuate.Method.bind2(this._parseMultiSelectDefaults,this,F),null,true);}else{F();}},_parseMultiSelectDefaults:function(G,B){var A=B.getResponseXml();if(this.isSessionTimedOutAndHasCallback(A)){return ;}var E=new actuate.parameter.ParameterParser();var F=E.parseMultiSelectDefaults(A);for(var D=0;D<this._paramDefs.length;D++){var C=this._paramDefs[D].getName();if(typeof (F[C])!="undefined"){this._paramDefs[D].setDefaultValueList(F[C]);}}G();},_startPickListProcessing:function(){this._cntr=0;if(actuate.parameter.Utility.isReportDocument(this._reportPath)){this._resultConsumer(this._paramDefs);return ;}if(typeof (dbgLog)=="function"){dbgLog("Starting picklist processing. Length = "+this._paramDefs.length);}this._processNextParamDef();},getFormattedDateTime:function(H,G,F){var A="<GetFormattedDateTime "+actuate.parameter.Constants.XMLNS+">";A+="<DateTimeParameters>";var C=false;for(var D=0;D<H.length;D++){if(H[D].getDataType()==actuate.parameter.Constants.DATE&&H[D].getControlType()==null){C=true;var E=H[D].getCurrentValue()!=null?H[D].getCurrentValue():"";var B=H[D].getDefaultValue()!=null?H[D].getDefaultValue():"";A+="<DateTimeParameter>";A+="<Name>"+actuate.parameter.Utility.xmlEscape(H[D].getName())+"</Name>";A+="<CurrentValue>"+actuate.parameter.Utility.xmlEscape(E)+"</CurrentValue>";A+="<DefaultValue>"+actuate.parameter.Utility.xmlEscape(B)+"</DefaultValue>";A+="</DateTimeParameter>";}}A+="</DateTimeParameters>";A+="</GetFormattedDateTime>";if(C){actuate.parameter.Utility.sendSoapMessage(this._ajaxConn,A,actuate.Method.bind2(this._parseFormattedDateTime,this,H,G),F,true);}else{G(H);}},_getDependentFileType:function(D){if(this._dependentFileType!=null){D();return ;}var A="<GetDependentFileType "+actuate.parameter.Constants.XMLNS+">";var B=false;var C=actuate.parameter.Utility.getFileExtension(this._reportPath);if(C&&"rov"==C.toLowerCase()){B=true;A+="<DependentFileName>"+actuate.parameter.Utility.xmlEscape(this._reportPath)+"</DependentFileName>";}A+="</GetDependentFileType>";if(B==true){actuate.parameter.Utility.sendSoapMessage(this._ajaxConn,A,actuate.Method.bind2(this._parseDependentFileType,this,D),this._onFailure,true);}else{D();}},_parseDependentFileType:function(E,B){var A=B.getResponseXml();if(this.isSessionTimedOutAndHasCallback(A)){return ;}var C=new actuate.parameter.ParameterParser();var D=C.parseReportInfo(A);this._dependentFileType=D["dependentFileType"];E();},GetReportInfo:function(G,J,K,A){var B="<GetReportInfo "+actuate.parameter.Constants.XMLNS+">";var F=false;var E=actuate.parameter.Utility.getFileExtension(J);if(E&&"rov"==E.toLowerCase()){if(this._dependentFileType==null){F=true;B+="<DependentFileName>"+actuate.parameter.Utility.xmlEscape(J)+"</DependentFileName>";}}var L="<DateTimeParameters>";var D=false;for(var C=0;C<G.length;C++){if(G[C].getDataType()==actuate.parameter.Constants.DATE&&G[C].getControlType()==null){D=true;var I=G[C].getCurrentValue()!=null?G[C].getCurrentValue():"";var H=G[C].getDefaultValue()!=null?G[C].getDefaultValue():"";L+="<DateTimeParameter>";L+="<Name>"+actuate.parameter.Utility.xmlEscape(G[C].getName())+"</Name>";L+="<CurrentValue>"+actuate.parameter.Utility.xmlEscape(I)+"</CurrentValue>";L+="<DefaultValue>"+actuate.parameter.Utility.xmlEscape(H)+"</DefaultValue>";L+="</DateTimeParameter>";}}if(D==true){F=true;L+="</DateTimeParameters>";B+=L;}B+="</GetReportInfo>";if(F==true){actuate.parameter.Utility.sendSoapMessage(this._ajaxConn,B,actuate.Method.bind2(this._parseReportInfo,this,G,K),A,true);}else{K(G);}},_parseReportInfo:function(H,G,D){var A=D.getResponseXml();if(this.isSessionTimedOutAndHasCallback(A)){return ;}var E=new actuate.parameter.ParameterParser();var F=E.parseReportInfo(A);var B=F["dependentFileType"];if(B!=null){this._dependentFileType=B;}var C=F["dateTimeMap"];if(C){this._processDateTimePds(C,H);}G(H);},_getDynamicFilterDefaults:function(E,I,C){var H="";for(var D=0;D<E.length;D++){var B=E[D].getName();var F=E[D].getCurrentValue();var G=E[D].getColumnType();var A=E[D].getControlType();if(A=="FilterSimple"){E[D].setIsDynamicFilterControl(true);if(!actuate.parameter.Utility.isEmpty(F)){H+="<ParameterDefinition>";H+="<Name>"+actuate.parameter.Utility.xmlEscape(B)+"</Name>";H+="<DefaultValue>"+actuate.parameter.Utility.xmlEscape(F)+"</DefaultValue>";H+="<ColumnType>"+actuate.parameter.Utility.xmlEscape(G)+"</ColumnType>";H+="</ParameterDefinition>";}}}if(H!=""){H="<GetDynamicFilterParamValue><ParameterDefinitions>"+H+"</ParameterDefinitions></GetDynamicFilterParamValue>";actuate.parameter.Utility.sendSoapMessage(this._ajaxConn,H,actuate.Method.bind2(this._parseDynamicFilterDefaults,this,E,I,C),C,true);}else{I(E);}},_parseDynamicFilterDefaults:function(H,L,G,D){var C=D.getResponseXml();if(this.isSessionTimedOutAndHasCallback(C)){return ;}var I=C.getElementsByTagName("Error");if(I!=null&&I.length>0){I=actuate.parameter.Utility.getNodeTextData(I[0]);var J=new actuate.parameter.Exception(actuate.Exception.ERR_SERVER,I);G(J);}else{var K=new actuate.parameter.ParameterParser();var F=K.parseDynamicFilterDefaults(C);for(var E=0;E<H.length;E++){var A=H[E].getName();if(typeof (F[A])!="undefined"){var B=F[A];H[E].setDynamicFilterOperator(B[0]);H[E].setDynamicFilterValueList(B[2]);}}L(H);}},_parseFormattedDateTime:function(F,E,B){var A=B.getResponseXml();if(this.isSessionTimedOutAndHasCallback(A)){return ;}var C=new actuate.parameter.ParameterParser();var D=C.parseFormattedDateTime(A);F=this._processDateTimePds(D,F);E(F);},getLocalizedResources:function(F,E){var A="<GetLocalizedResources "+actuate.parameter.Constants.XMLNS+">";A+="<LocalizedMessages>";var B=actuate.parameter.ResourceBundle.MSG_KEYS;for(var C=0;C<B.length;C++){A+="<Key>"+actuate.parameter.Utility.xmlEscape(B[C])+"</Key>";}A+="</LocalizedMessages>";A+="<LocalizedPatterns>";var D=actuate.parameter.ResourceBundle.PATTERN_KEYS;for(var C=0;C<D.length;C++){A+="<Pattern>"+actuate.parameter.Utility.xmlEscape(D[C])+"</Pattern>";}A+="</LocalizedPatterns>";A+="</GetLocalizedResources>";actuate.parameter.Utility.sendSoapMessage(this._ajaxConn,A,actuate.Method.bind2(this._parseLocalizedResources,this,F),E,true);},_parseLocalizedResources:function(E,B){var A=B.getResponseXml();if(this.isSessionTimedOutAndHasCallback(A)){return ;}var C=new actuate.parameter.ParameterParser();var D=C.parseLocalizedResources(A,actuate.parameter.Constants.LOCALIZED_MESSAGE);actuate.parameter.ResourceBundle.setMessages(D);D=C.parseLocalizedResources(A,actuate.parameter.Constants.LOCALIZED_PATTERN);actuate.parameter.ResourceBundle.setPatterns(D);E();},getParameterPickList:function(G,B,A,F,E,D){var C=new actuate.parameter.GetParameterPickList(G,B);C.setParameterName(A);C.setPrecedingParameterValues(F);C.setFilter(null);this._getParameterPickList(C,E,D);},getSuggestionList:function(A,C,B){var D=new Array();A.setPrecedingParameterValues(D);this._getParameterPickList(A,C,B);},GetParamDefaultValues:function(C,B,A){this._getDynamicFilterDefaults(C,B,A);},_getParameterPickList:function(B,E,D){var A=B.toString();var C=null;if(!actuate.parameter.Utility.isEmpty(this._dependentFileType)){C="<FileType>"+actuate.parameter.Utility.xmlEscape(this._dependentFileType)+"</FileType>";}if(!actuate.parameter.Utility.isEmpty(this._reportConnHandle)){C="<ConnectionHandle>"+actuate.parameter.Utility.xmlEscape(this._reportConnHandle)+"</ConnectionHandle>";}actuate.parameter.Utility.sendSoapMessage(this._ajaxConn,A,actuate.Method.bind2(this._parseParameterPickList,this,E),D,false,C);},_processNextParamDef:function(){if(this._cntr>this._paramDefs.length-1){this._cntr=0;this._resultConsumer(this._paramDefs);return ;}var B=this._paramDefs[this._cntr];var A=this._getAncestors(B,new Array());if(typeof (dbgLog)=="function"){dbgLog("Fetched ancestors for "+B.getName()+" Length = "+A.length);}if(A.length>0){this.getParameterPickList(this._reportPath,B.getGroup(),B.getName(),A,actuate.Method.bind(this._setPickListValues,this),actuate.Method.bind(this._onFailure,this));}else{this._cntr+=1;this._processNextParamDef();}},_getAncestors:function(D,H){var B=D.getCascadingParentName();for(var C=0;C<this._paramDefs.length;C++){var A=this._paramDefs[C];if(A.getName()==B){var G=A.getCurrentValue();if(A.isRequired()&&(A.getDefaultValue()==null||A.getDefaultValue()==""||!this._defaultValuePartOfList(A))){var F=A.getSelectValueList();if(!F){F=A.getSelectNameValueList();}if(F&&F.length>0){G=F[0].getValue();}}if(G==null){G="";}var E=new actuate.parameter.ParameterValue();E.setName(B);E.setValue(G);if(actuate.parameter.Utility.isNoValueSupported(A,this._reportPath,false)){if(A.getCurrentValueIsNull()==true){E.setValueIsNull(true);}}H.splice(0,0,E);H=this._getAncestors(A,H);}}return H;},_defaultValuePartOfList:function(D){if(D.getDefaultValue()!=null){var C=D.getSelectValueList();if(!C){C=D.getSelectNameValueList();}if(C&&C.length>0){for(var A=0;A<C.length;A++){var B=C[A].getValue();if(D.getCurrentValue()==B){return true;}}}return false;}return false;},_parseParameterPickList:function(F,C){var A=C.getResponseXml();if(this.isSessionTimedOutAndHasCallback(A)){return ;}var E=new actuate.parameter.ParameterParser();E.parseParameterPickList(A);var D=E.getNameValuePickList();var B=E.getParameterPickListTotalCount();if(F){F(D,B);}},_setPickListValues:function(A){if(this._paramDefs[this._cntr]){this._paramDefs[this._cntr].setSelectNameValueList(A);}this._cntr+=1;this._processNextParamDef();},_processDateTimePds:function(F,G){for(var C=0;C<G.length;C++){var D=G[C].getName();var B=D+"_Default";var A=D+"_Current";if(typeof (F[B])=="object"){var E=F[B];G[C].setDefaultDateValue(E["date"]);G[C].setDefaultTimeValue(E["time"]);}if(typeof (F[A])=="object"){var E=F[A];G[C].setCurrentDateValue(E["date"]);G[C].setCurrentTimeValue(E["time"]);}}return G;},isSessionTimedOutAndHasCallback:function(A){var B=A.getElementsByTagName("RedirectURL");if(B&&B.length>0){if(this._sessionTimedOutCallback){this._sessionTimedOutCallback();return true;}return false;}return false;},setOnSessionTimedOut:function(A){this._sessionTimedOutCallback=A;},_onFailure:function(A){this._cntr+=1;this._processNextParamDef();}};actuate.util.Package.define("actuate.parameter.util");actuate.parameter.util.ProgressBar=actuate.Class.create();actuate.parameter.util.ProgressBar.prototype={_w3c:false,_ie:false,_N:-1,_domContainer:null,_blocksName:null,_xpBarName:null,_bar:null,initialize:function(A){this._w3c=(document.getElementById)?true:false;this._ie=(document.all)?true:false;this._domContainer=A;return true;},_isEmpty:function(A){if(A==null||A==undefined){return true;}if(typeof A=="number"||typeof A=="boolean"){return false;}else{if(typeof A!="object"){if(A.charAt(0)==""||A==""){return true;}}}return false;},createBar:function(N,I,C,L,J,M,E,A,K,F){this._xpBarName="_xpbar"+this._domContainer+(++this._N);this._blocksName="blocks"+this._domContainer+this._N;var B=document.getElementById(this._domContainer);var H=B.offsetWidth;if(this._isEmpty(N)==true){if(B.offsetWidth>300){H=300;}}else{H=N;}if(this._ie||this._w3c){var O='<table style="margin-left: auto; margin-right: auto; text-align: left;"><tr><td>';O+='<div id="'+this._xpBarName+'" style="display:block; position:relative; overflow:hidden; width:'+H+"px; height:"+I+"px; background-color:"+C+"; border-color:"+J+"; border-width:"+L+'px; border-style:solid; font-size:1px;">';O+='<span id="'+this._blocksName+'" style="left:-'+(I*2+1)+'px; position:absolute; font-size:1px">';for(var G=0;G<A;G++){O+='<span style="background-color:'+M+"; left:-"+((I*G)+G)+"px; font-size:1px; position:absolute; width:"+I+"px; height:"+I+"px; ";O+=(this._ie)?"filter:alpha(opacity="+(100-G*(100/A))+")":"-Moz-opacity:"+((100-G*(100/A))/100);O+='"></span>';}O+="</span></div></td></tr></table>";var D=document.createElement("progressbar"+this._domContainer);D.innerHTML=O;B.appendChild(D);this._bar=(this._ie)?document.all[this._blocksName]:document.getElementById(this._blocksName);this._bar.xpBar=(this._ie)?document.all[this._xpBarName]:document.getElementById(this._xpBarName);this._bar.blocks=A;this._bar.N=this._N;this._bar.w=H;this._bar.h=I;this._bar.speed=E;this._bar.ctr=0;this._bar.count=K;this._bar.action=F;this._bar.togglePause=actuate.Method.bind(this.togglePause,this);this._bar.showBar=actuate.Method.bind(this._showBar,this);this._bar.hideBar=actuate.Method.bind(this._hideBar,this);this._bar.clearBar=actuate.Method.bind(this.clearBar,this);this._bar.tid=setInterval(actuate.Method.bind(this._startBar,this),E);return this._bar;}},_hideBar:function(){this._bar.xpBar.style.display="none";},_showBar:function(){this._bar.xpBar.style.display=="block";},_startBar:function(){var t=(this._ie)?document.all[this._blocksName]:document.getElementById(this._blocksName);if(t==null||t==undefined){return ;}if(parseInt(t.style.left)+t.h+1-(t.blocks*t.h+t.blocks)>t.w){t.style.left=-(t.h*2+1)+"px";t.ctr++;if(t.ctr>=t.count){eval(t.action);t.ctr=0;}}else{t.style.left=(parseInt(t.style.left)+t.h+1)+"px";}return ;},clearBar:function(){if(this._bar.tid!=0){this._hideBar();clearInterval(this._bar.tid);this._bar.tid=0;}},togglePause:function(){if(this._bar.tid==0){this._bar.tid=setInterval(actuate.Method.bind(this._startBar,this),this.speed);}else{this.clearBar();}}};actuate.util.Package.define("actuate.parameter.util");actuate.parameter.util.AjaxForWsservlet=actuate.Class.create();actuate.parameter.util.AjaxForWsservlet.prototype=actuate.Class.extend(new actuate.common.IportalRequest(),{_servletPath:"wsservlet",_onException:null,_responseText:null,_responseXml:null,_method:"post",initialize:function(B,A){actuate.common.IportalRequest.prototype.initialize.call(this,B);actuate.common.IportalRequest.prototype.setExceptionHandler.call(this,actuate.Method.bind2(this._onExceptionHandler,this,A));},setOnException:function(A){actuate.common.IportalRequest.prototype.setExceptionHandler.call(this,actuate.Method.bind2(this._onExceptionHandler,this,A));},setMethod:function(A){this._method=A;},getMethod:function(){return this._method;},getResponseText:function(){return this._responseText;},getResponseXml:function(){if(window.ActiveXObject){xData=new ActiveXObject("Microsoft.XMLDOM");xData.async="false";xData.preserveWhiteSpace="true";xData.loadXML(this._responseText);return xData;}return this._responseXml;},send:function(A,D,E,C){if(typeof (dbgLog)=="function"){dbgLog("Request =\n"+A);}var B=actuate.parameter.Utility.getNameFromSoap(A);actuate.parameter.Utility.startTimer(B);actuate.common.IportalRequest.prototype.makeAjaxConnection.call(this,this._method,this._servletPath,D,this._convertToXml(A),actuate.Method.bind2(this._onSuccessHandler,this,E,B),actuate.Method.bind2(this._onFailureHandler,this,C,B));},sendGeneric:function(A,E,F,D,B){if(typeof (dbgLog)=="function"){dbgLog("Request =\n"+A);}var C=actuate.parameter.Utility.getNameFromSoap(A);actuate.parameter.Utility.startTimer(C);actuate.common.IportalRequest.prototype.makeAjaxConnection.call(this,this._method,B,E,this._convertToXml(A),actuate.Method.bind2(this._onSuccessHandler,this,F,C),actuate.Method.bind2(this._onFailureHandler,this,D,C));},_onSuccessHandler:function(C,B,A){this._responseText=A.getResponseText();this._responseXml=A.getResponseXml();if(typeof (dbgLog)=="function"){dbgLog("Response ="+this._responseText);}actuate.parameter.Utility.stopTimer(B);if(C){C(this);}},_onFailureHandler:function(G,F,B){if(typeof (dbgLog)=="function"){dbgLog("Failure! Code="+B.getStatus()+" Response = "+B.getResponseText());}actuate.parameter.Utility.stopTimer(F);if(G){var E=B.getResponseXml();var C=actuate.parameter.Utility.getNodeTextData(E.getElementsByTagName(actuate.parameter.Constants.FAULT_CODE)[0]);var H=actuate.parameter.Utility.getNodeTextData(E.getElementsByTagName(actuate.parameter.Constants.FAULT_STRING)[0]);var D=E.getElementsByTagName(actuate.parameter.Constants.DETAIL)[0];if(D&&D.textContent){D=D.textContent;}else{if(D&&D.text){D=D.text;}else{D=actuate.parameter.Utility.getNodeTextData(D);}}var A=new actuate.parameter.Exception(actuate.parameter.Constants.ERR_SERVER,H,D,C);G(A);}},_onExceptionHandler:function(B,C){var D=C.description?C.description:C;if(typeof (dbgLog)=="function"){dbgLog("Exception! e="+D);}if(B){var A=actuate.parameter.Utility.createException(C);B(A);}},_convertToXml:function(A){if(A==null){return null;}var B;if(window.ActiveXObject){B=new ActiveXObject("Microsoft.XMLDOM");B.async="false";B.preserveWhiteSpace="true";B.loadXML(A);}else{var C=new DOMParser();B=C.parseFromString(A,"text/xml");}return B;}});actuate.util.Package.define("actuate.parameter.impl");actuate.parameter.impl.comboBox=actuate.Class.create();actuate.parameter.impl.comboBox.prototype={_selectInstance:null,_textboxInstance:null,_eventFramework:null,_masterEventFramework:null,_textboxClassName:"comboTextBox",_onChangeCallback:null,initialize:function(A,C,B){this._masterEventFramework=B;this._selectInstance=C;A.appendChild(C);A.appendChild(this._createEditableDropdown());this._alignTextBox();this._eventFramework=new actuate.parameter.EventHandler();this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_CHANGE,actuate.Method.bind(this._onChange,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_CLICK,actuate.Method.bind(this._onClick,this));this._eventFramework.registerHandler(actuate.parameter.EventConstants._ON_KEY_UP,actuate.Method.bind(this._onKeyUpHandler,this));this._eventFramework.setOnChangeEvent(this._selectInstance);this._eventFramework.setOnChangeEvent(this._textboxInstance);this._eventFramework.setOnFocusEvent(this._selectInstance);this._eventFramework.setOnFocusEvent(this._textboxInstance);this._eventFramework.setOnKeyUpEvent(this._textboxInstance);actuate.util.Event.observe(window,"resize",actuate.Method.bindAsEventListener(this._alignTextBox,this),false);},_createEditableDropdown:function(){if(actuate.parameter.Utility.isIE6()){this._adjustStyleOfSelectControl();}var A=document.createElement("DIV");A.style.width="100%";if(actuate.parameter.Utility.isIE6()){A.style.height="20px";}A.style.position="relative";A.style.top="0px";A.style.left="0px";this._textboxInstance=document.createElement("input");this._textboxInstance.id="txt"+this._selectInstance.name;this._textboxInstance.title=this._selectInstance.title;this._textboxInstance.type="text";this._textboxInstance.className=this._textboxClassName;actuate.parameter.Utility.prependInputClassName(this._textboxInstance);if(actuate.parameter.Utility.isIE6()){this._textboxInstance.style.borderWidth="2px";this._textboxInstance.style.borderColor="#FFFFFF";}else{this._textboxInstance.style.borderStyle="none";}this._textboxInstance.style.padding="0";this._textboxInstance.style.margin="0";this._textboxInstance.disabled=this._selectInstance.disabled;if(this._selectInstance.selectedIndex>-1){this._textboxInstance.value=this._selectInstance.options[this._selectInstance.selectedIndex].text;}A.appendChild(this._selectInstance);A.appendChild(this._textboxInstance);return A;},_updateTextHintClass:function(){if(this._textboxInstance.valueIsHint!=true){this._textboxInstance.className=this._textboxClassName;actuate.parameter.Utility.prependInputClassName(this._textboxInstance);}},_onClick:function(C){var A=null;if(C==this._selectInstance.id){A="__isnull"+this._selectInstance.id;}else{if(C=this._textboxInstance.id){A="__isnull"+this._textboxInstance.id.substring(3);}}var B=document.getElementById(A);if(B&&B.checked){B.checked=false;this._selectInstance.valueIsNull=false;this._selectInstance.savedValue="";this._textboxInstance.valueIsNull=false;this._textboxInstance.savedValue="";this._textboxInstance.valueIsHint=false;this._updateTextHintClass();}},setOnChangeCallback:function(A){this._onChangeCallback=A;},_onChange:function(G){var E=false;if(G==this._selectInstance.id){if(this._selectInstance.selectedIndex==-1){this._textboxInstance.value="";this._textboxInstance.title="";this._selectInstance.title="";}else{var D=this._selectInstance.options[this._selectInstance.selectedIndex];var F=D.text;this._selectInstance.title=D.title;this._textboxInstance.value=F;this._textboxInstance.title=D.title;this._textboxInstance.valueIsHint=false;if(this._selectInstance.isRequired){var A=null;if(this._selectInstance.isDynamicFilter){A=document.getElementById(this._selectInstance.filterTableId);}else{A=document.getElementById("comboTable"+this._selectInstance.id);}if(A){if(F==""){A.className=actuate.parameter.Utility.appendClassName(A.className,"highlightRequiredParameters");}else{A.className=actuate.parameter.Utility.removeClassName(A.className,"highlightRequiredParameters");}}}}E=true;}else{if(G==this._textboxInstance.id){var C=this._textboxInstance.value;var B=false;for(i=0;i<this._selectInstance.options.length;i++){if(this._selectInstance.options[i].text==C){this._selectInstance.selectedIndex=i;B=true;break;}}if(B==false){this._selectInstance.selectedIndex=-1;}this._textboxInstance.title=C;this._selectInstance.title=this._textboxInstance.title;E=true;}else{dbgLog("ComboBox.onChange got this unknown id = "+G);}}this._updateTextHintClass();if(E==true){if(this._onChangeCallback!=null){this._onChangeCallback(this._selectInstance.id);}else{this._masterEventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,this._selectInstance.id);}}},fireOnChangeEvent:function(A){this._eventFramework.fireEvent(actuate.parameter.EventConstants._ON_CHANGE,A);},_onKeyUpHandler:function(B){actuate.parameter.Utility.startTimer("_onKeyUpHandler");var A=null;if(this._selectInstance.isRequired){if(this._selectInstance.isDynamicFilter){A=document.getElementById(this._selectInstance.filterTableId);}else{A=document.getElementById("comboTable"+this._selectInstance.id);}if(A){if(this._textboxInstance.value==""){actuate.parameter.Utility.highlightRequiredParameter(A,"","highlightRequiredParameters");}else{A.className=actuate.parameter.Utility.removeClassName(A.className,"highlightRequiredParameters");}}}actuate.parameter.Utility.stopTimer("_onKeyUpHandler");},_alignTextBox:function(){if(actuate.parameter.Utility.isIE6()){this._adjustStyleOfSelectControl();}var D=0;var B=this._selectInstance.offsetWidth;var A=navigator.userAgent.toLowerCase();if(A.indexOf("firefox")>-1){D=23;this._textboxInstance.style.marginTop="2px";this._textboxInstance.style.marginLeft="3px";}else{if(A.indexOf("msie")>-1){D=23;this._textboxInstance.style.marginTop="1px";this._textboxInstance.style.marginLeft="3px";this._textboxInstance.style.height="17px";}else{if(A.indexOf("android")>-1){this._textboxInstance.style.marginTop="5px";this._textboxInstance.style.marginLeft="3px";D=38;}else{if(A.indexOf("chrome")>-1){D=26;this._textboxInstance.style.marginTop="2px";this._textboxInstance.style.marginLeft="5px";}else{if(/Safari/.test(navigator.userAgent)){if(A.indexOf("ipad")>-1){this._textboxInstance.style.marginTop="3px";this._textboxInstance.style.marginLeft="1px";D=34;}else{this._textboxInstance.style.marginTop="3px";this._textboxInstance.style.marginLeft="3px";D=21;}}else{if(A.indexOf("ipad")>-1){this._textboxInstance.style.height="25px";this._textboxInstance.style.marginTop="3px";this._textboxInstance.style.marginLeft="2px";D=26;}else{D=18;this._textboxInstance.style.marginTop="0px";this._textboxInstance.style.marginLeft="0px";}}}}}}var C=B-D;if(C<0){return ;}this._textboxInstance.style.width=C+"px";},_adjustStyleOfSelectControl:function(){var B=this._selectInstance.offsetWidth;var E=this._selectInstance.offsetHeight;var H=this._selectInstance.offsetTop;var C=this._selectInstance.offsetLeft;this._selectInstance.style.zIndex="0";this._selectInstance.style.position="absolute";var G=H+"px";var F=E+"px";var A=B+"px";var D=B-22+"px";this._selectInstance.style.clip="rect("+G+","+A+", "+F+", "+D+" )";},getSelectInstance:function(){return this._selectInstance;},getTextboxInstance:function(){return this._textboxInstance;}};actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.ControlException=actuate.Class.create();actuate.parameter.impl.UIControl.ControlException.prototype=actuate.Class.extend(new actuate.Exception(),{_element:null,initialize:function(A,E,D,B,C){actuate.Exception.prototype.initialize.call(this,A,E,D,B);this._element=C;},getElement:function(){return this._element;},getErrorMessage:function(){return this.getMessage();},_getName:function(){return"actuate.parameter.impl.UIControl.ControlException";}});actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.Factory={_settings:null,_reportName:null,createParameterControls:function(B,A){this._reportName=B;this._loadXML(A);},runReport:function(B){var E=new actuate.Viewer(this._settings[this._reportName].container);var F=this._settings[this._reportName].parameters;var I={};if(F){for(var D=0;D<F.length;D++){var H=F[D].parameterDef;if(H!=null){var A=H.getName();if(A!=null){var C=F[D].control;var G;if(C!=null){G=this._getControlValue(F[D]);}else{G=B[A];}I[A]=G;}}}E.setParameters(I);}E.setReportName(this._reportName);E.setWidth(760);E.setHeight(600);E.submit();},_loadXML:function(A){if(A){var B=actuate.Method.bind(this._handleXmlDoc,this);if(window.ActiveXObject){xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.onreadystatechange=function(){if(xmlDoc.readyState==4){B();}};xmlDoc.load(A);}else{if(document.implementation&&document.implementation.createDocument){xmlDoc=document.implementation.createDocument("","",null);xmlDoc.onload=B;xmlDoc.load(A);}}}},_handleXmlDoc:function(){this._settings=this._parseXML();if(this._reportName){var A=document.createElement("DIV");var D="report_parameter_container_id";A.id=D;document.body.appendChild(A);A.style.display="none";var C=actuate.Method.bind(this._processParameters,this);var B=new actuate.Parameter(D);B.setReportName(this._reportName);B.submit(function(){B.downloadParameters(C);});}},_parseXML:function(){var E=this._getParameterSetting();var B=this._getReportSetting();for(var D in B){var A=B[D];var F=A.parameters;for(var C=0;C<F.length;C++){var G=F[C];G.detail=E[G.id];}}return B;},_getReportSetting:function(){var E={};var A=xmlDoc.getElementsByTagName("report");for(var G=0;G<A.length;G++){var C=A[G];var J={};J.filename=actuate.util.XmlDom.getNodeTextData(C.getElementsByTagName("filename")[0]);J.container=actuate.util.XmlDom.getNodeTextData(C.getElementsByTagName("container")[0]);var D=C.getElementsByTagName("parameter-control");var H=[];for(var F=0;F<D.length;F++){var I=D[F];var B={};B.id=actuate.util.XmlDom.getNodeTextData(I.getElementsByTagName("id")[0]);B.container=actuate.util.XmlDom.getNodeTextData(I.getElementsByTagName("container")[0]);H.push(B);}J.parameters=H;E[J.filename]=J;}return E;},_getParameterSetting:function(){var F={};var A=xmlDoc.getElementsByTagName("parameter");for(var G=0;G<A.length;G++){var E=A[G];var I={};I.id=actuate.util.XmlDom.getNodeTextData(E.getElementsByTagName("id")[0]);I.name=actuate.util.XmlDom.getNodeTextData(E.getElementsByTagName("name")[0]);I.type=actuate.util.XmlDom.getNodeTextData(E.getElementsByTagName("type")[0]);var D=E.getElementsByTagName("width");var B=E.getElementsByTagName("height");if(D&&D[0]){var C=actuate.util.XmlDom.getNodeTextData(D[0]);if(C){I.width=parseInt(C);}}if(B&&B[0]){var H=actuate.util.XmlDom.getNodeTextData(B[0]);if(H){I.height=parseInt(H);}}F[I.id]=I;}return F;},_processParameters:function(L){if(L&&L.length>0){var E=this._settings[this._reportName].parameters;if(E){var A={};for(var G=0;G<L.length;G++){A[L[G].getName()]={value:L[G]};}for(var G=0;G<E.length;G++){var C=E[G].container;var H=E[G].detail.type;var B=E[G].detail.name;var J=A[B].value;var I=new actuate.parameter.ParameterData(this._reportName,J);var F=this._createControl(H,C,I);A[B]=null;if(F){var D=E[G].detail.width;var M=E[G].detail.height;F.setSize(D,M);E[G].control=F;E[G].parameterDef=J;F.submit();}}for(var K in A){if(A[K]!=null){E.push({parameterDef:A[K].value});}}this._settings[this._reportName].parameters=E;}}},_createControl:function(C,B,A){var D;switch(C){case"list":D=new actuate.parameter.UIControl.List(B,A);D.enableMultipleSelection(true);break;case"combobox":D=new actuate.parameter.UIControl.Combobox(B,A);D.enableTextInput(true);break;case"text":D=new actuate.parameter.UIControl.Text(B,A);break;case"date":D=new actuate.parameter.UIControl.Date(B,A);break;case"radio":D=new actuate.parameter.UIControl.Radio(B,A);D.setOrientation(actuate.parameter.UIControl.Radio.HORIZONTAL);D.setItemsCount(3);break;case"checkbox":D=new actuate.parameter.UIControl.Checkbox(B,A);D.setOrientation(actuate.parameter.UIControl.Checkbox.HORIZONTAL);D.setItemsCount(2);break;case"slider":D=new actuate.parameter.UIControl.Slider(B,A);D.setOrientation(actuate.parameter.UIControl.Slider.HORIZONTAL);break;default:break;}return D;},_getControlValue:function(E){var G=E.parameterDef;var A=E.control;var F=A.getSelection();if(!actuate.util.Utility.isArray(F)){while(F&&F.value){F=F.value;}F=F?F:"";}else{if(F.length<=1){F=F.length==0?"":F[0];while(F&&F.value!=null){F=F.value;}F=F?F:"";}else{var H=F;var D="";F="[";for(var B=0;B<H.length;B++){var I=H[B];while(I&&I.value){I=I.value;}F+=D+(I?I:"");D=",";}F+="]";}}if(F&&G.getDataType().indexOf("Date")>=0){var C=F.split("-");F=C[1]+"/"+C[2]+"/"+C[0];}return""+F;}};actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.Control=actuate.Class.extendClass(actuate.common.Gadget,{_classname:"actuate.parameter.UIControl.Control",_validEvents:["select"],_container:null,_rendered:false,_caption:null,_width:200,_height:100,_selection:null,_defaultValue:null,_panel:null,_paramData:null,initialize:function(B,A){this._container=B;this._paramData=A;this._eventHandlers=[];this._rendered=false;this._selection=null;this.__doFireValueChangedEvent_c=actuate.Method.bind(this.__doFireValueChangedEvent,this);var C=this._getDataStore();this._defaultValue=this._paramData?this._paramData.getDefaultValue():null;this._data={controlData:{rowCount:C?C.length:0,rows:C?C:[]}};this.__bind(this._data);},_getDataStore:function(){if(this._paramData){var A=this._paramData.getNameValueList();if(A){var C=[];for(var B=0;B<A.length;B++){C[B]=[A[B].getValue(),A[B].getName()];}return C;}}},getDesignId:function(){return this._designId;},submit:function(A){this.render(this._container);},render:function(A){if(!this._rendered){this._beforeRender();var D={width:this._width,height:this._height,layout:"fit",header:false,baseCls:"actuate-control-panel"};var E=this.__createTools();if(E!=null){D.header=true;D.tools=E;}this._panel=new actuate.widget.panel.Panel(D);var C=this._render(A);if(C){var F=this._paramData?this._paramData.getPromptText():null;if(F){var B=new actuate.widget.form.Label();B.setText(F+":");this._panel.add(B,false);}this._panel.add(C,false);}this._panel.render(A);this._afterRender();this._rendered=true;}this.refresh();this.__bind(this._data);},remove:function(){if(this._rendered){this._panel.destroy();this._rendered=false;}},_rerender:function(){var A=this._panel.getEl().parent();this._destroy();this.render(A);},_destroy:function(){this._rendered=false;if(this._panel){this._panel.removeAll();this._panel.destroy();this._panel.getEl().remove();this._panel=null;}},destroy:function(){this._destroy();},_beforeRender:function(){},_afterRender:function(){},setCaption:function(A){this._caption=A;if(this._panel){this._panel.setTitle(A);}},getCaption:function(){return this._caption;},__createTools:function(){return null;},_render:function(A){},refresh:function(A){this._refresh(A);},__refresh:function(A){if(!this._rendered){return ;}},__clearValue:function(){this.__fireValueChanged(undefined,null);},setSize:function(B,A){this._width=B||this._width;this._height=A||this._height;this.__updateSize();},notify:function(A,B){},__updateSize:function(){if(this._panel){this._panel.setSize(this._width,this._height);}},getSelection:function(){return this._selection;},__fireValueChanged:function(A,C){if(A!==undefined&&A!=null&&!actuate.util.Utility.isArray(A)){A=[A];}this._selection=[];if(A){for(var B=0;B<A.length;B++){var D={};D.value=A[B];this._selection.push(D);if(A[B]&&typeof (A[B])!="string"){A[B]=""+A[B];}}}},__doFireValueChangedEvent:function(){this.fireEvent("select",this._selection);},__bind:function(A){},setDefaultValue:function(A){this._defaultValue=A;},getDefaultValue:function(){return this._defaultValue;},notifyEvent:function(A,B){},setDefaultFormat:function(){},setFormatInfo:function(A){this.setCaption(A.title);this.setDefaultValue(A.defaultValue);},_addCssClassToDiv:function(B,A){if(B.className.indexOf(A)==-1){B.className+=(" "+A);}},_removeCssClassFromDiv:function(B,A){if(B.className.indexOf(A)!=-1){B.className=B.className.replace(A,"");}},showBorder:function(A){}});actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.BaseSlider=actuate.Class.extendClass(actuate.parameter.impl.UIControl.Control,{_orientation:null,_thumbType:null,_slider:null,_initialValue:null,_defaultValue:null,_tickInterval:null,_maxValue:null,_minValue:null,_data:null,_autoRange:true,_autoTick:true,_showTickMarks:false,initialize:function(A,B){actuate.parameter.impl.UIControl.BaseSlider.superclass.initialize.call(this,A,B);this._list=null;this._orientation=actuate.parameter.impl.UIControl.BaseSlider.HORIZONTAL;this._thumbType=1;this._minValue=0;this._maxValue=100;this._tickInterval=1;this._firstTime=true;this._showTickMarks=false;this._valueSelectedHandler_c=actuate.Method.bind(this._valueSelectedHandler,this);},setOrientation:function(A){if(this._orientation!=A){this._orientation=A;if(this._rendered){this._rerender();}}},getOrientation:function(){return this._orientation;},setThumbType:function(A){var B=null;if(A=="single"){B=1;}else{if(A=="dual"){B=2;}}if(B&&this._thumbType!=B){this._thumbType=B;if(this._slider){this._slider.thumbType=B;this._rerender();}}},getThumbType:function(){return this._thumbType;},getMinValue:function(){return this._minValue;},getMaxValue:function(){return this._maxValue;},setMinValue:function(A){this._minValue=parseFloat(A);if(this._slider){this._slider.setMinValue(this.__convertToSliderSetting(this._minValue),true);}},setMaxValue:function(A){this._maxValue=parseFloat(A);if(this._slider){this._slider.setMaxValue(this.__convertToSliderSetting(this._maxValue),true);}},setInterval:function(A){this._tickInterval=parseFloat(A);if(this._slider){this._slider.setIncrement(this.__convertToSliderSetting(this._tickInterval),true);}},getInterval:function(){return this._tickInterval;},setValue:function(A){this._initialValue=A;},setValues:function(A){this._initialValue=A;},getValue:function(){return this._slider.getValue();},render:function(A){this._height=100;return actuate.parameter.impl.UIControl.BaseSlider.superclass.render.call(this,A);},_beforeRender:function(){},_renderSlider:function(A,N,J,C){var F=(this._orientation==actuate.parameter.impl.UIControl.BaseSlider.VERTICAL);var G=actuate.widget.form.Slider;var O=false;if(this._thumbType>1){G=actuate.widget.custom.MultiSlider;O=true;}var H=1;var K=1;var L={"vertical-align":"top"};var M=this._computeSliderSize(this._width,this._height,F);var D={};var I={};var E=1;if(!F){L["height"]="35px";if(!O){D["text-align"]="center";D["vertical-align"]="top";}else{E=2;H=2;D["text-align"]="left";D["vertical-align"]="top";D["padding-left"]="10px";I["text-align"]="right";I["vertical-align"]="top";I["padding-right"]="10px";}}else{L["width"]="35px";E=2;if(!O){D["text-align"]="left";D["vertical-align"]="middle";D["padding-top"]="10px";}else{K=2;D["padding-top"]="10px";D["text-align"]="left";D["vertical-align"]="top";I["text-align"]="left";I["vertical-align"]="bottom";}}this._valuesPanel=new actuate.widget.panel.Panel({cls:"actuate-list-control-panel",layout:"table",layoutConfig:{columns:E,tableAttr:{style:"width: 100%"}},header:false,footer:false,border:false,style:{"padding":"5px 5px 5px 5px"}});this._slider=new G({vertical:F,minValue:N,maxValue:J,value:this._convertValuesToSlider(this._initialValue),increment:C,showValue:false,thumbCount:this._thumbType,colspan:H,rowspan:K,cellStyle:L,width:M[0],height:M[1],showTickMarks:this._showTickMarks});this._valueLabel1=new actuate.widget.form.Label({cellStyle:D,cls:"actuate-unselectable"});this._valuesPanel.add(this._slider,false);this._valuesPanel.add(this._valueLabel1,false);if(O){this._valueLabel2=new actuate.widget.form.Label({cellStyle:I,cls:"actuate-unselectable"});this._valuesPanel.add(this._valueLabel2,false);if(F){var B=this._valueLabel2;this._valueLabel2=this._valueLabel1;this._valueLabel1=B;}}this._updateValueDisplay(this._initialValue);return this._valuesPanel;},_refresh:function(A){var B=this;actuate.parameter.impl.UIControl.BaseSlider.superclass.__refresh.call(this);},_destroy:function(){this._slider.unregisterEventHandler("change",this._valueSelectedHandler_c);this._slider.unregisterEventHandler("changecomplete",this._valueSelectedHandler_c);this._slider.destroy();this._slider._ele.remove();this._firstTime=true;actuate.parameter.impl.UIControl.BaseSlider.superclass._destroy.call(this);},_afterRender:function(){this._slider.registerEventHandler("change",this._valueSelectedHandler_c);this._slider.registerEventHandler("changecomplete",this._valueSelectedHandler_c);},__clearValue:function(){this._slider.setValue(undefined);},__bind:function(A){actuate.parameter.impl.UIControl.BaseSlider.superclass.__bind.call(this,A);},_updateValueDisplay:function(A){var C="";var B="";if(A&&A.length>0){var C=A[0];if(typeof (C)=="undefined"||C==null){C="";}if(A.length>1){var B=A[1];if(typeof (B)=="undefined"||B==null){B="";}}}this._valueLabel1.setText(C,true);if(this._valueLabel2){this._valueLabel2.setText(B,true);}},setDefaultFormat:function(){this.setCaption("Slider Control");this.setOrientation(actuate.parameter.impl.UIControl.BaseSlider.HORIZONTAL);this.setAutoRange(true);this.setAutoTick(true);this.setThumbType("single");this.setShowTickMarks(format.showTicks);},setAutoRange:function(A){this._autoRange=A;if(A){this.setMinValue(0);this.setMaxValue(100);}},setAutoTick:function(A){this._autoTick=A;if(A){this.setInterval(1);}},setShowTickMarks:function(A){this._showTickMarks=A?true:false;if(this._slider){this._slider.setShowTickMarks(A);}},setDefaultValue:function(A){this._defaultValue=A;},setFormatInfo:function(A){this.setCaption(A.title);this.setDefaultValue([A.defaultValue1,A.defaultValue2]);this.setOrientation(A.orientation);this.setThumbType(A.thumbOption);if(A.autoRange){this.setAutoRange(true);}else{this.setAutoRange(false);this.setMinValue(A.minValue);this.setMaxValue(A.maxValue);}if(A.autoTick){this.setAutoTick(true);}else{this.setAutoTick(false);this.setInterval(A.interval);}this.setShowTickMarks(A.showTicks);},_computeSliderSize:function(C,A,B){if(!B){var C=this._width-25;return[C<0?0:C,50];}else{var A=this._height-25;return[25,A<0?0:A];}},__updateSize:function(){if(this._slider){var B=(this._orientation==actuate.parameter.impl.UIControl.BaseSlider.VERTICAL);var A=this._computeSliderSize(this._width,this._height,B);this._slider.setSize(A[0],A[1]);}actuate.parameter.impl.UIControl.BaseSlider.superclass.__updateSize.call(this);},_valueSelectedHandler:function(C,D,B){var A=this._convertValuesFromSlider(D);this._initialValue=A;this._updateValueDisplay(A);if(!C.dragging){this.__fireValueChanged(A,B==true);}},__convertToSliderSetting:function(A){return A;},_convertValuesFromSlider:function(A){return A;},_convertValuesToSlider:function(A){return A;}});actuate.parameter.impl.UIControl.BaseSlider.HORIZONTAL="horizontal";actuate.parameter.impl.UIControl.BaseSlider.VERTICAL="vertical";actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.Radio=actuate.Class.extendClass(actuate.parameter.impl.UIControl.Control,{_limit:null,_count:null,_orientation:null,_data:null,_panel:null,_width:200,_height:100,_autoAdjust:true,_beforeRender:function(){},setValue:function(B){if(B===undefined){if(this._rendered&&this._contentPanel&&this._contentPanel.items){var A=this._contentPanel.items.items;if(A&&A[0]){B=A[0].valueText;}}else{this._selection=B;return ;}}if(B&&!actuate.util.Utility.isArray(B)){this._selection=[B];}else{if(B){this._selection=B;}else{this._selection=null;}}if(this._rendered){this._updateValue(this._selection);}},_updateValue:function(D){var F=false;var B=actuate.util.Utility;var A=this._contentPanel.items.items;if(actuate.util.Utility.isArray(D)){for(var C=0;C<A.length;C++){if(D[0]==A[C].valueText){var E=A[C];E.setValue(true,true);F=true;break;}}}else{for(var C=0;C<A.length;C++){A[C].setValue(false,true);}}return F;},_refresh:function(A){var B=this;actuate.parameter.impl.UIControl.Radio.superclass.__refresh.call(this,function(){if(A){B.__fireValueChanged(B._selection);}});},_createItemElement:function(C,D,A){var B=new actuate.widget.form.Radio({boxLabel:D||C,valueText:C,name:this._designId+"_radio",value:(A==C),autoDestroy:true});B.registerEventHandler("check",actuate.Method.bind(this._valueSelectedHandler,this));return B;},_valueSelectedHandler:function(B,A){var C=B.getValueText();this._selection=[C];this.__fireSelectEvent();},__fireSelectEvent:function(){this.__fireValueChanged(this._selection);},__bind:function(A){actuate.parameter.impl.UIControl.Radio.superclass.__bind.call(this,A);if(A){this._data=A.controlData?A.controlData:A;this._refreshData();}this.setValue(this._defaultValue);},_refreshData:function(){if(!this._rendered){return ;}if(this._contentPanel){this._contentPanel.removeAll(true);this._contentPanel.layout.destroy();}if(this._orientation==actuate.parameter.impl.UIControl.Radio.HORIZONTAL){this._contentPanel.layout.rows=null;this._contentPanel.layout.columns=this._count;}else{this._contentPanel.layout.rows=this._count;this._contentPanel.layout.columns=null;}if(this._data){for(var B=0;B<this._data.rowCount;B++){var A=this._data.rows[B];var D=A[0];var C=this._createItemElement(D,A[1],this._selection);this._contentPanel.add(C,false);}}this._contentPanel._doLayout(true);},__clearValue:function(){if(this._contentPanel){this._contentPanel.items.each(function(A){A.setValue(false,true);});}this._selection=[];},render:function(A){this._height=100;return actuate.parameter.impl.UIControl.Radio.superclass.render.call(this,A);},_render:function(A){this._contentPanel=new actuate.widget.panel.Panel({header:false,footer:false,layout:"table",autoScroll:true,border:false});return this._contentPanel;},setLimit:function(A){this._limit=A;},setAutoAdjust:function(A,B){this._autoAdjust=A;if(A){this.setItemsCount(3,B);}},setOrientation:function(A,B){if(this._orientation!=A){this._orientation=A;}if(B){this._refreshData();}},setItemsCount:function(B,A){if(this._count!=B){this._count=B;}if(A){this._refreshData();}},__updateSize:function(){actuate.parameter.impl.UIControl.Radio.superclass.__updateSize.call(this);},setDefaultFormat:function(){this.setCaption("Radio Button Control");this.setAutoAdjust(true,false);this.setOrientation(actuate.parameter.impl.UIControl.CheckBoxes.HORIZONTAL,false);this.setLimit(1000);this._refreshData();},setFormatInfo:function(A){actuate.parameter.impl.UIControl.Radio.superclass.setFormatInfo.call(this,A);this.setLimit(A.limit);this.setOrientation(A.orientation,false);if(A.autoAdjust){this.setAutoAdjust(true,false);}else{this.setAutoAdjust(false,false);this.setItemsCount(A.itemCnt,false);}this._refreshData();}});actuate.parameter.impl.UIControl.Radio.HORIZONTAL="horizontal";actuate.parameter.impl.UIControl.Radio.VERTICAL="vertical";actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.Checkbox=actuate.Class.extendClass(actuate.parameter.impl.UIControl.Radio,{initialize:function(A,B){actuate.parameter.impl.UIControl.Checkbox.superclass.initialize.call(this,A,B);this._contentPanel=null;this._orientation=actuate.parameter.impl.UIControl.Checkbox.VERTICAL;this._count=3;this._selection=[];},setValue:function(A){if(A!==undefined){this.setValues(A);}else{this._selection=[];}},setValues:function(A){if(A&&!actuate.util.Utility.isArray(A)){this._selection=[A];}else{this._selection=A||[];}if(this._rendered){this._updateValues();}},_updateValues:function(){var B=actuate.util.Utility;var A=this._contentPanel.items.items;if(this._selection){for(var C=0;C<A.length;C++){A[C].setValue((B.arrayIndexOf(this._selection,A[C].valueText)>=0),true);}}else{for(var C=0;C<A.length;C++){A[C].setValue(false,true);}}},_refresh:function(A){var B=this;actuate.parameter.impl.UIControl.Checkbox.superclass.__refresh.call(this,function(){if(A){B.__fireSelectEvent();}});},_beforeRender:function(){},_createItemElement:function(C,D,A){var B=new actuate.widget.form.Checkbox({boxLabel:D||C,valueText:C,value:(actuate.util.Utility.arrayIndexOf(A,C)>=0),autoDestroy:true});B.registerEventHandler("check",actuate.Method.bind(this._valueSelectedHandler,this));return B;},__clearValueHandler:function(){this.__clearValue();this.__fireSelectEvent();},__clearValue:function(){if(this._contentPanel){this._contentPanel.items.each(function(A){A.setValue(false,true);});}this._selection=[];},_valueSelectedHandler:function(C,A){var B=C.getValueText();if(A){this._selection.push(B);}else{actuate.util.Utility.arrayRemoveValue(this._selection,B);}this.__fireSelectEvent();},__fireSelectEvent:function(){this.__fireValueChanged((this._selection.length>0)?this._selection:null,actuate.parameter.impl.UIControl.Control.SELECTION_TYPE_MULTIPLE);},setDefaultFormat:function(){actuate.parameter.impl.UIControl.Checkbox.superclass.setDefaultFormat.call(this);this.setCaption("Check Box Control");}});actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.Combobox=actuate.Class.extendClass(actuate.parameter.impl.UIControl.Control,{_limit:null,_editable:false,_autoSuggest:false,_triggerEnabled:true,_list:null,_firstBind:null,_width:200,_height:20,initialize:function(A,B){actuate.parameter.impl.UIControl.Combobox.superclass.initialize.call(this,A,B);this._list=null;this._value=null;this._firstBind=true;if(B.controlType=="text-box"){this.enableTextInput(true);this.setTriggerEnabled(false);}},setLimit:function(A){this._limit=A;},enableTextInput:function(A){this._editable=A;if(this._list){this._list.setEditable(A);}},setTriggerEnabled:function(A){this._triggerEnabled=A;if(this._list){this._list._trigger.setDisplayed(!A);}},_beforeRender:function(){},setValue:function(A){if(A===undefined){this._value=A;return ;}this._value=A;if(this._rendered){if(A){this._list.setValue(A,true);}else{this._list.setSelectedIndex();}}},_refresh:function(A){var B=this;actuate.parameter.impl.UIControl.Combobox.superclass.__refresh.call(this,function(){if(A){B.__fireValueChanged(B._value);}});},render:function(A){this._height=48;return actuate.parameter.impl.UIControl.Combobox.superclass.render.call(this,A);},_render:function(B,A){this._comboPanel=new actuate.widget.panel.Panel({header:false,footer:false,border:true,baseCls:"actuate-control-combo"});this._list=new actuate.widget.form.ComboBox({editable:this._editable,value:this._value,enableKeyEvents:true,maxHeight:128,hideTrigger:!this._triggerEnabled,listClass:"actuate-control-combo-dataview",style:"margin: 3px"});this._list._onResize=function(C,D){actuate.widget.form.Combobox.prototype._onResize.call(this,C-2-6,D);};this._list.displayField="value";this._list.registerEventHandler("select",actuate.Method.bind(this._valueSelectedHandler,this));return this._list;},_afterRender:function(){this._list._ele.on("keyup",actuate.Method.bind2(this._keyUpHandler,this,this._list));},__clearValue:function(){this._value=undefined;if(this._list){this._list.setSelectedIndex();}},__bind:function(A){actuate.parameter.impl.UIControl.Combobox.superclass.__bind.call(this,A);if(A&&A.controlData){A=A.controlData;this._data=A.rows;}if(A&&this._list){if(A.controlData){A=A.controlData;}this._data=A.rows||A;if(this._firstBind&&this._data.length>0){delete this._firstBind;if(this._data[0].length>1){this._list.displayField="text";if(this._list.store){this._list.store.removeAll();}}}this._list.setStore(this._data);if(!this._value||(!this._list.setValue(this._value)&&!this._list.editable)){this._list.setSelectedIndex();this._value=null;}this.setValue(this._defaultValue);}},__updateSize:function(){this._height=22;actuate.parameter.impl.UIControl.Combobox.superclass.__updateSize.call(this);if(this._list){this._list.setSize(this._width,this._height);}},_keyUpHandler:function(B,A){if(A.keyCode==A.ENTER){this._valueSelectedHandler(this._list,this._list.getInputValue());}},_changedHandler:function(){this._valueSelectedHandler(this._list,this._list.getValue()||this._list.getInputValue());},_valueSelectedHandler:function(C,A){var B;if(A){B=[];if(A.data){B.push(A.data.value);}else{if(typeof (A)=="string"){B.push(A);}else{if(actuate.util.Utility.isArray(A)){B.push(A[0]);}}}}this._value=B;this.__fireValueChanged(B);},setDefaultFormat:function(){this.setCaption("Combo Box Control");this.setLimit(1000);this.enableTextInput(!this._triggerEnabled);this.setAutoSuggest(false);},setFormatInfo:function(A){actuate.parameter.impl.UIControl.Combobox.superclass.setFormatInfo.call(this,A);this.setLimit(A.listLimit);if(this._triggerEnabled){this.enableTextInput(A.autoTyping);this.setAutoSuggest(A.autoSuggest);}else{this.enableTextInput(true);this.setAutoSuggest(false);}},setAutoSuggest:function(A){this._autoSuggest=A;}});actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.Text=actuate.Class.extendClass(actuate.parameter.impl.UIControl.Control,{_limit:null,_editable:false,_autoSuggest:false,_triggerEnabled:true,_list:null,_firstBind:null,_width:200,_height:20,initialize:function(A,B){actuate.parameter.impl.UIControl.Text.superclass.initialize.call(this,A,B);this._list=null;this._value=null;this._firstBind=true;if(B.controlType=="text-box"){this.enableTextInput(true);this.setTriggerEnabled(false);}},setLimit:function(A){this._limit=A;},enableTextInput:function(A){this._editable=A;if(this._list){this._list.setEditable(A);}},setTriggerEnabled:function(A){this._triggerEnabled=A;if(this._list){this._list._trigger.setDisplayed(!A);}},_beforeRender:function(){},setValue:function(A){if(A===undefined){this._value=A;return ;}this._value=A;if(this._rendered){if(A){this._list.setValue(A,true);}else{this._list.setSelectedIndex();}}},_refresh:function(A){var B=this;actuate.parameter.impl.UIControl.Text.superclass.__refresh.call(this,function(){if(A){B.__fireValueChanged(B._value);}});},render:function(A){this._height=48;return actuate.parameter.impl.UIControl.Text.superclass.render.call(this,A);},_render:function(B,A){this._comboPanel=new actuate.widget.panel.Panel({header:false,footer:false,border:true,baseCls:"actuate-control-combo"});this._list=new actuate.widget.form.TextField({editable:this._editable,value:this._value,enableKeyEvents:true,maxHeight:128,hideTrigger:!this._triggerEnabled,listClass:"actuate-control-combo-dataview",style:"margin: 3px"});this._list._onResize=function(C,D){actuate.widget.form.TextField.prototype._onResize.call(this,C-2-6,D);};this._list.displayField="value";this._list.registerEventHandler("keyup",actuate.Method.bind(this._valueSelectedHandler,this));return this._list;},_afterRender:function(){this._list._ele.on("keyup",actuate.Method.bind2(this._keyUpHandler,this,this._list));},__clearValue:function(){this._value=undefined;if(this._list){this._list.setSelectedIndex();}},__bind:function(A){actuate.parameter.impl.UIControl.Text.superclass.__bind.call(this,A);if(A&&A.controlData){A=A.controlData;this._data=A.rows;}if(A&&this._list){if(A.controlData){A=A.controlData;}this._data=A.rows||A;if(this._firstBind&&this._data.length>0){delete this._firstBind;if(this._data[0].length>1){this._list.displayField="text";if(this._list.store){this._list.store.removeAll();}}}if(!this._value||(!this._list.setValue(this._value)&&!this._list.editable)){this._value=null;}this.setValue(this._defaultValue);}},__updateSize:function(){this._height=22;actuate.parameter.impl.UIControl.Text.superclass.__updateSize.call(this);if(this._list){this._list.setSize(this._width,this._height);}},_keyUpHandler:function(B,A){if(A.keyCode==A.ENTER){this._valueSelectedHandler(this._list,this._list.getInputValue());}},_changedHandler:function(){this._valueSelectedHandler(this._list,this._list.getValue()||this._list.getInputValue());},_valueSelectedHandler:function(C,A){var B=C.getValue();this._value=B;this.__fireValueChanged(B);},setDefaultFormat:function(){this.setCaption("Text Control");this.setLimit(1000);this.enableTextInput(!this._triggerEnabled);this.setAutoSuggest(false);},setFormatInfo:function(A){actuate.parameter.impl.UIControl.Text.superclass.setFormatInfo.call(this,A);this.setLimit(A.listLimit);if(this._triggerEnabled){this.enableTextInput(A.autoTyping);this.setAutoSuggest(A.autoSuggest);}else{this.enableTextInput(true);this.setAutoSuggest(false);}},setAutoSuggest:function(A){this._autoSuggest=A;}});actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.Date=actuate.Class.extendClass(actuate.parameter.impl.UIControl.Control,{_edit:null,_timeField:null,_width:200,_height:20,_startDate:null,_endDate:null,_timeEnabled:false,_autoRange:false,initialize:function(A,B){actuate.parameter.impl.UIControl.Date.superclass.initialize.call(this,A,B);this._edit=null;this._value=null;this._timeEnabled=false;this._autoRange=false;this.setTimeEnabled(B.controlType=="date-time");},_beforeRender:function(){},setTimeEnabled:function(A){if(this._timeEnabled!=A){this._timeEnabled=A;}},setValue:function(A){if(actuate.util.Utility.isArray(A)){A=A[0];}if(A&&typeof (A)!="string"){this._displayValue=A.displayValue;A=A.value;}if(typeof (A)=="string"){A=this._parseDate(A);}this._value=A;if(this._rendered){this._edit.setValue({date:this._value,text:this._displayValue},true);if(this._timeField){this._timeField.setValue(A);}}},_parseDate:function(A){if(A&&!this._timeEnabled){A=A.split(" ")[0];}return actuate.util.Date.parseDate(A,actuate.util.Constants[this._timeEnabled?"LOCALE_NEUTRAL_DATETIME_FORMAT":"LOCALE_NEUTRAL_DATE_FORMAT"]);},render:function(A){this._height=48;return actuate.parameter.impl.UIControl.Date.superclass.render.call(this,A);},_render:function(C){var B=new actuate.widget.panel.Panel({cls:"actuate-list-control-panel",layout:"column",header:false,footer:false,border:false});var D=actuate.util.Utility.getLocalizedStrings("DatePicker",["okText","cancelText","todayText","minText","maxText","disabledDaysText","disabledDatesText","nextText","prevText","monthYearText"]);var A={enableKeyEvents:true,value:this._value,text:this._displayValue,minValue:this._startDate||null,maxValue:this._endDate||null,pickerConfig:D,readOnly:true,msgTarget:"qtip",width:100};actuate.Class.extend(A,actuate.util.Utility.getLocalizedStrings("DateField",["disabledDaysText","disabledDatesText","minText","maxText","invalidText"]));this._edit=new actuate.widget.form.DateField(A);this._edit.displayField="text";this._edit.registerEventHandler("select",actuate.Method.bind(this._valueSelectedHandler,this));this._edit.registerEventHandler("keyup",actuate.Method.bind(this._keyUpHandler,this));B.add(this._edit,false);if(this._timeEnabled){var A={enableKeyEvents:true,value:this._value,format:actuate.util.Utility.getLocalizedString("dateFormat.shortTime"),readOnly:false,msgTarget:"qtip",width:100};actuate.Class.extend(A,actuate.util.Utility.getLocalizedStrings("DateField",["invalidText","minText","maxText"]));this._timeField=new actuate.widget.form.TimeField(A);this._timeField.setValue(this._value);this._timeField.registerEventHandler("select",actuate.Method.bind(this._valueSelectedHandler,this));this._timeField.registerEventHandler("change",actuate.Method.bind(this._valueSelectedHandler,this));this._timeField.registerEventHandler("keyup",actuate.Method.bind(this._keyUpHandler,this));B.add(this._timeField,false);}return B;},_updateData:function(A){if(!this._autoRange||!A){return false;}actuate.parameter.impl.UIControl.Date.superclass._updateData.call(this,A);},_refresh:function(A){actuate.parameter.impl.UIControl.Date.superclass.__refresh.call(this);},__clearValue:function(){this._edit.setValue(undefined);if(this._timeField){this._timeField.setValue(undefined);}},__bind:function(C){actuate.parameter.impl.UIControl.Date.superclass.__bind.call(this,C);if(C&&this._edit&&this._autoRange){C=C.controlData?C.controlData:C;if(C.selectedValues){var A=C.selectedValues;if(A.length>0){this.setValue(A[0]);}}else{C=C.rows;if(C.length>0){var B=this._parseDate(C[0][0])||null;var D=this._parseDate(C[0][C[0].length-1])||null;this.setMinValue(B);this.setMaxValue(D);}else{this.setMinValue(null);this.setMaxValue(null);}}}this.setValue(this._defaultValue);},__updateSize:function(){if(this._edit){var A=this._timeField?this._width-108:this._width-4;this._edit.setSize(A,20);}actuate.parameter.impl.UIControl.Date.superclass.__updateSize.call(this);},_keyUpHandler:function(B,A){if(A.keyCode==A.ENTER){this._valueSelectedHandler(B,B.getValue());}},_valueSelectedHandler:function(){var A=this._edit.getValue();if(A&&!actuate.util.Utility.isDate(A)){A=new actuate.util.Date(A);}if(this._timeField){var B=this._timeField.getDate();if(B&&actuate.util.Utility.isDate(B)){A.setHours(B.getHours());A.setMinutes(B.getMinutes());A.setSeconds(B.getSeconds());}}var C;if(A){C=A.format(actuate.util.Constants[this._timeEnabled?"LOCALE_NEUTRAL_DATETIME_FORMAT":"LOCALE_NEUTRAL_DATE_FORMAT"]);}else{if(A!==undefined){C=null;}}this._value=A;this.__fireValueChanged(C);},setDefaultFormat:function(){this._startDate=null;this._endDate=null;},setFormatInfo:function(A){actuate.parameter.impl.UIControl.Date.superclass.setFormatInfo.call(this,A);if(A.autoRange){this.setAutoRange(true);}else{this.setAutoRange(false);this.setMinValue(A.startDate||null);this.setMaxValue(A.endDate||null);}},setAutoRange:function(A){this._autoRange=A;if(A){this.setMinValue(null);this.setMaxValue(null);}},setMinValue:function(A){if(typeof (A)=="string"){A=this._parseDate(A);}this._startDate=A||null;if(this._edit){this._edit.minValue=A||null;}},setMaxValue:function(A){if(typeof (A)=="string"){A=this._parseDate(A);}this._endDate=A;if(this._edit){this._edit.maxValue=A||null;}},__clearValueHandler:function(){this.__clearValue();this._valueSelectedHandler();},_afterRender:function(){if(this._edit){this.__updateSize();}}});actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.List=actuate.Class.extendClass(actuate.parameter.impl.UIControl.Control,{_noUpdate:false,_searchDelay:500,_searchEventTimer:null,_limit:null,_multipleSelection:false,_enableSearch:false,_list:null,_firstBind:null,_toolsSize:0,initialize:function(A,B){actuate.parameter.impl.UIControl.List.superclass.initialize.call(this,A,B);this._firstBind=true;this._doSearchValueHandler_c=actuate.Method.bind(this._doSearchValueHandler,this);this._toolsSize=0;},setLimit:function(A){this._limit=A;},setValue:function(A){if(A!==undefined){this.setValues(A);}else{this._selection=A;}},setValues:function(A){var B;if(A&&!actuate.util.Utility.isArray(A)){B=[A];}else{if(A&&!this._multipleSelection){B=A[0];}else{if(A){B=A;}else{B=null;}}}if(this._rendered){if(B){this._list.setValues(B);}else{this._list.setSelectedIndex();}}this._selection=B;},_refresh:function(A){var B=this;actuate.parameter.impl.UIControl.List.superclass.__refresh.call(this,function(){if(A){B._fireSelectionEvent(B._selection);}});},_beforeRender:function(){},enableMultipleSelection:function(A){if(this._multipleSelection!=A){this._multipleSelection=A;if(this._list){this._list.setMultiSelect(A);}}},enableSearch:function(A){if(this._enableSearch!=A){this._enableSearch=A;if(this._searchBox){this._searchBox.setVisibility(A);if(this._panel){this._panel._doLayout();}}}},render:function(A){return actuate.parameter.impl.UIControl.List.superclass.render.call(this,A);},_render:function(B){var A;this._list=new actuate.widget.form.ListBox({width:this._width,height:this._height,multiSelect:this._multipleSelection,header:false,footer:false,region:"center"});this._list.displayField="value";A=new actuate.widget.panel.Panel({cls:"actuate-list-selector-panel",layout:"border",header:false,footer:false,border:false});this._searchBox=new actuate.widget.form.TextField({header:false,footer:false,cls:"actuate-selector-search-box",region:"north",enableKeyEvents:true});A.add(this._list,false);if(!this._enableSearch){this._searchBox.hide();}this._searchBox.registerEventHandler("keyup",actuate.Method.bind(this._searchValueHandler,this));this._list.registerEventHandler("select",actuate.Method.bind(this._valueSelectedHandler,this));return this._list;},_afterRender:function(){if(this._enableSearch&&this._searchBox){this._searchBox.width=this._width-this._toolsSize-16;this._searchBox.render(this._panel.header);}},_matchCurrentSelection:function(){if(this._selection){var B;if(!actuate.util.Utility.isArray(this._selection)){if(this._list.contains(this._selection)){B=this._selection;}}else{B=[];for(var A=0;A<this._selection.length;A++){if(this._list.contains(this._selection[A])){B.push(this._selection[A]);}}}delete this._selection;if(B){this._selection=B;}}},__bind:function(A){actuate.parameter.impl.UIControl.List.superclass.__bind.call(this,A);if(A&&A.controlData){A=A.controlData;this._data=A.rows;}if(A&&this._list){if(A.controlData){A=A.controlData;}this._data=A.rows||A;this._noUpdate=true;if(this._firstBind&&this._data.length>0){delete this._firstBind;if(this._data[0].length>1){this._list.displayField="text";this._list.store.removeAll();this._list.setTemplate();}}this._list.setStore(this._data);this._matchCurrentSelection();if(this._selection){this._list.setValues(this._selection,false);}else{this._list.setSelectedIndex();}this._noUpdate=false;this.setValue(this._defaultValue);}},__updateSize:function(){this._updateSearchBox();actuate.parameter.impl.UIControl.List.superclass.__updateSize.call(this);},_updateSearchBox:function(){if(this._searchBox){this._searchBox.setSize(this._width-this._toolsSize-16);}},__clearValueHandler:function(){this.__clearValue();this._valueSelectedHandler(this._list,null);},__clearValue:function(){this._selection=undefined;if(this._searchBox){this._searchBox.setRawValue("");}if(this._list){this._list.setSelectedIndex();this._list.doQuery(undefined,true);}},_searchValueHandler:function(A){if(this._searchEventTimer){window.clearTimeout(this._searchEventTimer);}this._searchEventTimer=window.setTimeout(this._doSearchValueHandler_c,this._searchDelay);},_doSearchValueHandler:function(){if(this._searchEventTimer){window.clearTimeout(this._searchEventTimer);this._searchEventTimer=null;}this._noUpdate=true;var A=this._searchBox.getRawValue();if(A&&A!=""){this._list.doQuery(A,false);}else{this._list.doQuery(null,true);}this._noUpdate=false;},_valueSelectedHandler:function(D,A){if(this._noUpdate){return ;}var C;if(A&&A.length>0){C=[];for(var B=0;B<A.length;B++){C.push(A[B].data.value);}}this._selection=C;this._fireSelectionEvent(C);},_fireSelectionEvent:function(B){var C=actuate.parameter.impl.UIControl.Control.SELECTION_TYPE_SINGLE;var A=this._list.getSelectedIndexes();var D=A.length;var E;if(D>0){E=B;}this.__fireValueChanged(E,C);},setDefaultFormat:function(){this.setLimit(1000);this.enableMultipleSelection(true);this.enableSearch(false);},setFormatInfo:function(A){actuate.parameter.impl.UIControl.List.superclass.setFormatInfo.call(this,A);this.setLimit(A.listLimit);this.enableMultipleSelection(A.allowMulti);this.enableSearch(A.enableSearch,A.parameterBased);},showborder:true,showBorder:function(L){if(L!=null&&L!=undefined){this.showborder=L;}var B=this._list.getEl().dom;var N=B.firstChild;var J=N.firstChild;var F=J.firstChild;var G=N.nextSibling;var C=G.firstChild;var K=C.firstChild;var O=K.firstChild.firstChild;var E=G.nextSibling;var M=E.firstChild;var I=M.firstChild;var D=[N,J,F,G,C,K,O,E,M,I];for(var H=0;H<D.length;H++){this[this.showborder?"_removeCssClassFromDiv":"_addCssClassToDiv"](D[H],"actuate-dashboard-gadget-item-noborder");}for(var A=O.firstChild;A!=null;A=A.nextSibling){this[this.showborder?"_removeCssClassFromDiv":"_addCssClassToDiv"](A,"actuate-dashboard-gadget-item-noborder");}}});actuate.util.Package.define("actuate.parameter.impl.UIControl");actuate.parameter.impl.UIControl.Slider=actuate.Class.extendClass(actuate.parameter.impl.UIControl.BaseSlider,{_precision:1000,initialize:function(){actuate.parameter.impl.UIControl.BaseSlider.prototype.initialize.apply(this,arguments);},__convertToSliderSetting:function(A){return A*this._precision;},setValue:function(B){var A=B;this._selection=B;if(!actuate.util.Utility.isArray(B)){A=[B];}this.setValues(A);},setValues:function(A){if(!actuate.util.Utility.isArray(A)){A=[A];}this._initialValue=[];for(var B=0;B<A.length;B++){var C=A[B];if(C!=undefined&&C!=null){C=parseFloat(C)||0;}this._initialValue.push(C);}if(this._slider){this._slider.setValue(this._convertValuesToSlider(this._initialValue),true);this._updateValueDisplay(this._initialValue);}},getValue:function(){return this._slider.getValue()/this._precision;},_render:function(A){return this._renderSlider(A,this._minValue*this._precision,this._maxValue*this._precision,this._tickInterval*this._precision);},_rerender:function(){actuate.parameter.impl.UIControl.Slider.superclass._rerender.call(this);},__bind:function(C){actuate.parameter.impl.UIControl.Slider.superclass.__bind.call(this,C);if(C&&C.controlData){C=C.controlData;this._data=C.rows;}if(C&&this._slider){if(C.controlData){C=C.controlData;}if(C.selectedValues){this._updateValueDisplay(C.selectedValues);return ;}this._data=C.rows||C;var B=0;var D=0;var A=false;if(this._autoRange){if(this._data.length>0){B=parseFloat(this._data[0][0])||0;D=parseFloat(this._data[this._data.length-1][0])||100;this._slider.setMinValue(B*this._precision);this._slider.setMaxValue(D*this._precision);}else{this._slider.setMinValue(0);this._slider.setMaxValue(0);}A=true;}this._minValue=B;this._maxValue=D;if(A){this._slider.refresh();}if(!actuate.util.Utility.isArray(this._initialValue)){this._initialValue=[this._initialValue];}this._initialValue=this._adjustValues(this._initialValue).sort();this._slider.setValue(this._convertValuesToSlider(this._initialValue),true);this._updateValueDisplay(this._initialValue);if(this._firstTime){delete this._firstTime;this._valueSelectedHandler(this._slider,this._slider.getValue(),true);}this.setValue(this._defaultValue);}},_updateData:function(){this._initialValue=(typeof (this._initialValue)=="undefined"||this._initialValue==null)?this._minValue:this._initialValue;if(!this._autoRange){if(this._firstTime){if(!actuate.util.Utility.isArray(this._initialValue)){this._initialValue=[this._initialValue];}if(this._initialValue.length>0&&this._initialValue.length<this._thumbType){this._initialValue.push(this._initialValue[0]);}this._initialValue=this._adjustValues(this._initialValue).sort();this._slider.setValue(this._convertValuesToSlider(this._initialValue),true);this._updateValueDisplay(this._initialValue);delete this._firstTime;}return ;}if(!this._firstTime&&this._slider){var A=this._convertValuesFromSlider(this._slider.getValue());if(this._data.length>0&&A!=null){this._initialValue=A;}else{this._initialValue=null;}}actuate.parameter.impl.UIControl.Slider.superclass._updateData.call(this);},_adjustValues:function(A){var C=[];for(var B=0;B<A.length;B++){C.push(A[B]);}A=C;if(A[0]==null){A[0]=this._minValue;}if(A.length>1&&A[1]==null){A[1]=this._maxValue;}for(var B=0;B<A.length;B++){if(A[B]<this._minValue){A[B]=this._minValue;}else{if(A[B]>this._maxValue){A[B]=this._maxValue;}}}return A;},_valueSelectedHandler:function(B,C,A){if(C!==undefined){if(!actuate.util.Utility.isArray(C)){C=[C];}else{if(C.length>1){if(C[0]>C[1]){C=[C[1],C[0]];}}}}actuate.parameter.impl.UIControl.Slider.superclass._valueSelectedHandler.call(this,B,C,A==true);},_convertValuesFromSlider:function(B){if(B==null){return null;}if(!actuate.util.Utility.isArray(B)){return B/this._precision;}var A=[];for(var C=0;C<B.length;C++){var D=B[C];if(D!=undefined&&D!=null){D=D/this._precision;}A.push(D);}return A;},_convertValuesToSlider:function(B){if(B==null||B==undefined){return null;}if(!actuate.util.Utility.isArray(B)){B=[B];}var A=[];for(var C=0;C<B.length;C++){if(B[C]!=undefined&&B[C]!=null){A.push(B[C]*this._precision);}}while(A.length<this._thumbType){A.push(A[0]);}return A.sort();},setDefaultValue:function(A){if(!actuate.util.Utility.isArray(A)){A=[A];}this._defaultValue=[];for(var B=0;B<A.length;B++){var C=A[B];if(typeof (C)!="undefined"&&C!=null){C=parseFloat(C)||null;}else{C=null;}if((!this._firstTime||!this._autoRange)&&C==null){if(B==0){C=this._minValue;}else{C=this._maxValue;}}this._defaultValue.push(C);}if(this._defaultValue.length<this._thumbType){this._defaultValue.push((!this._firstTime||!this._autoRange)?this._maxValue:null);}},_updateValueDisplay:function(A){var B=actuate.util.Utility.getLocalizedString("data.nullValue");var D;var C;if(A&&A.length>0){var D=A[0];if(typeof (D)=="undefined"||D==null){D=B;}if(A.length>1){var C=A[1];if(typeof (C)=="undefined"||C==null){C=B;}}}this._valueLabel1.setText(D,true);if(this._valueLabel2){this._valueLabel2.setText(C,true);}}});