actuate.util.Package.define("actuate.iv.ui.dialog");actuate.iv.ui.dialog.IVPageBreakDialog=actuate.Class.create();actuate.iv.ui.dialog.IVPageBreakDialog.superclass=actuate.iv.ui.dialog.AbstractIVDialog.prototype;actuate.iv.ui.dialog.IVPageBreakDialog.prototype=actuate.Class.extend(new actuate.iv.ui.dialog.AbstractIVDialog(),{_classname:"actuate.iv.ui.dialog.IVPageBreakDialog",_width:350,_htmlElements:{"_groupSection":null,"_Before":null,"_After":null,"_position_before_always":null,"_position_before_noFirst":null,"_position_before_none":null,"_position_after_always":null,"_position_after_noLast":null,"_position_after_none":null,"_tableSection":null,"_interval":null},_tableTarget:false,initialize:function(){var A=this._getId(this._classname);this._applyHtmlElementsNames(A);actuate.iv.ui.dialog.AbstractIVDialog.prototype.initialize.call(this,A);this._initTemplates();this.interval=new actuate.uiadapter.TextField({cls:"pagebreak_dialog_inputtext "+actuate.iv.constant.CSS_INPUTBOX,name:"interval"});this.interval.render(this._htmlElements["_interval"]);this.groupSection=document.getElementById(this._htmlElements["_groupSection"]);this.beforeAlwaysObj=new actuate.uiadapter.Radio({cls:actuate.iv.constant.CSS_INPUTBOX,name:"pageBreakDialog.id.position.before",valueText:"always",label:" ",width:"30px",checked:true});this.beforeNoFirstObj=new actuate.uiadapter.Radio({cls:actuate.iv.constant.CSS_INPUTBOX,name:"pageBreakDialog.id.position.before",label:" ",width:"30px",valueText:"no"});this.beforeNoneObj=new actuate.uiadapter.Radio({cls:actuate.iv.constant.CSS_INPUTBOX,name:"pageBreakDialog.id.position.before",label:" ",width:"30px",valueText:"original"});this.afterAlwaysObj=new actuate.uiadapter.Radio({cls:actuate.iv.constant.CSS_INPUTBOX,name:"pageBreakDialog.id.position.after",valueText:"always",label:" ",width:"30px",checked:true});this.afterNoLastObj=new actuate.uiadapter.Radio({cls:actuate.iv.constant.CSS_INPUTBOX,name:"pageBreakDialog.id.position.after",label:" ",width:"30px",valueText:"modified"});this.afterNoneObj=new actuate.uiadapter.Radio({cls:actuate.iv.constant.CSS_INPUTBOX,name:"pageBreakDialog.id.position.after",label:" ",width:"30px",valueText:"original"});this.beforeAlwaysObj.render(this._htmlElements["_position_before_always"]);this.beforeNoFirstObj.render(this._htmlElements["_position_before_noFirst"]);this.beforeNoneObj.render(this._htmlElements["_position_before_none"]);this.afterAlwaysObj.render(this._htmlElements["_position_after_always"]);this.afterNoLastObj.render(this._htmlElements["_position_after_noLast"]);this.afterNoneObj.render(this._htmlElements["_position_after_none"]);this.tableSection=document.getElementById(this._htmlElements["_tableSection"]);},_initTemplates:function(){var G=document.createElement("div");var I=new actuate.uiadapter.Template('<TABLE CELLPADDING="0" CELLSPACING="0" >'+"		<TR>"+"			<TD>"+"			&nbsp;"+"			</TD>"+"			<TD>"+'				<SPAN ID="actuate_iv_ui_dialog_ivPageBreakDialog_position_before_always">'+"				</SPAN>"+"			</TD>"+"			<TD>"+"			&nbsp;"+"			</TD>"+"			<TD>"+"				{0}"+"			</TD>"+"		</TR>"+"		<TR>"+"			<TD>"+"			&nbsp;"+"			</TD>"+'			<TD VALIGN="TOP">'+'				<SPAN ID="actuate_iv_ui_dialog_ivPageBreakDialog_position_before_noFirst">'+"				</SPAN>"+"			</TD>"+"			<TD>"+"			&nbsp;"+"			</TD>"+'			<TD ALIGN="left">'+"				{1}"+"			</TD>"+"		</TR>"+"		<TR>"+"			<TD>"+"			&nbsp;"+"			</TD>"+"			<TD>"+'				<SPAN ID="actuate_iv_ui_dialog_ivPageBreakDialog_position_before_none">'+"				</SPAN>"+"			</TD>"+"			<TD>"+"			&nbsp;"+"			</TD>"+"			<TD>"+"				{2}"+"			</TD>"+"		</TR>"+"	</TABLE>");var C=[actuate.util.Utility.getLocalizedString("pageBreakDialog.position.always"),actuate.util.Utility.getLocalizedString("pageBreakDialog.position.noFirst"),actuate.util.Utility.getLocalizedString("pageBreakDialog.position.none")];var D=I._append(G,C,true);var H=new actuate.uiadapter.FieldSet({checkboxToggle:false,title:actuate.util.Utility.getLocalizedString("pageBreakDialog.prompt.before"),autoHeight:true,defaultType:"textfield",bodyStyle:"padding:0px 0px 0",contentEl:G});H.render(this._htmlElements["_Before"]);var J=document.createElement("div");var B=new actuate.uiadapter.Template('<TABLE CELLPADDING="0" CELLSPACING="0" >'+"	<TR>"+"		<TD>"+"		&nbsp;"+"		</TD>"+"		<TD>"+'			<SPAN ID="actuate_iv_ui_dialog_ivPageBreakDialog_position_after_always">'+"			</SPAN>"+"		</TD>"+"		<TD>"+"		&nbsp;"+"		</TD>"+"		<TD>"+"			{0}"+"		</TD>"+"	</TR>"+"	<TR>"+"		<TD>"+"		&nbsp;"+"		</TD>"+'		<TD VALIGN="TOP">'+'			<SPAN ID="actuate_iv_ui_dialog_ivPageBreakDialog_position_after_noLast">'+"			</SPAN>"+"		</TD>"+"		<TD>"+"		&nbsp;"+"		</TD>"+'		<TD ALIGN="left">'+"			{1}"+"		</TD>"+"	</TR>"+"	<TR>"+"		<TD>"+"		&nbsp;"+"		</TD>"+"		<TD>"+'			<SPAN ID="actuate_iv_ui_dialog_ivPageBreakDialog_position_after_none">'+"			</SPAN>"+"		</TD>"+"		<TD>"+"		&nbsp;"+"		</TD>"+"		<TD>"+"			{2}"+"		</TD>"+"	</TR>"+"</TABLE>");var E=[actuate.util.Utility.getLocalizedString("pageBreakDialog.position.always"),actuate.util.Utility.getLocalizedString("pageBreakDialog.position.noLast"),actuate.util.Utility.getLocalizedString("pageBreakDialog.position.none")];var F=B._append(J,E,true);var A=new actuate.uiadapter.FieldSet({checkboxToggle:false,title:actuate.util.Utility.getLocalizedString("pageBreakDialog.prompt.after"),autoHeight:true,defaultType:"textfield",bodyStyle:"padding:0px 0px 0",contentEl:J});A.render(this._htmlElements["_After"]);},_localBind:function(C){this.beforeAlwaysObj.setValue(false);this.beforeNoFirstObj.setValue(false);this.beforeNoneObj.setValue(false);this.afterAlwaysObj.setValue(false);this.afterNoLastObj.setValue(false);this.afterNoneObj.setValue(false);var D;var B=C.selectedColumn;if(B&&B.getGroup){D=B.getGroup();}else{B=C.selectedElement;D=B&&B.getGroup();}var A=C[actuate.model.Constant.MetadataType.ELEMENT];if(!D){this._tableTarget=true;this.tableSection.style.display="";this.groupSection.style.display="none";this.tableSection.style.visibility="visible";this.interval.setValue(A.pageBreakInterval||20);}else{this._tableTarget=false;this.tableSection.style.display="none";this.groupSection.style.display="";this.tableSection.style.visibility="hidden";if(D){switch(D.pageBreakBefore){case 0:this.beforeAlwaysObj.setValue(true);break;case 1:this.beforeNoFirstObj.setValue(true);break;case 2:default:this.beforeNoneObj.setValue(true);break;}switch(D.pageBreakAfter){case 0:this.afterAlwaysObj.setValue(true);break;case 1:this.afterNoLastObj.setValue(true);break;case 2:default:this.afterNoneObj.setValue(true);break;}}else{this.beforeNoneObj.setValue(true);this.afterNoneObj.setValue(true);}}},_okPress:function(){if(this._tableTarget){var A=this.interval.getValue();var B=A.match(/^(\s*)[0-9]*(\s*)$/);if(!B||A==0){this._viewer.eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("error.pageBreakDialog.invalidPageInterval"));return ;}else{if(!this._validRowsRange(A)){this._viewer.eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("error.pageBreakDialog.invalidPageIntervalRange"));return ;}}}this._viewer.eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_UPDATE_PAGE_BREAK,this._createSoapRequest());this._hide();},_afterHide:function(){this.tableSection.style.visibility="hidden";},__getHelpTopic:function(){return"iv_page_break";},_validRowsRange:function(A){if(A>9999999||A<1){return false;}return true;},_createSoapRequest:function(){var F=actuate.util.XmlDom.createXMLDom(actuate.util.Constants.soap.NAMESPACE_ACTUATE10,actuate.Constant.tag.Data);var B=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.COLUMNDEFS);F.documentElement.appendChild(B);var I=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.ColumnDef);B.appendChild(I);var L=actuate.util.XmlDom.createElement(F,"PageBreak");I.appendChild(L);if(this._tableTarget){var C=actuate.util.XmlDom.createElement(F,"Interval");L.appendChild(C);var G=F.createTextNode(this.interval.getValue());C.appendChild(G);}else{var H=actuate.util.XmlDom.createElement(F,"Before");L.appendChild(H);var E=this.beforeAlwaysObj.getValue()?"0":(this.beforeNoFirstObj.getValue()?"1":(this.beforeNoneObj.getValue()?"2":"3"));var D=F.createTextNode(E);H.appendChild(D);var A=actuate.util.XmlDom.createElement(F,"After");L.appendChild(A);var K=this.afterAlwaysObj.getValue()?"0":(this.afterNoLastObj.getValue()?"1":(this.afterNoneObj.getValue()?"2":"3"));var J=F.createTextNode(K);A.appendChild(J);}return F;}});