actuate.util.Package.define("actuate.iv.ui.dialog");actuate.iv.ui.dialog.IVAvailableDataItemDialog=actuate.Class.create();actuate.iv.ui.dialog.IVAvailableDataItemDialog.prototype=actuate.Class.extend(new actuate.iv.ui.dialog.AbstractIVDialog(),{_classname:"actuate.iv.ui.dialog.IVAvailableDataItemDialog",_dataItemsMap:[],_htmlElements:{"_dataItems":null},_width:245,initialize:function(){var A=this._getId(this._classname);this._applyHtmlElementsNames(A);this._dataItemsMap=[];actuate.iv.ui.dialog.AbstractIVDialog.prototype.initialize.call(this,A);this.avaDataItemsDiv=document.getElementById(this._htmlElements["_dataItems"]);this.avaDataItems=new actuate.uiadapter.ComboBox({editable:false,width:200});this.avaDataItems.render(this.avaDataItemsDiv);},_localBind:function(A){this.operation=A.operation;this.handleAvailableDataItems(A);},_okPress:function(){this._hide();if(typeof (this.operation)=="string"){var C=this.avaDataItems.getValue();var A=this._dataItemsMap[C];if(!A){A={};}A.dataItemId=C;this._viewer.eventDispatcher.fireEvent(this.operation,A);}else{var B=new Array(1);B[0]=this.operation;B[1]=this.getOprandData();this._viewer.eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_APPLY_REQ_WITH_DATA,B);}},__getHelpTopic:function(){return"iv_available_data_items";},getOprandData:function(){var B=this.avaDataItems.getValue();var A=new Object();A.name="ItemId";A.value=B;return A;},handleAvailableDataItems:function(E){this.avaDataItems.clear();var I=[];if(E.childNodes){var J=E.getElementsByTagName("DataItem");for(var F=0;F<J.length;F++){var C=actuate.iv.utility.ivUtility.getDataReponseLeaf(J[F].getElementsByTagName(actuate.Constant.tag.BindingName));var H=actuate.iv.utility.ivUtility.getDataReponseLeaf(J[F].getElementsByTagName(actuate.Constant.tag.ItemId));I.push([H,C]);}}else{var D=E[actuate.model.Constant.MetadataType.COLUMN_DEF][E.columnIid];var G=D.dataItems;this._dataItemsMap=D.getDataItems();for(var F=0;F<G.length;F++){var B=G[F];var A=this._dataItemsMap[B];I.push([B,A.bindingName]);}}this.avaDataItems.setStore(I);this.avaDataItems.setSelectedIndex(0);}});