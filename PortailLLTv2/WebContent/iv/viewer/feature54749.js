actuate.util.Package.define("actuate.iv.ui.dialog.column");actuate.iv.ui.dialog.column.IVShowColumnDialog=actuate.Class.create();actuate.iv.ui.dialog.column.IVShowColumnDialog.prototype=actuate.Class.extend(new actuate.iv.ui.dialog.AbstractIVDialog(),{_classname:"actuate.iv.ui.dialog.column.IVShowColumnDialog",_height:259,_width:268,_htmlElements:{"_panel":null},__columnList:null,initialize:function(){var A=this._getId(this._classname);this._applyHtmlElementsNames(A);actuate.iv.ui.dialog.AbstractIVDialog.prototype.initialize.call(this,A);this.columnPanel=document.getElementById(this._htmlElements["_panel"]);this.__columnList=new actuate.uiadapter.ListBox({width:227,height:150,multiSelect:true,simpleSelect:true,titleField:null,renderTo:this.columnPanel});},_localBind:function(F){if(!F){return ;}var E=[];var D=F[actuate.model.Constant.MetadataType.ELEMENT];var B=D.columnsOrder;for(var A=0;A<B.length;A++){var G=B[A];var C=D.columnsMap[G];if(C.visible==false){E.push([G,C.header]);}}this.__columnList.setStore(E);if(E.length<=0){this._viewer.eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("error.showColumnDialog.noHiddenColumn"));return true;}},_okPress:function(){var A=this.__columnList.getSelectedIndexes();if(A.length>0){this._viewer.eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_SHOW_COLUMN,this._createSoapRequest());this._hide();}else{this._viewer.eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("error.showColumnDialog.noHiddenColumnSelected"));return ;}this.__columnList.clear();},__getHelpTopic:function(){return"iv_manage_column";},_createSoapRequest:function(){var G=actuate.util.XmlDom.createXMLDom(actuate.util.Constants.soap.NAMESPACE_ACTUATE10,actuate.Constant.tag.Data);var A=actuate.util.XmlDom.createElement(G,actuate.Constant.tag.COLUMNDEFS);G.documentElement.appendChild(A);var F=this.__columnList.getSelectedValues("value");var D;for(var C=0;C<F.length;C++){var E=actuate.util.XmlDom.createElement(G,actuate.Constant.tag.ColumnDef);var B=actuate.util.XmlDom.createElement(G,"Iid");D=F[C];textNode=G.createTextNode(D);B.appendChild(textNode);E.appendChild(B);A.appendChild(E);}return G;}});