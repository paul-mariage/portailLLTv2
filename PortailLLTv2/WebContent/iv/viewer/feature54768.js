actuate.util.Package.define("actuate.iv.ui.dialog.group");actuate.iv.ui.dialog.group.IVGroupDetailDialog=actuate.Class.create();actuate.iv.ui.dialog.group.IVGroupDetailDialog.prototype=actuate.Class.extend(new actuate.iv.ui.dialog.AbstractIVDialog(),{_classname:"actuate.iv.ui.dialog.group.IVGroupDetailDialog",_width:381,_htmlElements:{"_groupOn":null,"_interval_range":null,"_interval_type":null,"_noInterval":null,"_setInterval":null},initialize:function(){var A=this._getId(this._classname);this._applyHtmlElementsNames(A);actuate.iv.ui.dialog.AbstractIVDialog.prototype.initialize.call(this,A);this.__dataItem=null;this.__groupOn=document.getElementById(this._htmlElements["_groupOn"]);this.__intervalTypeDiv=document.getElementById(this._htmlElements["_interval_type"]);this.__intervalType=new actuate.uiadapter.ComboBox({editable:false,width:120});this.__intervalType.render(this.__intervalTypeDiv);this.__noInterval=new actuate.uiadapter.Radio({cls:actuate.iv.constant.CSS_INPUTBOX,name:"groupDetailDialog.name.interval",labelWidth:"210px",valueText:"NoInterval",boxLabel:actuate.util.Utility.getLocalizedString("groupDetailDialog.noInterval"),checked:true});this.__setInterval=new actuate.uiadapter.Radio({cls:actuate.iv.constant.CSS_INPUTBOX,name:"groupDetailDialog.name.interval",labelWidth:"210px",valueText:"SetInterval",boxLabel:actuate.util.Utility.getLocalizedString("groupDetailDialog.setInterval")});this.__noInterval.render(this._htmlElements["_noInterval"]);this.__setInterval.render(this._htmlElements["_setInterval"]);this.__intervalRange=new actuate.uiadapter.TextField({cls:"inputText "+actuate.iv.constant.CSS_INPUTBOX,width:50});this.__intervalRange.render(this._htmlElements["_interval_range"]);this.__neh_setNoInterval_c=actuate.Method.bindAsEventListener(this.__neh_setNoInterval,this);this.__neh_setInterval_c=actuate.Method.bindAsEventListener(this.__neh_setInterval,this);this.__local_installEventHandlers(A);},__local_installEventHandlers:function(A){this.__noInterval.registerEventHandler("check",this.__neh_setNoInterval_c);this.__setInterval.registerEventHandler("check",this.__neh_setInterval_c);},_localBind:function(B){var A=B.selectedElement;var C=B.selectedBinding;this.__dataItem=A;this.__groupOn.innerHTML=C.displayName;this.__intervalRange.setValue("1");var D=[];if(C.dataType!=actuate.Constant.DataType.TIME){D.push([2,actuate.util.Utility.getLocalizedString("groupDetailDialog.interval.type.year")]);D.push([3,actuate.util.Utility.getLocalizedString("groupDetailDialog.interval.type.quarter")]);D.push([4,actuate.util.Utility.getLocalizedString("groupDetailDialog.interval.type.month")]);D.push([5,actuate.util.Utility.getLocalizedString("groupDetailDialog.interval.type.week")]);D.push([6,actuate.util.Utility.getLocalizedString("groupDetailDialog.interval.type.day")]);}if(C.dataType!=actuate.Constant.DataType.DATE){D.push([7,actuate.util.Utility.getLocalizedString("groupDetailDialog.interval.type.hour")]);D.push([8,actuate.util.Utility.getLocalizedString("groupDetailDialog.interval.type.minute")]);D.push([9,actuate.util.Utility.getLocalizedString("groupDetailDialog.interval.type.second")]);}this.__intervalType.setStore(D);this.__intervalType.setSelectedIndex(0);this.__toggleInput(false);},__neh_setNoInterval:function(A){this.__toggleInput(false);},__neh_setInterval:function(A){this.__toggleInput(true);},__toggleInput:function(A){if(A){this.__intervalType.enable();this.__intervalRange.enable();this.__setInterval.setValue(true);}else{this.__intervalType.disable();this.__intervalRange.disable();this.__noInterval.setValue(true);}},_okPress:function(){if(this.__setInterval.getValue()){var B="";if(this.__intervalRange.getValue()){B=this.__intervalRange.getValue();}B=actuate.util.String.trim(B);if(B==""){this._viewer.eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("groupDetailDialog.error.missingIntervalRange"));return ;}var A=parseInt(B);if(A<=0||isNaN(B)){var C=actuate.util.Utility.getLocalizedString("groupDetailDialog.error.invalidIntervalRange").replace(/\{0\}/,B);this._viewer.eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,C);return ;}}this._hide();this._viewer.eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_UPDATE_GROUP,this._createSoapRequest());},__getHelpTopic:function(){return"iv_group_detail";},_createSoapRequest:function(){var B=actuate.util.XmlDom.createXMLDom(actuate.util.Constants.soap.NAMESPACE_ACTUATE10,actuate.Constant.tag.Data);var D=actuate.util.XmlDom.createElement(B,actuate.Constant.tag.GroupDetail);B.documentElement.appendChild(D);var A,C;A=actuate.util.XmlDom.createElement(B,actuate.Constant.tag.GroupOn);D.appendChild(A);C=B.createTextNode(this.__dataItem.iid);A.appendChild(C);A=actuate.util.XmlDom.createElement(B,actuate.Constant.tag.CreateSection);D.appendChild(A);C=B.createTextNode("false");A.appendChild(C);if(this.__setInterval.getValue()){A=actuate.util.XmlDom.createElement(B,actuate.Constant.tag.IntervalType);D.appendChild(A);C=B.createTextNode(this.__intervalType.getValue());A.appendChild(C);A=actuate.util.XmlDom.createElement(B,actuate.Constant.tag.IntervalRange);D.appendChild(A);C=B.createTextNode(this.__intervalRange.getValue());A.appendChild(C);}return B;}});