actuate.util.Package.define("actuate.iv.ui.dialog.chart");actuate.iv.ui.dialog.chart.IVFlashGadgetTypeDialog=actuate.Class.create();actuate.iv.ui.dialog.chart.IVFlashGadgetTypeDialog.prototype=actuate.Class.extend(new actuate.iv.ui.dialog.AbstractIVDialog(),{_classname:"actuate.iv.ui.dialog.chart.IVFlashGadgetTypeDialog",_width:331,_htmlElements:{"_gadgetTypeTab":null,"_gadgetTypeImage1Id":null,"_gadgetTypeImage2Id":null,"_gadgetTypeImage3Id":null,"_gadgetTypeNameDiv1Id":null,"_gadgetTypeNameDiv2Id":null,"_gadgetTypeNameDiv3Id":null,"_noswitchToType":null},subChartTypeNameCells:null,GADGET_TYPE_LINEARGAUGE_CHART:"LinearGauge",GADGET_TYPE_METER_CHART:"Meter",GADGET_TYPE_HBULLET_CHART:"Bullet",GADGET_TYPE_CYLINDER_CHART:"Cylinder",GADGET_TYPE_THERMOMETER_CHART:"Thermometer",GADGET_TYPE_SPARK_CHART:"Spark",initialize:function(){var B=this._getId(this._classname);this._applyHtmlElementsNames(B);actuate.iv.ui.dialog.AbstractIVDialog.prototype.initialize.call(this,B);this.gadgetTypeTab=document.getElementById(this._htmlElements["_gadgetTypeTab"]);this.gadgetTypeImage1Id=document.getElementById(this._htmlElements["_gadgetTypeImage1Id"]);this.gadgetTypeImage2Id=document.getElementById(this._htmlElements["_gadgetTypeImage2Id"]);this.gadgetTypeImage3Id=document.getElementById(this._htmlElements["_gadgetTypeImage3Id"]);this.gadgetTypeNameDiv1Id=document.getElementById(this._htmlElements["_gadgetTypeNameDiv1Id"]);this.gadgetTypeNameDiv2Id=document.getElementById(this._htmlElements["_gadgetTypeNameDiv2Id"]);this.gadgetTypeNameDiv3Id=document.getElementById(this._htmlElements["_gadgetTypeNameDiv3Id"]);this.subChartTypeNameCells=new Array();for(var A=0;A<3;A++){this.subChartTypeNameCells.push(this.gadgetTypeTab.rows[0].cells[A]);}this.selectedswitchToType=this.gadgetTypeImage1Id;this.__handleSelectedswitchToType_c=actuate.Method.bindAsEventListener(this.__handleSelectedswitchToType,this);actuate.util.Event.observe(this.gadgetTypeImage1Id,"mousedown",this.__handleSelectedswitchToType_c,false);actuate.util.Event.observe(this.gadgetTypeImage2Id,"mousedown",this.__handleSelectedswitchToType_c,false);actuate.util.Event.observe(this.gadgetTypeImage3Id,"mousedown",this.__handleSelectedswitchToType_c,false);this.image1Src=null;this.image1Src_selected=null;this.image2Src=null;this.image2Src_selected=null;this.image3Src=null;this.image3Src_selected=null;this.image1Literal=null;this.image2Literal=null;this.image3Literal=null;this.yAxisType=null;this.noswitchToTypeDiv=document.getElementById(this._htmlElements["_noswitchToType"]);this.gadgetType=null;this.switchToType=null;},_localBind:function(B){if(!B){return ;}var A=B[actuate.model.Constant.MetadataType.ELEMENT];this.gadgetType=null;this.gadgetCompatibleType=null;this.setGadgetCompatibleType(A.gadgetType,A.getCompatibleTypes());},_okPress:function(){if(this.switchToType!=this.gadgetType){this._viewer.eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_APPLYTYPE,this.htmlId);}this._hide();},__getHelpTopic:function(){return"iv_flash_chart_settings";},__handleSelectedswitchToType:function(A){var B=actuate.util.Event.element(A);this.selectedswitchToType=B;if(B.id==this.gadgetTypeImage1Id.id){this.gadgetTypeImage1Id.className=this.image1Src_selected;this.switchToType=this.image1Literal;this.gadgetTypeImage2Id.className=this.image2Src;this.gadgetTypeImage3Id.className=this.image3Src;}else{if(B.id==this.gadgetTypeImage2Id.id){this.gadgetTypeImage1Id.className=this.image1Src;this.gadgetTypeImage2Id.className=this.image2Src_selected;this.switchToType=this.image2Literal;this.gadgetTypeImage3Id.className=this.image3Src;}else{if(B.id==this.gadgetTypeImage3Id.id){this.gadgetTypeImage1Id.className=this.image1Src;this.gadgetTypeImage2Id.className=this.image2Src;this.gadgetTypeImage3Id.className=this.image3Src_selected;this.switchToType=this.image3Literal;}else{this.switchToType=this.image1Literal;}}}},hideStackedSubTypes:function(){this.subChartTypeNameCells[1].style.display="none";this.subChartTypeNameCells[2].style.display="none";},showAllSubTypes:function(){this.gadgetTypeImage1Id.style.display="";this.gadgetTypeImage2Id.style.display="";this.gadgetTypeImage3Id.style.display="";this.gadgetTypeNameDiv1Id.style.display="";this.gadgetTypeNameDiv2Id.style.display="";this.gadgetTypeNameDiv3Id.style.display="";for(var A=0;A<this.subChartTypeNameCells.length;A++){this.subChartTypeNameCells[A].style.display="";}},setGadgetCompatibleType:function(type,compatibleTypes){this.showAllSubTypes();var compatibleTypeArray=compatibleTypes;this.gadgetType=type;this.gadgetCompatibleType=compatibleTypes;compatibleTypeArray.push(type);compatibleTypeArray.sort();if(compatibleTypes&&compatibleTypes.length>0){for(var ind=1;ind<=compatibleTypeArray.length;ind++){eval("this.image"+ind+'Src = "flashgadgetimages actuateCSSSprite_flashgadget actuateIV_'+compatibleTypeArray[ind-1]+'"');eval("this.image"+ind+'Src_selected = "flashgadgetimages actuateCSSSprite_flashgadget actuateIV_'+compatibleTypeArray[ind-1]+'_selected"');eval("this.gadgetTypeNameDiv"+ind+'Id.innerHTML = "'+actuate.util.Utility.getLocalizedString("flashGadgetTypeDialog.text."+compatibleTypeArray[ind-1])+'"');eval("this.image"+ind+'Literal = "'+compatibleTypeArray[ind-1]+'"');if(compatibleTypeArray[ind-1]==type){eval("this.gadgetTypeImage"+ind+"Id.className = this.image"+ind+"Src_selected");this.switchToType=compatibleTypeArray[ind-1];}else{eval("this.gadgetTypeImage"+ind+"Id.className = this.image"+ind+"Src");}}if(compatibleTypeArray.length<3){for(var ind=compatibleTypeArray.length+1;ind<=3;ind++){eval("this.image"+ind+'Src = ""');eval("this.image"+ind+'Src_selected = ""');this.subChartTypeNameCells[ind-1].style.display="none";eval("this.gadgetTypeNameDiv"+ind+'Id.innerHTML = ""');eval("this.image"+ind+"Literal = null");}}this.noswitchToTypeDiv.innerHTML="";}else{for(var ind=1;ind<=3;ind++){eval("this.image"+ind+'Src = ""');eval("this.image"+ind+'Src_selected = ""');this.subChartTypeNameCells[ind-1].style.display="none";eval("this.gadgetTypeNameDiv"+ind+'Id.innerHTML = ""');eval("this.image"+ind+"Literal = null");}this.noswitchToTypeDiv.innerHTML=actuate.util.Utility.getLocalizedString("flashGadgetTypeDialog.text.noswitchToTypeDiv");}},createSettingRequest:function(){var C=actuate.util.XmlDom.createXMLDom(actuate.util.Constants.soap.NAMESPACE_ACTUATE10,actuate.Constant.tag.Data);var A=actuate.util.XmlDom.createElement(C,"FlashGadget");C.documentElement.appendChild(A);var B=this.createFlashgadgetTypeNode(C);A.appendChild(B);return C;},createFlashgadgetTypeNode:function(B){var A=actuate.util.XmlDom.createElement(B,actuate.Constant.tag.Type);var C=B.createTextNode(this.switchToType);A.appendChild(C);return A;},noComma:""});