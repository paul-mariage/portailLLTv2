actuate.util.Package.define("actuate.dialog.impl.helper.chartbuilder");actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab=actuate.Class.extendClass(actuate.dialog.impl.helper.chartbuilder.ParentChartWithAxisDataTab,{_classname:"actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab",_showTooltip:null,_selectedIid:null,_uiData:{},initialize:function(){this.id=this._getId(this._classname);this._title=actuate.util.Utility.getLocalizedString("chartBuilder.data");actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass.initialize.call(this);this._ySeriesOpen1=actuate.widget.ComponentMgr.get(this.id+"_ySeriesOpen1");this._ySeriesClose1=actuate.widget.ComponentMgr.get(this.id+"_ySeriesClose1");this._ySeriesHigh1=actuate.widget.ComponentMgr.get(this.id+"_ySeriesHigh1");this._ySeriesLow1=actuate.widget.ComponentMgr.get(this.id+"_ySeriesLow1");this._ySeriesOpen2=actuate.widget.ComponentMgr.get(this.id+"_ySeriesOpen2");this._ySeriesClose2=actuate.widget.ComponentMgr.get(this.id+"_ySeriesClose2");this._ySeriesHigh2=actuate.widget.ComponentMgr.get(this.id+"_ySeriesHigh2");this._ySeriesLow2=actuate.widget.ComponentMgr.get(this.id+"_ySeriesLow2");this._aggrExprLabel=actuate.widget.ComponentMgr.get(this.id+"_aggrExprLabel");this._openAggregateExp1=actuate.widget.ComponentMgr.get(this.id+"_openAggregateExp1");this._closeAggregateExp1=actuate.widget.ComponentMgr.get(this.id+"_closeAggregateExp1");this._highAggregateExp1=actuate.widget.ComponentMgr.get(this.id+"_highAggregateExp1");this._lowAggregateExp1=actuate.widget.ComponentMgr.get(this.id+"_lowAggregateExp1");this._openAggregateExp2=actuate.widget.ComponentMgr.get(this.id+"_openAggregateExp2");this._closeAggregateExp2=actuate.widget.ComponentMgr.get(this.id+"_closeAggregateExp2");this._highAggregateExp2=actuate.widget.ComponentMgr.get(this.id+"_highAggregateExp2");this._lowAggregateExp2=actuate.widget.ComponentMgr.get(this.id+"_lowAggregateExp2");this._groupLegned_items=actuate.widget.ComponentMgr.get(this.id+"_groupLegned_items");var A=actuate.Method.bind(this._eh_onBeforeSelect,this);this._ySeriesOpen1.registerEventHandler("beforeselect",A);this._ySeriesClose1.registerEventHandler("beforeselect",A);this._ySeriesHigh1.registerEventHandler("beforeselect",A);this._ySeriesLow1.registerEventHandler("beforeselect",A);this._ySeriesOpen2.registerEventHandler("beforeselect",A);this._ySeriesClose2.registerEventHandler("beforeselect",A);this._ySeriesHigh2.registerEventHandler("beforeselect",A);this._ySeriesLow2.registerEventHandler("beforeselect",A);this._yGroup.registerEventHandler("beforeselect",A);},_initYAxisContent:function(){var A=actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass._initYAxisContent.call(this);this._yGroupOnStore=new actuate.widget.data.SimpleStore({fields:["value","text"]});this._valueDefinitionStore1=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore2=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore3=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore4=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore5=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore6=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore7=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore8=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStoreGroupBy=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});if(A!=null){return A;}A={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("chartBuilder.values"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 4px"},listeners:{collapse:function(){if(that._parentDialog&&that._parentDialog.adjustSize){that._parentDialog.adjustSize();}},expand:function(){if(that._parentDialog&&that._parentDialog.adjustSize){that._parentDialog.adjustSize();}}},items:[{items:[{columnWidth:0.37,xtype:"label",style:"height:1px",text:""},{columnWidth:0.3,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.dataColumns")},{columnWidth:0.02,xtype:"label",style:"height:1px"},{id:this.id+"_aggrExprLabel",columnWidth:0.25,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.aggregateExpression")}]},{items:[{columnWidth:0.27,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.series1")},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.high")},{columnWidth:0.3,id:this.id+"_ySeriesHigh1",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore1)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",forceSelection:true,value:"Max",editable:false,disabled:false,id:this.id+"_highAggregateExp1",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.low")},{columnWidth:0.3,id:this.id+"_ySeriesLow1",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore2)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",forceSelection:true,value:"Min",editable:false,disabled:false,id:this.id+"_lowAggregateExp1",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.open")},{columnWidth:0.3,id:this.id+"_ySeriesOpen1",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore3)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",forceSelection:true,value:"First",editable:false,disabled:false,id:this.id+"_openAggregateExp1",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.close")},{columnWidth:0.3,id:this.id+"_ySeriesClose1",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore4)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",forceSelection:true,value:"Last",editable:false,disabled:false,id:this.id+"_closeAggregateExp1",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.series2")},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.high")},{columnWidth:0.3,id:this.id+"_ySeriesHigh2",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore5)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",editable:false,forceSelection:true,value:"Max",disabled:false,id:this.id+"_highAggregateExp2",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.low")},{columnWidth:0.3,id:this.id+"_ySeriesLow2",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore6)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",editable:false,forceSelection:true,value:"Min",disabled:false,id:this.id+"_lowAggregateExp2",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.open")},{columnWidth:0.3,id:this.id+"_ySeriesOpen2",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore7)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",editable:false,forceSelection:true,value:"First",disabled:false,id:this.id+"_openAggregateExp2",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.close")},{columnWidth:0.3,id:this.id+"_ySeriesClose2",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore8)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",editable:false,forceSelection:true,value:"Last",disabled:false,id:this.id+"_closeAggregateExp2",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{id:this.id+"_groupLegned_items",items:[{columnWidth:0.37,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.groupLegnedItems")},{columnWidth:0.3,id:this.id+"_yGroup",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStoreGroupBy)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"label",text:""}]},{id:this.id+"_yGroupOn_items",items:[{columnWidth:0.37,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.timeInterval")},{columnWidth:0.3,id:this.id+"_yGroupOn",xtype:"combo",editable:false,forceSelection:true,valueField:"value",displayField:"text",store:this._yGroupOnStore},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"label",text:""}]}]};return A;},_agregateExpressionHandler:function(F){actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass._agregateExpressionHandler.call(this);var B=actuate.widget.ComponentMgr.get(this.id+"_highAggregateExp1");B.setDisabled(F.checked?false:true);B.setValue(F.checked?"Max":"");var E=actuate.widget.ComponentMgr.get(this.id+"_lowAggregateExp1");E.setDisabled(F.checked?false:true);E.setValue(F.checked?"Min":"");var H=actuate.widget.ComponentMgr.get(this.id+"_openAggregateExp1");H.setDisabled(F.checked?false:true);H.setValue(F.checked?"First":"");var C=actuate.widget.ComponentMgr.get(this.id+"_closeAggregateExp1");C.setDisabled(F.checked?false:true);C.setValue(F.checked?"Last":"");var I=actuate.widget.ComponentMgr.get(this.id+"_highAggregateExp2");I.setDisabled(F.checked?false:true);I.setValue(F.checked?"Max":"");var D=actuate.widget.ComponentMgr.get(this.id+"_lowAggregateExp2");D.setDisabled(F.checked?false:true);D.setValue(F.checked?"Min":"");var G=actuate.widget.ComponentMgr.get(this.id+"_openAggregateExp2");G.setDisabled(F.checked?false:true);G.setValue(F.checked?"First":"");var A=actuate.widget.ComponentMgr.get(this.id+"_closeAggregateExp2");A.setDisabled(F.checked?false:true);A.setValue(F.checked?"Last":"");},_resetAllTreeCombo:function(){actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass._resetAllTreeCombo.call(this);var B=this.__dataSourceCombo.getValue();var A={id:"none",strong:true,value:"",text:""};this._valueDefinitionStore1.removeAll();this._valueDefinitionStore2.removeAll();this._valueDefinitionStore3.removeAll();this._valueDefinitionStore4.removeAll();this._valueDefinitionStore5.removeAll();this._valueDefinitionStore6.removeAll();this._valueDefinitionStore7.removeAll();this._valueDefinitionStore8.removeAll();this._valueDefinitionStoreGroupBy.removeAll();this.__addDataIntoTreeStore(A,this._valueDefinitionStore1);this.__addDataIntoTreeStore(A,this._valueDefinitionStore2);this.__addDataIntoTreeStore(A,this._valueDefinitionStore3);this.__addDataIntoTreeStore(A,this._valueDefinitionStore4);this.__addDataIntoTreeStore(A,this._valueDefinitionStore5);this.__addDataIntoTreeStore(A,this._valueDefinitionStore6);this.__addDataIntoTreeStore(A,this._valueDefinitionStore7);this.__addDataIntoTreeStore(A,this._valueDefinitionStore8);this.__addDataIntoTreeStore(A,this._valueDefinitionStoreGroupBy);this.__setTreeStoreValues(this._valueDefinitionStore1,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore2,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore3,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore4,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore5,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore6,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore7,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore8,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStoreGroupBy,B,["category","column","dimension"]);if(this._isDataModelSelected()){this._ySeriesHigh1.expandDeep=1;this._ySeriesHigh2.expandDeep=1;this._ySeriesLow1.expandDeep=1;this._ySeriesLow2.expandDeep=1;this._ySeriesOpen1.expandDeep=1;this._ySeriesOpen2.expandDeep=1;this._ySeriesClose1.expandDeep=1;this._ySeriesClose2.expandDeep=1;this._yGroup.expandDeep=1;}else{this._ySeriesHigh1.expandDeep=null;this._ySeriesHigh2.expandDeep=null;this._ySeriesLow1.expandDeep=null;this._ySeriesLow2.expandDeep=null;this._ySeriesOpen1.expandDeep=null;this._ySeriesOpen2.expandDeep=null;this._ySeriesClose1.expandDeep=null;this._ySeriesClose2.expandDeep=null;this._yGroup.expandDeep=null;}this._ySeriesHigh1.refresh();this._ySeriesHigh2.refresh();this._ySeriesLow1.refresh();this._ySeriesLow2.refresh();this._ySeriesOpen1.refresh();this._ySeriesOpen2.refresh();this._ySeriesClose1.refresh();this._ySeriesClose2.refresh();this._yGroup.refresh();this._ySeriesHigh1.setValueById("none");this._ySeriesHigh2.setValueById("none");this._ySeriesLow1.setValueById("none");this._ySeriesLow2.setValueById("none");this._ySeriesOpen1.setValueById("none");this._ySeriesOpen2.setValueById("none");this._ySeriesClose1.setValueById("none");this._ySeriesClose2.setValueById("none");this._yGroup.setValueById("none");},storeUIData:function(B){var A=actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass.storeUIData.call(this,B);this._uiData=A.dataTab;this._uiData.yAxisSeries=new Array();this._uiData.yAxisSeries[0]={};this._uiData.yAxisSeries[0].name=this._getTreeComboValue(this._ySeriesHigh1);this._uiData.yAxisSeries[0].aggregate=this._highAggregateExp1.getValue();this._uiData.yAxisSeries[0].groupOn=this._getTreeComboValue(this._yGroup);if(this._getTreeComboValue(this._yGroup)){var C=this._queryTreeComboRecord(this._ySeriesHigh1,this._getTreeComboValue(this._yGroup));var D=C?C.data.valueDefinitionType:"";if("date-time"==D||"datetime"==D||"date"==D||"time"==D){this._uiData.yAxisSeries[0].groupUnit=this._yGroupOn.getValue();}}this._uiData.yAxisSeries[1]={};this._uiData.yAxisSeries[1].name=this._getTreeComboValue(this._ySeriesLow1);this._uiData.yAxisSeries[1].aggregate=this._lowAggregateExp1.getValue();this._uiData.yAxisSeries[2]={};this._uiData.yAxisSeries[2].name=this._getTreeComboValue(this._ySeriesOpen1);this._uiData.yAxisSeries[2].aggregate=this._openAggregateExp1.getValue();this._uiData.yAxisSeries[3]={};this._uiData.yAxisSeries[3].name=this._getTreeComboValue(this._ySeriesClose1);this._uiData.yAxisSeries[3].aggregate=this._closeAggregateExp1.getValue();this._uiData.yAxisSeries[4]={};this._uiData.yAxisSeries[4].name=this._getTreeComboValue(this._ySeriesHigh2);this._uiData.yAxisSeries[4].aggregate=this._highAggregateExp2.getValue();this._uiData.yAxisSeries[5]={};this._uiData.yAxisSeries[5].name=this._getTreeComboValue(this._ySeriesLow2);this._uiData.yAxisSeries[5].aggregate=this._lowAggregateExp2.getValue();this._uiData.yAxisSeries[6]={};this._uiData.yAxisSeries[6].name=this._getTreeComboValue(this._ySeriesOpen2);this._uiData.yAxisSeries[6].aggregate=this._openAggregateExp2.getValue();this._uiData.yAxisSeries[7]={};this._uiData.yAxisSeries[7].name=this._getTreeComboValue(this._ySeriesClose2);this._uiData.yAxisSeries[7].aggregate=this._closeAggregateExp2.getValue();if(B==null){B={};}B.dataTab=this._uiData;this._uiData={};return B;},_loadYAxisData:function(D){if(D.yAxisSeries){var A=D.yAxisSeries;if(A){if(A[0]){this.__setTreeComboValue(this._ySeriesHigh1,this.convertExpression(A[0].name));if(!A[0].aggregate){if(this._isXGroupOn.checked){this._highAggregateExp1.setValue("Max");this._highAggregateExp1.setDisabled(false);}else{this._highAggregateExp1.setValue("");this._highAggregateExp1.setDisabled(true);}}else{if(A[0].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._highAggregateExp1.setValue(record.data.valueDefinitionValue);}else{this._highAggregateExp1.setValue("Max");}}else{var E=this._aggregationExpressionStore.query("value",A[0].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._highAggregateExp1.setSelectedIndex(B);}}}if(A[0].groupOn){this.__setTreeComboValue(this._yGroup,this.convertExpression(A[0].groupOn));var E=this._queryTreeComboRecord(this._ySeriesHigh1,A[0].groupOn);var F=E?E.data.valueDefinitionType:"";if("date-time"==F||"datetime"==F||"date"==F||"time"==F){this._eh_changeYGroupOn();var C=this._yGroupOnStore.query("value",A[0].groupUnit).itemAt(0);if(C){this._yGroupOn.setValue(A[0].groupUnit);}}}}if(A[1]){this.__setTreeComboValue(this._ySeriesLow1,this.convertExpression(A[1].name));if(this._isDataCubeSelected()&&!A[1].aggregate){this._lowAggregateExp1.setValue("");this._lowAggregateExp1.setDisabled(true);}else{if(A[1].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._lowAggregateExp1.setValue(record.data.valueDefinitionValue);}else{this._lowAggregateExp1.setValue("Min");}}else{var E=this._aggregationExpressionStore.query("value",A[1].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._lowAggregateExp1.setSelectedIndex(B);}}}}if(A[2]){this.__setTreeComboValue(this._ySeriesOpen1,this.convertExpression(A[2].name));if(this._isDataCubeSelected()&&!A[2].aggregate){this._openAggregateExp1.setValue("");this._openAggregateExp1.setDisabled(true);}else{if(A[2].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._openAggregateExp1.setValue(record.data.valueDefinitionValue);}else{this._openAggregateExp1.setValue("First");}}else{var E=this._aggregationExpressionStore.query("value",A[2].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._openAggregateExp1.setSelectedIndex(B);}}}}if(A[3]){this.__setTreeComboValue(this._ySeriesClose1,this.convertExpression(A[3].name));if(this._isDataCubeSelected()&&!A[3].aggregate){this._closeAggregateExp1.setValue("");this._closeAggregateExp1.setDisabled(true);}else{if(A[3].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._closeAggregateExp1.setValue(record.data.valueDefinitionValue);}else{this._closeAggregateExp1.setValue("Last");}}else{var E=this._aggregationExpressionStore.query("value",A[3].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._closeAggregateExp1.setSelectedIndex(B);}}}}if(A[4]){this.__setTreeComboValue(this._ySeriesHigh2,this.convertExpression(A[4].name));if(this._isDataCubeSelected()&&!A[4].aggregate){this._highAggregateExp2.setValue("");this._highAggregateExp2.setDisabled(true);}else{if(A[4].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._highAggregateExp2.setValue(record.data.valueDefinitionValue);}else{this._highAggregateExp2.setValue("Max");}}else{var E=this._aggregationExpressionStore.query("value",A[4].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._highAggregateExp2.setSelectedIndex(B);}}}}if(A[5]){this.__setTreeComboValue(this._ySeriesLow2,this.convertExpression(A[5].name));if(this._isDataCubeSelected()&&!A[5].aggregate){this._lowAggregateExp2.setValue("");this._lowAggregateExp2.setDisabled(true);}else{if(A[5].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._lowAggregateExp2.setValue(record.data.valueDefinitionValue);}else{this._lowAggregateExp2.setValue("Min");}}else{var E=this._aggregationExpressionStore.query("value",A[5].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._lowAggregateExp2.setSelectedIndex(B);}}}}if(A[6]){this.__setTreeComboValue(this._ySeriesOpen2,this.convertExpression(A[6].name));if(this._isDataCubeSelected()&&!A[6].aggregate){this._openAggregateExp2.setValue("");this._openAggregateExp2.setDisabled(true);}else{if(A[6].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._openAggregateExp2.setValue(record.data.valueDefinitionValue);}else{this._openAggregateExp2.setValue("First");}}else{var E=this._aggregationExpressionStore.query("value",A[6].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._openAggregateExp2.setSelectedIndex(B);}}}}if(A[7]){this.__setTreeComboValue(this._ySeriesClose2,this.convertExpression(A[7].name));if(this._isDataCubeSelected()&&!A[7].aggregate){this._closeAggregateExp2.setValue("");this._closeAggregateExp2.setDisabled(true);}else{if(A[7].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._closeAggregateExp2.setValue(record.data.valueDefinitionValue);}else{this._closeAggregateExp2.setValue("Last");}}else{var E=this._aggregationExpressionStore.query("value",A[7].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._closeAggregateExp2.setSelectedIndex(B);}}}}}}if(!this._isXGroupOn.getValue()){this._highAggregateExp1.setValue("");this._highAggregateExp2.setValue("");this._lowAggregateExp1.setValue("");this._lowAggregateExp2.setValue("");this._openAggregateExp1.setValue("");this._openAggregateExp2.setValue("");this._closeAggregateExp1.setValue("");this._closeAggregateExp2.setValue("");}actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass._loadYAxisData.call(this,D);},_clearSubControls:function(){actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass._clearSubControls.call(this);this._ySeriesHigh1.clear();this._ySeriesHigh2.clear();this._highAggregateExp1.setSelectedIndex(5);this._highAggregateExp2.setSelectedIndex(5);this._ySeriesLow1.clear();this._ySeriesLow2.clear();this._lowAggregateExp1.setSelectedIndex(4);this._lowAggregateExp2.setSelectedIndex(4);this._ySeriesOpen1.clear();this._ySeriesOpen2.clear();this._openAggregateExp1.setSelectedIndex(6);this._openAggregateExp2.setSelectedIndex(6);this._ySeriesClose1.clear();this._ySeriesClose2.clear();this._closeAggregateExp1.setSelectedIndex(7);this._closeAggregateExp2.setSelectedIndex(7);},validate:function(){var B=actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass.validate.call(this);if(!this._getTreeComboValue(this._ySeriesHigh1)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.noYAxisError"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._ySeriesHigh1))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesHigh1));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._highAggregateExp1.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._highAggregateExp1.getValue()=="Count"||this._highAggregateExp1.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}if(!this._getTreeComboValue(this._ySeriesLow1)||!this._getTreeComboValue(this._ySeriesOpen1)||!this._getTreeComboValue(this._ySeriesClose1)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.series1Incomplete"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._ySeriesLow1))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesLow1));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._lowAggregateExp1.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._lowAggregateExp1.getValue()=="Count"||this._lowAggregateExp1.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}if(!this.isExpression(this._getTreeComboValue(this._ySeriesOpen1))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesOpen1));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._openAggregateExp1.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._openAggregateExp1.getValue()=="Count"||this._openAggregateExp1.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}if(!this.isExpression(this._getTreeComboValue(this._ySeriesClose1))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesClose1));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._closeAggregateExp1.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._closeAggregateExp1.getValue()=="Count"||this._closeAggregateExp1.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}if(this._getTreeComboValue(this._ySeriesHigh2)){if(!this.isExpression(this._getTreeComboValue(this._ySeriesHigh2))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesHigh2));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._highAggregateExp2.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._highAggregateExp2.getValue()=="Count"||this._highAggregateExp2.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}if(!this._getTreeComboValue(this._ySeriesLow2)||!this._getTreeComboValue(this._ySeriesOpen2)||!this._getTreeComboValue(this._ySeriesClose2)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.series2Incomplete"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._ySeriesLow2))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesLow2));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._lowAggregateExp2.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._lowAggregateExp2.getValue()=="Count"||this._lowAggregateExp2.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}if(!this.isExpression(this._getTreeComboValue(this._ySeriesOpen2))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesOpen2));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._openAggregateExp2.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._openAggregateExp2.getValue()=="Count"||this._openAggregateExp2.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}if(!this.isExpression(this._getTreeComboValue(this._ySeriesClose2))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesClose2));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._closeAggregateExp2.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._closeAggregateExp2.getValue()=="Count"||this._closeAggregateExp2.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}}else{if(this._getTreeComboValue(this._ySeriesLow2)||this._getTreeComboValue(this._ySeriesOpen2)||this._getTreeComboValue(this._ySeriesClose2)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.series2Incomplete"),buttons:actuate.widget.MessageBox.OK});return false;}}return B;},_getYAxisDataType:function(F){actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass._getYAxisDataType.call(this,F);var A=this.__getSelectedDataSourceInfo();if(A){var E=A[1].measures;if(E){for(var C=0;C<E.length;C++){var D=E[C].measures;if(D){for(var B=0;B<D.length;B++){if('data["'+E[C].name+"/"+D[B].name+'"]'==F){return D[B].dataType;}}}}}return this._getDataSetFieldDataType(F);}return"";},_createYAxisSoapNode:function(F,I){actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass._createYAxisSoapNode.call(this,F,I);if(F){var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesHigh1));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesHigh1)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._highAggregateExp1.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesHigh1)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesLow1));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesLow1)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._lowAggregateExp1.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesLow1)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesOpen1));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesOpen1)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._openAggregateExp1.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesOpen1)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesClose1));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesClose1)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._closeAggregateExp1.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesClose1)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesHigh2));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesHigh2)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._highAggregateExp2.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesHigh2)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesLow2));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesLow2)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._lowAggregateExp2.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesLow2)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesOpen2));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesOpen2)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._openAggregateExp2.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesOpen2)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesClose2));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesClose2)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._closeAggregateExp2.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesClose2)));G.appendChild(A);D.appendChild(G);I.appendChild(B);}},_createTooltipSoapNode:function(E,I){var H=actuate.util.XmlDom.createElement(E,"ShowTooltip");var D=E.createTextNode(this._showTooltip.checked?"true":"false");H.appendChild(D);I.appendChild(H);var B=actuate.util.XmlDom.createElement(E,"TooltipValue");var C=actuate.util.XmlDom.createElement(E,"DataMartData");B.appendChild(C);var J=actuate.util.XmlDom.createElement(E,"DataField");var A=E.createTextNode(this._getTreeComboValue(this._tooltipValue));J.appendChild(A);C.appendChild(J);var G=actuate.util.XmlDom.createElement(E,"DataType");var F="";if(this._getTreeComboValue(this._tooltipValue)=="categoryData"){F=this._getXAxisDataType(this._getTreeComboValue(this._categoryXCombo));}else{if(this._getTreeComboValue(this._tooltipValue)=="valueSeriesName"){}else{if(this._getTreeComboValue(this._tooltipValue)=="valueData"){F=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesOpen1));}else{F=this._getDataSetFieldDataType(this._getTreeComboValue(this._tooltipValue));}}}var A=E.createTextNode(F);G.appendChild(A);C.appendChild(G);I.appendChild(B);},setAggrExprVisibility:function(A){if(A){this._aggrExprLabel.show();this._highAggregateExp1.show();this._highAggregateExp2.show();this._lowAggregateExp1.show();this._lowAggregateExp2.show();this._openAggregateExp1.show();this._openAggregateExp2.show();this._closeAggregateExp1.show();this._closeAggregateExp2.show();}else{this._aggrExprLabel.hide();this._highAggregateExp1.hide();this._highAggregateExp2.hide();this._lowAggregateExp1.hide();this._lowAggregateExp2.hide();this._openAggregateExp1.hide();this._openAggregateExp2.hide();this._closeAggregateExp1.hide();this._closeAggregateExp2.hide();}},_isDisabled:function(D,A){if(actuate.dialog.impl.helper.chartbuilder.StockChartWithAxisDataTab.superclass._isDisabled.apply(this,arguments)){return true;}var C=D?D.value:null;if(C&&A==this._valueDefinitionStore){switch(C.type){case"column":if("date-time"!=C.dataType&&"datetime"!=C.dataType&&"date"!=C.dataType&&"time"!=C.dataType){return true;}break;case"level":if("date-time"!=C.dataType&&"datetime"!=C.dataType&&"date"!=C.dataType&&"time"!=C.dataType&&"integer"!=C.dataType){return true;}if(C.dataType=="integer"&&C.attributes&&C.attributes.length>0){for(var E=0;E<C.attributes.length;E++){var B=C.attributes[E];if(B&&B.name=="DateTime"&&(B.dataType=="date"||B.dataType=="time"||B.dataType=="datetime"||B.dataType=="date-time")){return false;}}return true;}break;default:return true;break;}}return false;}});