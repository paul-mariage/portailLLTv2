actuate.util.Package.define("actuate.dialog.impl.helper.gadgetbuilder");actuate.dialog.impl.helper.gadgetbuilder.FlashGadgetBuilder=actuate.Class.extendClass(actuate.dialog.impl.helper.DataViewBuilderDialog,{_classname:"actuate.dialog.FlashGadgetBuilderDialog",_height:null,_width:530,_tabPanel:null,initialize:function(B,C){var D=this._getId(this._classname);this._applyHtmlElementsNames(D);var A=actuate.util.Utility;actuate.dialog.impl.helper.BaseBuilderDialog.prototype.initialize.call(this,D,actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.builderTitle"),[this._height,this._width],C);},_localBind:function(G){var D=G[actuate.model.Constant.MetadataType.ELEMENT];var F=this._consumer._service._type;if((G.operationData&&G.operationData.componentData&&G.operationData.componentData.category=="FlashGadgets")){G._isFlashGadget=true;this._isFlashGadget=true;}else{G._isFlashGadget=false;this._isFlashGadget=false;}this.hidePanels(["SPARKLINE_FORMAT_TAB","METER_FORMAT_TAB","LINEARGAUGE_FORMAT_TAB","CYLINDER_FORMAT_TAB","THERMOMETER_FORMAT_TAB","BULLET_FORMAT_TAB"]);if(F==actuate.Constant.GadgetType.Meter||F==actuate.Constant.GadgetType.LinearGauge){this._dataPanel=this.getPanel("actuate_dialog_impl_helper_gadgetbuilder_meterDataTab");this.hidePanel("BULLET_DATA_TAB");this.hidePanel("SPARKLINE_DATA_TAB");}else{if(F==actuate.Constant.GadgetType.Spark){this._dataPanel=this.getPanel("actuate_dialog_impl_helper_gadgetbuilder_sparkLineDataTab");this.hidePanel("BULLET_DATA_TAB");this.hidePanel("METER_DATA_TAB");}else{this._dataPanel=this.getPanel("actuate_dialog_impl_helper_gadgetbuilder_bulletDataTab");this.hidePanel("SPARKLINE_DATA_TAB");this.hidePanel("METER_DATA_TAB");}}if(this._dataPanel){this._dataPanel.hidden=false;this._tabPanel.unhideTabStripItem(this._dataPanel.getPanel());this._dataPanel.loadData(G);if(G.operationData&&!G.operationData.activeTab){this._tabPanel.setActiveTab(this._dataPanel.getPanel());}}this._formatPanel=this.getPanel(this._parseFormatTabNameByType(F));var B=F.toUpperCase()+"_FORMAT_TAB";this.showPanel(B);this._formatPanel.hidden=false;this._tabPanel.unhideTabStripItem(this._formatPanel.getPanel());var C=this._getCompatibleTypes(F);if(C&&C.length>0){for(var E=0;E<C.length;E++){compatibleFormatPanel=this.getPanel(this._parseFormatTabNameByType(C[E]));B=C[E].toUpperCase()+"_FORMAT_TAB";this.hidePanel(B);}}if(this._formatPanel){this._formatPanel._isFlashGadget=G._isFlashGadget;}this._formatPanel.loadData(G);this._typePanel=this.getPanel("actuate_dialog_impl_helper_gadgetbuilder_flashGadgetTypeTab");if(this._typePanel&&!this._typePanel.hidden){this._typePanel.loadData(G,F);}var A=this.getPanel("actuate_dialog_impl_helper_genericPropsTab");if(A&&!A.hidden){if(!this._uiData){this._uiData={};}if(!this._uiData.generalTab&&G.operationData!==undefined){this._uiData.generalTab=G.operationData;}if(!this._uiData.generalTab){this._uiData.generalTab={};}this._genericPropsPanel=A;A.loadData(this._uiData.generalTab,F);}},storeUIData:function(){if(this._genericPropsPanel){this._uiData=this._genericPropsPanel.storeUIData(this._uiData);}},_parseFormatTabNameByType:function(A){A=A.substring(0,1).toLowerCase()+A.substring(1);if(A!="spark"){return"actuate_dialog_impl_helper_gadgetbuilder_"+A+"FormatTab";}else{return"actuate_dialog_impl_helper_gadgetbuilder_sparkLineFormatTab";}},_getCompatibleTypes:function(A){var E=actuate.Constant.GadgetType;var G=[[E.Spark],[E.LinearGauge,E.Meter],[E.Cylinder,E.Thermometer,E.Bullet]];var F=null;var B;for(var D=0;D<G.length;D++){F=G[D];for(B=0;B<F.length;B++){if(F[B]==A){break;}}if(B<F.length){break;}}var C=[];if(F!=null){for(var D=0;D<F.length;D++){if(F[D]!=A){C.push(F[D]);}}}return C;},_bind:function(B){var A=this.getPanel("actuate_dialog_impl_helper_gadgetbuilder_meterDataTab");if(A){A.loadData(B);}var A=this.getPanel("actuate_dialog_impl_helper_gadgetbuilder_sparkLineDataTab");if(A){A.loadData(B);}A=this.getPanel("actuate_dialog_impl_helper_gadgetbuilder_bulletDataTab");if(A){A.loadData(B);}},_afterHide:function(){if(this._filterPanel&&this._filterPanel._afterHide){this._filterPanel._afterHide();}this._uiData=null;},_preHide:function(){if(this._dataPanel){this._dataPanel._preHide();}if(this._formatPanel){this._formatPanel._preHide();}if(this._genericPropsPanel&&this._genericPropsPanel._preHide){this._genericPropsPanel._preHide();}this._uiData=null;},_createBaseSoapNode:function(B){var A=actuate.util.XmlDom.createElement(B,"FlashGadget");B.documentElement.appendChild(A);return A;},__getDataPanel:function(){return this._dataPanel;},__getGadgetTypeName:function(){return this._typePanel.getType();},hidePanels:function(B){for(var A=0;A<B.length;A++){this.hidePanel(B[A]);}}});