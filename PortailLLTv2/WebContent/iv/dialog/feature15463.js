actuate.util.Package.define("actuate.dialog.impl.helper.chartbuilder");actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab=actuate.Class.extendClass(actuate.dialog.impl.helper.chartbuilder.ParentChartWithAxisDataTab,{_classname:"actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab",_showTooltip:null,_selectedIid:null,_uiData:{},initialize:function(){this.id=this._getId(this._classname);this._title=actuate.util.Utility.getLocalizedString("chartBuilder.data");actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass.initialize.call(this);this._ySeries1=actuate.widget.ComponentMgr.get(this.id+"_yAxisSeries1");this._ySeriesSize1=actuate.widget.ComponentMgr.get(this.id+"_yAxisSeriesSize1");this._ySeries2=actuate.widget.ComponentMgr.get(this.id+"_yAxisSeries2");this._ySeriesSize2=actuate.widget.ComponentMgr.get(this.id+"_yAxisSeriesSize2");this._aggrExprLabel=actuate.widget.ComponentMgr.get(this.id+"_aggrExprLabel");this._agregateExpression1=actuate.widget.ComponentMgr.get(this.id+"_agregateExpression1");this._sizeAgregateExpression1=actuate.widget.ComponentMgr.get(this.id+"_sizeAgregateExpression1");this._agregateExpression2=actuate.widget.ComponentMgr.get(this.id+"_agregateExpression2");this._sizeAgregateExpression2=actuate.widget.ComponentMgr.get(this.id+"_sizeAgregateExpression2");this._groupLegned_items=actuate.widget.ComponentMgr.get(this.id+"_groupLegned_items");var A=actuate.Method.bind(this._eh_onBeforeSelect,this);this._ySeries1.registerEventHandler("beforeselect",A);this._ySeries2.registerEventHandler("beforeselect",A);this._ySeriesSize1.registerEventHandler("beforeselect",A);this._ySeriesSize2.registerEventHandler("beforeselect",A);this._yGroup.registerEventHandler("beforeselect",A);},_initYAxisContent:function(){var A=actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass._initYAxisContent.call(this);this._yGroupOnStore=new actuate.widget.data.SimpleStore({fields:["value","text"]});this._valueDefinitionStore1=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore2=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore3=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore4=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStoreGroupBy=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});if(A!=null){return A;}A={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("chartBuilder.values"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 4px"},listeners:{collapse:function(){if(that._parentDialog&&that._parentDialog.adjustSize){that._parentDialog.adjustSize();}},expand:function(){if(that._parentDialog&&that._parentDialog.adjustSize){that._parentDialog.adjustSize();}}},items:[{items:[{columnWidth:0.37,xtype:"label",style:"height:1px",text:""},{columnWidth:0.3,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.dataColumns")},{columnWidth:0.02,xtype:"label",style:"height:1px"},{id:this.id+"_aggrExprLabel",columnWidth:0.25,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.aggregateExpression")}]},{items:[{columnWidth:0.27,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.series1")},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.yValue")},{columnWidth:0.3,viewWidth:250,id:this.id+"_yAxisSeries1",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore1)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",forceSelection:true,value:"Sum",editable:false,disabled:false,id:this.id+"_agregateExpression1",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.size")},{columnWidth:0.3,viewWidth:250,id:this.id+"_yAxisSeriesSize1",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore2)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",forceSelection:true,value:"Sum",editable:false,disabled:false,id:this.id+"_sizeAgregateExpression1",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.series2")},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.yValue")},{columnWidth:0.3,viewWidth:250,id:this.id+"_yAxisSeries2",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore3)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",editable:false,forceSelection:true,value:"Sum",disabled:false,id:this.id+"_agregateExpression2",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.size")},{columnWidth:0.3,viewWidth:250,id:this.id+"_yAxisSeriesSize2",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore4)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",editable:false,forceSelection:true,value:"Sum",disabled:false,id:this.id+"_sizeAgregateExpression2",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{id:this.id+"_groupLegned_items",items:[{columnWidth:0.37,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.groupLegnedItems")},{columnWidth:0.3,viewWidth:250,id:this.id+"_yGroup",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStoreGroupBy)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"label",text:""}]},{id:this.id+"_yGroupOn_items",items:[{columnWidth:0.37,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.timeInterval")},{columnWidth:0.3,id:this.id+"_yGroupOn",xtype:"combo",editable:false,forceSelection:true,valueField:"value",displayField:"text",store:this._yGroupOnStore},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"label",text:""}]}]};return A;},_agregateExpressionHandler:function(C){actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass._agregateExpressionHandler.call(this);var B=actuate.widget.ComponentMgr.get(this.id+"_agregateExpression1");B.setDisabled(C.checked?false:true);B.setValue(C.checked?"Sum":"");var E=actuate.widget.ComponentMgr.get(this.id+"_sizeAgregateExpression1");E.setDisabled(C.checked?false:true);E.setValue(C.checked?"Sum":"");var A=actuate.widget.ComponentMgr.get(this.id+"_agregateExpression2");A.setDisabled(C.checked?false:true);A.setValue(C.checked?"Sum":"");var D=actuate.widget.ComponentMgr.get(this.id+"_sizeAgregateExpression2");D.setDisabled(C.checked?false:true);D.setValue(C.checked?"Sum":"");},_resetAllTreeCombo:function(){actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass._resetAllTreeCombo.call(this);var B=this.__dataSourceCombo.getValue();var A={id:"none",strong:true,value:"",text:""};this._valueDefinitionStore1.removeAll();this._valueDefinitionStore2.removeAll();this._valueDefinitionStore3.removeAll();this._valueDefinitionStore4.removeAll();this._valueDefinitionStoreGroupBy.removeAll();this.__addDataIntoTreeStore(A,this._valueDefinitionStore1);this.__addDataIntoTreeStore(A,this._valueDefinitionStore2);this.__addDataIntoTreeStore(A,this._valueDefinitionStore3);this.__addDataIntoTreeStore(A,this._valueDefinitionStore4);this.__addDataIntoTreeStore(A,this._valueDefinitionStoreGroupBy);this.__setTreeStoreValues(this._valueDefinitionStore1,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore2,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore3,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore4,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStoreGroupBy,B,["category","column","dimension"]);if(this._isDataModelSelected()){this._ySeries1.expandDeep=1;this._ySeries2.expandDeep=1;this._ySeriesSize1.expandDeep=1;this._ySeriesSize2.expandDeep=1;this._yGroup.expandDeep=1;}else{this._ySeries1.expandDeep=null;this._ySeries2.expandDeep=null;this._ySeriesSize1.expandDeep=null;this._ySeriesSize2.expandDeep=null;this._yGroup.expandDeep=null;}this._ySeries1.refresh();this._ySeries2.refresh();this._ySeriesSize1.refresh();this._ySeriesSize2.refresh();this._yGroup.refresh();this._ySeries1.setValueById("none");this._ySeries2.setValueById("none");this._ySeriesSize1.setValueById("none");this._ySeriesSize2.setValueById("none");this._yGroup.setValueById("none");},storeUIData:function(B){var A=actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass.storeUIData.call(this,B);this._uiData=A.dataTab;this._uiData.yAxisSeries=new Array();this._uiData.yAxisSeries[0]={};this._uiData.yAxisSeries[0].name=this._getTreeComboValue(this._ySeries1);this._uiData.yAxisSeries[0].aggregate=this._agregateExpression1.getValue();this._uiData.yAxisSeries[0].groupOn=this._getTreeComboValue(this._yGroup);if(this._getTreeComboValue(this._yGroup)){var C=this._queryTreeComboRecord(this._ySeries1,this._getTreeComboValue(this._yGroup));var D=C?C.data.valueDefinitionType:"";if("date-time"==D||"datetime"==D||"date"==D||"time"==D){this._uiData.yAxisSeries[0].groupUnit=this._yGroupOn.getValue();}}this._uiData.yAxisSeries[1]={};this._uiData.yAxisSeries[1].name=this._getTreeComboValue(this._ySeriesSize1);this._uiData.yAxisSeries[1].aggregate=this._sizeAgregateExpression1.getValue();this._uiData.yAxisSeries[2]={};this._uiData.yAxisSeries[2].name=this._getTreeComboValue(this._ySeries2);this._uiData.yAxisSeries[2].aggregate=this._agregateExpression2.getValue();this._uiData.yAxisSeries[3]={};this._uiData.yAxisSeries[3].name=this._getTreeComboValue(this._ySeriesSize2);this._uiData.yAxisSeries[3].aggregate=this._sizeAgregateExpression2.getValue();if(B==null){B={};}B.dataTab=this._uiData;this._uiData={};return B;},_loadYAxisData:function(D){if(D.yAxisSeries){var A=D.yAxisSeries;if(A){if(A[0]){this.__setTreeComboValue(this._ySeries1,this.convertExpression(A[0].name));if(!A[0].aggregate){if(this._isXGroupOn.checked){this._agregateExpression1.setValue("Sum");this._agregateExpression1.setDisabled(false);}else{this._agregateExpression1.setValue("");this._agregateExpression1.setDisabled(true);}}else{if(A[0].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._agregateExpression1.setValue(record.data.valueDefinitionValue);}else{this._agregateExpression1.setValue("Sum");}}else{var E=this._aggregationExpressionStore.query("value",A[0].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._agregateExpression1.setSelectedIndex(B);}}}if(A[0].groupOn){this.__setTreeComboValue(this._yGroup,this.convertExpression(A[0].groupOn));var E=this._queryTreeComboRecord(this._ySeries1,A[0].groupOn);var F=E?E.data.valueDefinitionType:"";if("date-time"==F||"datetime"==F||"date"==F||"time"==F){this._eh_changeYGroupOn();var C=this._yGroupOnStore.query("value",A[0].groupUnit).itemAt(0);if(C){this._yGroupOn.setValue(A[0].groupUnit);}}}}if(A[1]){this.__setTreeComboValue(this._ySeriesSize1,this.convertExpression(A[1].name));if(this._isDataCubeSelected()&&!A[1].aggregate){this._sizeAgregateExpression1.setValue("");this._sizeAgregateExpression1.setDisabled(true);}else{if(A[1].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._sizeAgregateExpression1.setValue(record.data.valueDefinitionValue);}else{this._sizeAgregateExpression1.setValue("Sum");}}else{var E=this._aggregationExpressionStore.query("value",A[1].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._sizeAgregateExpression1.setSelectedIndex(B);}}}}if(A[2]){this.__setTreeComboValue(this._ySeries2,this.convertExpression(A[2].name));if(this._isDataCubeSelected()&&!A[2].aggregate){this._agregateExpression2.setValue("");this._agregateExpression2.setDisabled(true);}else{if(A[2].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._agregateExpression2.setValue(record.data.valueDefinitionValue);}else{this._agregateExpression2.setValue("Sum");}}else{var E=this._aggregationExpressionStore.query("value",A[2].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._agregateExpression2.setSelectedIndex(B);}}}}if(A[3]){this.__setTreeComboValue(this._ySeriesSize2,this.convertExpression(A[3].name));if(this._isDataCubeSelected()&&!A[3].aggregate){this._sizeAgregateExpression2.setValue("");this._sizeAgregateExpression2.setDisabled(true);}else{if(A[3].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._sizeAgregateExpression2.setValue(record.data.valueDefinitionValue);}else{this._sizeAgregateExpression2.setValue("Sum");}}else{var E=this._aggregationExpressionStore.query("value",A[3].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._sizeAgregateExpression2.setSelectedIndex(B);}}}}}}if(!this._isXGroupOn.getValue()){this._agregateExpression1.setValue("");this._agregateExpression2.setValue("");this._sizeAgregateExpression1.setValue("");this._sizeAgregateExpression2.setValue("");}actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass._loadYAxisData.call(this,D);},_clearSubControls:function(){actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass._clearSubControls.call(this);this._ySeries1.clear();this._ySeries2.clear();this._agregateExpression2.setSelectedIndex(0);this._agregateExpression1.setSelectedIndex(0);this._ySeriesSize1.clear();this._ySeriesSize2.clear();this._sizeAgregateExpression2.setSelectedIndex(0);this._sizeAgregateExpression1.setSelectedIndex(0);},validate:function(){var B=actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass.validate.call(this);if(!this._getTreeComboValue(this._ySeries1)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.noYAxisError"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._ySeries1))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeries1));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._agregateExpression1.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._agregateExpression1.getValue()=="Count"||this._agregateExpression1.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}if(!this._getTreeComboValue(this._ySeriesSize1)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.series1SizeIncomplete"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._ySeriesSize1))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesSize1));if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._sizeAgregateExpression1.getValue()=="Count"||this._sizeAgregateExpression1.getValue()=="DistinctCount")){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}if(this._getTreeComboValue(this._ySeries2)){if(!this.isExpression(this._getTreeComboValue(this._ySeries2))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeries2));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._agregateExpression2.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._agregateExpression2.getValue()=="Count"||this._agregateExpression2.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}if(!this._getTreeComboValue(this._ySeriesSize2)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.series2SizeIncomplete"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._ySeriesSize2))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesSize2));if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._sizeAgregateExpression2.getValue()=="Count"||this._sizeAgregateExpression2.getValue()=="DistinctCount")){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}}else{if(this._getTreeComboValue(this._ySeriesSize2)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.series2Incomplete"),buttons:actuate.widget.MessageBox.OK});return false;}}return B;},_getYAxisDataType:function(F){actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass._getYAxisDataType.call(this,F);var A=this.__getSelectedDataSourceInfo();if(A){var E=A[1].measures;if(E){for(var C=0;C<E.length;C++){var D=E[C].measures;if(D){for(var B=0;B<D.length;B++){if('data["'+E[C].name+"/"+D[B].name+'"]'==F){return D[B].dataType;}}}}}return this._getDataSetFieldDataType(F);}return"";},_createYAxisSoapNode:function(F,I){actuate.dialog.impl.helper.chartbuilder.BubbleChartWithAxisDataTab.superclass._createYAxisSoapNode.call(this,F,I);if(F){var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeries1));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeries1)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._agregateExpression1.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeries1)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesSize1));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesSize1)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._sizeAgregateExpression1.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesSize1)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeries2));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeries2)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._agregateExpression2.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeries2)));G.appendChild(A);D.appendChild(G);I.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var J=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesSize2));J.appendChild(A);D.appendChild(J);var H=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesSize2)));H.appendChild(A);D.appendChild(H);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._sizeAgregateExpression2.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var G=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesSize2)));G.appendChild(A);D.appendChild(G);I.appendChild(B);}},_createTooltipSoapNode:function(E,I){var H=actuate.util.XmlDom.createElement(E,"ShowTooltip");var D=E.createTextNode(this._showTooltip.checked?"true":"false");H.appendChild(D);I.appendChild(H);var B=actuate.util.XmlDom.createElement(E,"TooltipValue");var C=actuate.util.XmlDom.createElement(E,"DataMartData");B.appendChild(C);var J=actuate.util.XmlDom.createElement(E,"DataField");var A=E.createTextNode(this._getTreeComboValue(this._tooltipValue));J.appendChild(A);C.appendChild(J);var G=actuate.util.XmlDom.createElement(E,"DataType");var F="";if(this._getTreeComboValue(this._tooltipValue)=="categoryData"){F=this._getXAxisDataType(this._getTreeComboValue(this._categoryXCombo));}else{if(this._getTreeComboValue(this._tooltipValue)=="valueSeriesName"){}else{if(this._getTreeComboValue(this._tooltipValue)=="valueData"){F=this._getYAxisDataType(this._getTreeComboValue(this._ySeries1));}else{F=this._getDataSetFieldDataType(this._getTreeComboValue(this._tooltipValue));}}}var A=E.createTextNode(F);G.appendChild(A);C.appendChild(G);I.appendChild(B);},setAggrExprVisibility:function(A){if(A){this._aggrExprLabel.show();this._agregateExpression1.show();this._sizeAgregateExpression1.show();this._agregateExpression2.show();this._sizeAgregateExpression2.show();}else{this._aggrExprLabel.hide();this._agregateExpression1.hide();this._sizeAgregateExpression1.hide();this._agregateExpression2.hide();this._sizeAgregateExpression2.hide();}}});