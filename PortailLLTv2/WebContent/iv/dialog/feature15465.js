actuate.util.Package.define("actuate.dialog.impl.helper.chartbuilder");actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab=actuate.Class.extendClass(actuate.dialog.impl.helper.chartbuilder.ParentChartWithAxisDataTab,{_classname:"actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab",_showTooltip:null,_selectedIid:null,_uiData:{},initialize:function(){this.id=this._getId(this._classname);this._title=actuate.util.Utility.getLocalizedString("chartBuilder.data");actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass.initialize.call(this);this._ySeriesPositive1=actuate.widget.ComponentMgr.get(this.id+"_ySeriesPositive1");this._ySeriesNegative1=actuate.widget.ComponentMgr.get(this.id+"_ySeriesNegative1");this._ySeriesPositive2=actuate.widget.ComponentMgr.get(this.id+"_ySeriesPositive2");this._ySeriesNegative2=actuate.widget.ComponentMgr.get(this.id+"_ySeriesNegative2");this._aggrExprLabel=actuate.widget.ComponentMgr.get(this.id+"_aggrExprLabel");this._positiveAggregateExp1=actuate.widget.ComponentMgr.get(this.id+"_positiveAggregateExp1");this._negativeAggregateExp1=actuate.widget.ComponentMgr.get(this.id+"_negativeAggregateExp1");this._positiveAggregateExp2=actuate.widget.ComponentMgr.get(this.id+"_positiveAggregateExp2");this._negativeAggregateExp2=actuate.widget.ComponentMgr.get(this.id+"_negativeAggregateExp2");this._groupLegned_items=actuate.widget.ComponentMgr.get(this.id+"_groupLegned_items");var A=actuate.Method.bind(this._eh_onBeforeSelect,this);this._ySeriesPositive1.registerEventHandler("beforeselect",A);this._ySeriesNegative1.registerEventHandler("beforeselect",A);this._ySeriesPositive2.registerEventHandler("beforeselect",A);this._ySeriesNegative2.registerEventHandler("beforeselect",A);this._yGroup.registerEventHandler("beforeselect",A);},_initYAxisContent:function(){var A=actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass._initYAxisContent.call(this);this._yGroupOnStore=new actuate.widget.data.SimpleStore({fields:["value","text"]});this._valueDefinitionStore1=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore2=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore3=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore4=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStoreGroupBy=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});if(A!=null){return A;}A={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("chartBuilder.values"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 4px"},listeners:{collapse:function(){if(that._parentDialog&&that._parentDialog.adjustSize){that._parentDialog.adjustSize();}},expand:function(){if(that._parentDialog&&that._parentDialog.adjustSize){that._parentDialog.adjustSize();}}},items:[{items:[{columnWidth:0.37,xtype:"label",style:"height:1px",text:""},{columnWidth:0.3,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.dataColumns")},{columnWidth:0.02,xtype:"label",style:"height:1px"},{id:this.id+"_aggrExprLabel",columnWidth:0.25,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.aggregateExpression")}]},{items:[{columnWidth:0.27,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.series1")},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.positive")},{columnWidth:0.3,id:this.id+"_ySeriesPositive1",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore1)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",forceSelection:true,value:"Sum",editable:false,disabled:false,id:this.id+"_positiveAggregateExp1",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.negative")},{columnWidth:0.3,id:this.id+"_ySeriesNegative1",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore2)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",forceSelection:true,value:"Sum",editable:false,disabled:false,id:this.id+"_negativeAggregateExp1",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.series2")},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.positive")},{columnWidth:0.3,id:this.id+"_ySeriesPositive2",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore3)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",editable:false,forceSelection:true,value:"Sum",disabled:false,id:this.id+"_positiveAggregateExp2",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{items:[{columnWidth:0.27,xtype:"label",style:"height:1px",text:""},{columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.negative")},{columnWidth:0.3,id:this.id+"_ySeriesNegative2",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore4)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"combo",editable:false,forceSelection:true,value:"Sum",disabled:false,id:this.id+"_negativeAggregateExp2",valueField:"value",displayField:"text",store:this._aggregationExpressionStore}]},{id:this.id+"_groupLegned_items",items:[{columnWidth:0.37,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.groupLegnedItems")},{columnWidth:0.3,id:this.id+"_yGroup",xtype:"treecombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStoreGroupBy)},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"label",text:""}]},{id:this.id+"_yGroupOn_items",items:[{columnWidth:0.37,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.timeInterval")},{columnWidth:0.3,id:this.id+"_yGroupOn",xtype:"combo",editable:false,forceSelection:true,valueField:"value",displayField:"text",store:this._yGroupOnStore},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.25,xtype:"label",text:""}]}]};return A;},_agregateExpressionHandler:function(C){actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass._agregateExpressionHandler.call(this);var B=actuate.widget.ComponentMgr.get(this.id+"_positiveAggregateExp1");B.setDisabled(C.checked?false:true);B.setValue(C.checked?"Sum":"");var E=actuate.widget.ComponentMgr.get(this.id+"_negativeAggregateExp1");E.setDisabled(C.checked?false:true);E.setValue(C.checked?"Sum":"");var A=actuate.widget.ComponentMgr.get(this.id+"_positiveAggregateExp2");A.setDisabled(C.checked?false:true);A.setValue(C.checked?"Sum":"");var D=actuate.widget.ComponentMgr.get(this.id+"_negativeAggregateExp2");D.setDisabled(C.checked?false:true);D.setValue(C.checked?"Sum":"");},_resetAllTreeCombo:function(){actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass._resetAllTreeCombo.call(this);var B=this.__dataSourceCombo.getValue();var A={id:"none",strong:true,value:"",text:""};this._valueDefinitionStore1.removeAll();this._valueDefinitionStore2.removeAll();this._valueDefinitionStore3.removeAll();this._valueDefinitionStore4.removeAll();this._valueDefinitionStoreGroupBy.removeAll();this.__addDataIntoTreeStore(A,this._valueDefinitionStore1);this.__addDataIntoTreeStore(A,this._valueDefinitionStore2);this.__addDataIntoTreeStore(A,this._valueDefinitionStore3);this.__addDataIntoTreeStore(A,this._valueDefinitionStore4);this.__addDataIntoTreeStore(A,this._valueDefinitionStoreGroupBy);this.__setTreeStoreValues(this._valueDefinitionStore1,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore2,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore3,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore4,B,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStoreGroupBy,B,["category","column","dimension"]);if(this._isDataModelSelected()){this._ySeriesPositive1.expandDeep=1;this._ySeriesNegative1.expandDeep=1;this._ySeriesPositive2.expandDeep=1;this._ySeriesNegative2.expandDeep=1;this._yGroup.expandDeep=1;}else{this._ySeriesPositive1.expandDeep=null;this._ySeriesNegative1.expandDeep=null;this._ySeriesPositive2.expandDeep=null;this._ySeriesNegative2.expandDeep=null;this._yGroup.expandDeep=null;}this._ySeriesPositive1.refresh();this._ySeriesNegative1.refresh();this._ySeriesPositive2.refresh();this._ySeriesNegative2.refresh();this._yGroup.refresh();this._ySeriesPositive1.setValueById("none");this._ySeriesNegative1.setValueById("none");this._ySeriesPositive2.setValueById("none");this._ySeriesNegative2.setValueById("none");this._yGroup.setValueById("none");},storeUIData:function(B){var A=actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass.storeUIData.call(this,B);this._uiData=A.dataTab;this._uiData.yAxisSeries=new Array();this._uiData.yAxisSeries[0]={};this._uiData.yAxisSeries[0].name=this._getTreeComboValue(this._ySeriesPositive1);this._uiData.yAxisSeries[0].aggregate=this._positiveAggregateExp1.getValue();this._uiData.yAxisSeries[0].groupOn=this._getTreeComboValue(this._yGroup);if(this._getTreeComboValue(this._yGroup)){var C=this._queryTreeComboRecord(this._ySeriesPositive1,this._getTreeComboValue(this._yGroup));var D=C?C.data.valueDefinitionType:"";if("date-time"==D||"datetime"==D||"date"==D||"time"==D){this._uiData.yAxisSeries[0].groupUnit=this._yGroupOn.getValue();}}this._uiData.yAxisSeries[1]={};this._uiData.yAxisSeries[1].name=this._getTreeComboValue(this._ySeriesNegative1);this._uiData.yAxisSeries[1].aggregate=this._negativeAggregateExp1.getValue();this._uiData.yAxisSeries[2]={};this._uiData.yAxisSeries[2].name=this._getTreeComboValue(this._ySeriesPositive2);this._uiData.yAxisSeries[2].aggregate=this._positiveAggregateExp2.getValue();this._uiData.yAxisSeries[3]={};this._uiData.yAxisSeries[3].name=this._getTreeComboValue(this._ySeriesNegative2);this._uiData.yAxisSeries[3].aggregate=this._negativeAggregateExp2.getValue();if(B==null){B={};}B.dataTab=this._uiData;this._uiData={};return B;},_loadYAxisData:function(D){if(D.yAxisSeries){var A=D.yAxisSeries;if(A){if(A[0]){this.__setTreeComboValue(this._ySeriesPositive1,this.convertExpression(A[0].name));if(!A[0].aggregate){if(this._isXGroupOn.checked){this._positiveAggregateExp1.setValue("Sum");this._positiveAggregateExp1.setDisabled(false);}else{this._positiveAggregateExp1.setValue("");this._positiveAggregateExp1.setDisabled(true);}}else{if(A[0].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._positiveAggregateExp1.setValue(record.data.valueDefinitionValue);}else{this._positiveAggregateExp1.setValue("Sum");}}else{var E=this._aggregationExpressionStore.query("value",A[0].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._positiveAggregateExp1.setSelectedIndex(B);}}}if(A[0].groupOn){this.__setTreeComboValue(this._yGroup,this.convertExpression(A[0].groupOn));var E=this._queryTreeComboRecord(this._ySeriesPositive1,A[0].groupOn);var F=E?E.data.valueDefinitionType:"";if("date-time"==F||"datetime"==F||"date"==F||"time"==F){this._eh_changeYGroupOn();var C=this._yGroupOnStore.query("value",A[0].groupUnit).itemAt(0);if(C){this._yGroupOn.setValue(A[0].groupUnit);}}}}if(A[1]){this.__setTreeComboValue(this._ySeriesNegative1,this.convertExpression(A[1].name));if(this._isDataCubeSelected()&&!A[1].aggregate){this._negativeAggregateExp1.setValue("");this._negativeAggregateExp1.setDisabled(true);}else{if(A[1].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._negativeAggregateExp1.setValue(record.data.valueDefinitionValue);}else{this._negativeAggregateExp1.setValue("Sum");}}else{var E=this._aggregationExpressionStore.query("value",A[1].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._negativeAggregateExp1.setSelectedIndex(B);}}}}if(A[2]){this.__setTreeComboValue(this._ySeriesPositive2,this.convertExpression(A[2].name));if(this._isDataCubeSelected()&&!A[2].aggregate){this._positiveAggregateExp2.setValue("");this._positiveAggregateExp2.setDisabled(true);}else{if(A[2].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._positiveAggregateExp2.setValue(record.data.valueDefinitionValue);}else{this._positiveAggregateExp2.setValue("Sum");}}else{var E=this._aggregationExpressionStore.query("value",A[2].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._positiveAggregateExp2.setSelectedIndex(B);}}}}if(A[3]){this.__setTreeComboValue(this._ySeriesNegative2,this.convertExpression(A[3].name));if(this._isDataCubeSelected()&&!A[3].aggregate){this._negativeAggregateExp2.setValue("");this._negativeAggregateExp2.setDisabled(true);}else{if(A[3].name==""){record=this._aggregationExpressionStore.getAt(0);if(record&&record.data.valueDefinitionValue){this._negativeAggregateExp2.setValue(record.data.valueDefinitionValue);}else{this._negativeAggregateExp2.setValue("Sum");}}else{var E=this._aggregationExpressionStore.query("value",A[3].aggregate).itemAt(0);var B=this._aggregationExpressionStore.indexOf(E);if(B>=0){this._negativeAggregateExp2.setSelectedIndex(B);}}}}}}if(!this._isXGroupOn.getValue()){this._positiveAggregateExp1.setValue("");this._positiveAggregateExp2.setValue("");this._negativeAggregateExp1.setValue("");this._negativeAggregateExp2.setValue("");}actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass._loadYAxisData.call(this,D);},_clearSubControls:function(){actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass._clearSubControls.call(this);this._ySeriesPositive1.clear();this._ySeriesPositive2.clear();this._ySeriesNegative1.clear();this._ySeriesNegative2.clear();this._positiveAggregateExp1.setSelectedIndex(0);this._positiveAggregateExp2.setSelectedIndex(0);this._negativeAggregateExp1.setSelectedIndex(0);this._negativeAggregateExp2.setSelectedIndex(0);},validate:function(){var B=actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass.validate.call(this);if(!this._getTreeComboValue(this._ySeriesPositive1)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.noYAxisError"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._ySeriesPositive1))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesPositive1));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._positiveAggregateExp1.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._positiveAggregateExp1.getValue()=="Count"||this._positiveAggregateExp1.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}if(!this._getTreeComboValue(this._ySeriesNegative1)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.series1Incomplete"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._ySeriesNegative1))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesNegative1));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._negativeAggregateExp1.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._negativeAggregateExp1.getValue()=="Count"||this._negativeAggregateExp1.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}if(this._getTreeComboValue(this._ySeriesPositive2)){if(!this.isExpression(this._getTreeComboValue(this._ySeriesPositive2))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesPositive2));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._positiveAggregateExp2.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._positiveAggregateExp2.getValue()=="Count"||this._positiveAggregateExp2.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}if(!this._getTreeComboValue(this._ySeriesNegative2)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.series2Incomplete"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._ySeriesNegative2))){var C=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesNegative2));var A=false;if((C=="date"||C=="time"||C=="date-time")&&this._isDataCubeSelected()&&this._negativeAggregateExp2.getValue()==""){A=true;}if(!(C=="integer"||C=="float"||C=="decimal")&&this._isXGroupOn.checked&&!(this._negativeAggregateExp2.getValue()=="Count"||this._negativeAggregateExp2.getValue()=="DistinctCount")&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(C=="integer"||C=="float"||C=="decimal")&&!this._isXGroupOn.checked&&!A){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}}else{if(this._getTreeComboValue(this._ySeriesNegative2)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.series2Incomplete"),buttons:actuate.widget.MessageBox.OK});return false;}}return B;},_getYAxisDataType:function(F){actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass._getYAxisDataType.call(this,F);var A=this.__getSelectedDataSourceInfo();if(A){var E=A[1].measures;if(E){for(var C=0;C<E.length;C++){var D=E[C].measures;if(D){for(var B=0;B<D.length;B++){if('data["'+E[C].name+"/"+D[B].name+'"]'==F){return D[B].dataType;}}}}}return this._getDataSetFieldDataType(F);}return"";},_createYAxisSoapNode:function(F,J){actuate.dialog.impl.helper.chartbuilder.DifferenceChartWithAxisDataTab.superclass._createYAxisSoapNode.call(this,F,J);if(F){var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var K=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesPositive1));K.appendChild(A);D.appendChild(K);var I=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesPositive1)));I.appendChild(A);D.appendChild(I);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._positiveAggregateExp1.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var H=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesPositive1)));H.appendChild(A);D.appendChild(H);J.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var K=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesNegative1));K.appendChild(A);D.appendChild(K);var I=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesNegative1)));I.appendChild(A);D.appendChild(I);if(this._isXGroupOn.checked){var G=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._negativeAggregateExp1.getValue());E.appendChild(A);G.appendChild(E);D.appendChild(G);}var H=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesNegative1)));H.appendChild(A);D.appendChild(H);J.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var K=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesPositive2));K.appendChild(A);D.appendChild(K);var I=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesPositive2)));I.appendChild(A);D.appendChild(I);if(this._isXGroupOn.checked){var C=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._positiveAggregateExp2.getValue());E.appendChild(A);C.appendChild(E);D.appendChild(C);}var H=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesPositive2)));H.appendChild(A);D.appendChild(H);J.appendChild(B);var B=actuate.util.XmlDom.createElement(F,"Y-axis");var D=actuate.util.XmlDom.createElement(F,"DataMartData");B.appendChild(D);var K=actuate.util.XmlDom.createElement(F,"DataField");var A=F.createTextNode(this._getTreeComboValue(this._ySeriesNegative2));K.appendChild(A);D.appendChild(K);var I=actuate.util.XmlDom.createElement(F,"DataType");var A=F.createTextNode(this._getYAxisDataType(this._getTreeComboValue(this._ySeriesNegative2)));I.appendChild(A);D.appendChild(I);if(this._isXGroupOn.checked){var G=actuate.util.XmlDom.createElement(F,"Aggregate");var E=actuate.util.XmlDom.createElement(F,"Func");var A=F.createTextNode(this._negativeAggregateExp2.getValue());E.appendChild(A);G.appendChild(E);D.appendChild(G);}var H=actuate.util.XmlDom.createElement(F,"DisplayName");var A=F.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._ySeriesNegative2)));H.appendChild(A);D.appendChild(H);J.appendChild(B);}},_createTooltipSoapNode:function(E,I){var H=actuate.util.XmlDom.createElement(E,"ShowTooltip");var D=E.createTextNode(this._showTooltip.checked?"true":"false");H.appendChild(D);I.appendChild(H);var B=actuate.util.XmlDom.createElement(E,"TooltipValue");var C=actuate.util.XmlDom.createElement(E,"DataMartData");B.appendChild(C);var J=actuate.util.XmlDom.createElement(E,"DataField");var A=E.createTextNode(this._getTreeComboValue(this._tooltipValue));J.appendChild(A);C.appendChild(J);var G=actuate.util.XmlDom.createElement(E,"DataType");var F="";if(this._getTreeComboValue(this._tooltipValue)=="categoryData"){F=this._getXAxisDataType(this._getTreeComboValue(this._categoryXCombo));}else{if(this._getTreeComboValue(this._tooltipValue)=="valueSeriesName"){}else{if(this._getTreeComboValue(this._tooltipValue)=="valueData"){F=this._getYAxisDataType(this._getTreeComboValue(this._ySeriesPositive1));}else{F=this._getDataSetFieldDataType(this._getTreeComboValue(this._tooltipValue));}}}var A=E.createTextNode(F);G.appendChild(A);C.appendChild(G);I.appendChild(B);},setAggrExprVisibility:function(A){if(A){this._aggrExprLabel.show();this._positiveAggregateExp1.show();this._negativeAggregateExp1.show();this._positiveAggregateExp2.show();this._negativeAggregateExp2.show();}else{this._aggrExprLabel.hide();this._positiveAggregateExp1.hide();this._negativeAggregateExp1.hide();this._positiveAggregateExp2.hide();this._negativeAggregateExp2.hide();}}});