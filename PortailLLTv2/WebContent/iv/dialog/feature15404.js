actuate.util.Package.define("actuate.dialog.impl.helper.font");actuate.dialog.impl.helper.font.StyleModel=function(){this.rollbackStates=[];this.init();};actuate.dialog.impl.helper.font.StyleModel.prototype={fontFamilyDefault:"auto",fontSizeDefault:"auto",fontSizeUnitDefault:"pt",colorDefault:"auto",backgroundColorDefault:"auto",boldDefault:false,italicDefault:false,underlineDefault:false,alignmentDefault:null,isDefault:function(){return this.fontFamily==this.fontFamilyDefault&&this.fontSize==this.fontSizeDefault&&this.fontSizeUnit==this.fontSizeUnitDefault&&this.color==this.colorDefault&&this.backgroundColor==this.backgroundColorDefault&&this.isBold==this.boldDefault&&this.isItalic==this.italicDefault&&this.isUnderline==this.underlineDefault&&this.alignment==this.alignmentDefault;},reset:function(){this.fontFamily=this.fontFamilyDefault;this.fontSize=this.fontSizeDefault;this.fontSizeUnit=this.fontSizeUnitDefault;this.color=this.colorDefault;this.backgroundColor=this.backgroundColorDefault;this.isBold=this.boldDefault;this.isItalic=this.italicDefault;this.isUnderline=this.underlineDefault;this.alignment=this.alignmentDefault;},init:function(){this.reset();},setRollbackState:function(){this.rollbackStates.push([this.fontFamily,this.fontSize,this.color,this.backgroundColor,this.isBold,this.isItalic,this.isUnderline,this.alignment,this.fontSizeUnit]);},clearRollbackState:function(){if(this.rollbackStates.length>0){this.rollbackStates.pop();}},rollback:function(){if(this.rollbackStates.length>0){var A=this.rollbackStates.pop();this.setValues(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8]);}},setFontFamily:function(A){var B=A;if(B&&B.length>2&&actuate.util.String.startWith(B,'"')&&actuate.util.String.endWith(B,'"')){B=B.substring(1,B.length-1);}this.fontFamily=B;},setFontSize:function(B){var A=actuate.util.Utility.getLocalizedString("fontDialog.size.auto");A=(A)?A:"";if(B&&B.toLowerCase()==A.toLowerCase()){this.fontSize=this.fontSizeDefault;}else{if(actuate.util.Utility.isNumeric(B)){this.fontSize=B;}}},setFontSizeUnit:function(A){this.fontSizeUnit=A;},setFontSizeAndUnit:function(C){if(C){if(C.toLowerCase()==this.fontSizeDefault){this.fontSize=this.fontSizeDefault;this.fontSizeUnit=this.fontSizeUnitDefault;}else{var B=C.search(/%|[a-z]/i);if(B>0){var A=C.substring(0,B);var D=C.substring(B,C.length);this.fontSize=A;this.fontSizeUnit=D;}else{this.fontSize=C;this.fontSizeUnit=this.fontSizeUnitDefault;}}}else{this.fontSize=this.fontSizeDefault;this.fontSizeUnit=this.fontSizeUnitDefault;}},setColor:function(A){this.color=this.ConvertColorToGgb(A);},setBackgroundColor:function(A){this.backgroundColor=this.ConvertColorToGgb(A);},ConvertColorToGgb:function(B){var D=B;var A=actuate.util.Utility.getLocalizedString("ColorField.Auto");A=(A)?A:"";if(D){if(D.toLowerCase()!=A.toLowerCase()){var E=D.substring(0,1).toUpperCase()+D.substring(1);E=E.replace("#","");var C=new actuate.widget.custom.ColorPickerUX.ColorPickerMenu();if(/^#?([a-f]|[A-F]|[0-9]){3}(([a-f]|[A-F]|[0-9]){3})?$/.test(E)){D=C.picker.hexToRgbStr(E);}}else{D=this.colorDefault;}}return D;},getFontFamily:function(){return this.fontFamily;},getFontSize:function(){return this.fontSize;},getFontSizeUnit:function(){return this.fontSizeUnit;},getColor:function(){return this.color;},getBackgroundColor:function(){return this.backgroundColor;},getIsBold:function(){return this.isBold;},getIsItalic:function(){return this.isItalic;},getIsUnderline:function(){return this.isUnderline;},toggleBold:function(){this.isBold=!this.isBold;},toggleItalic:function(){this.isItalic=!this.isItalic;},toggleUnderline:function(){this.isUnderline=!this.isUnderline;},getAlignment:function(){return this.alignment;},setAlignment:function(A){this.alignment=A;},setValues:function(G,I,D,H,B,A,C,F,E){this.setFontFamily(G==null?this.fontFamilyDefault:G);this.setFontSize(I==null?this.fontSizeDefault:I);this.setFontSizeUnit(E==null?this.fontSizeUnitDefault:E);this.setColor(D==null?this.colorDefault:D);this.setBackgroundColor(H==null?this.backgroundColorDefault:H);this.isBold=B;this.isItalic=A;this.isUnderline=C;this.alignment=F;},getFont:function(){var A=[];A.family=this.getFontFamily();var B=this.getFontSize();if(B!=this.fontSizeDefault){B=B+this.getFontSizeUnit();}A.size=B;A.color=this.getColor();A.backgroundColor=this.getBackgroundColor();A.bold=this.getIsBold();A.italic=this.getIsItalic();A.underline=this.getIsUnderline();A.alignment=this.alignment;return A;},setFont:function(A){this.setFontFamily(A.family==null?this.fontFamilyDefault:A.family);this.setFontSizeAndUnit(A.size);this.setColor(actuate.util.Utility.encodeColor(A.color==null?this.colorDefault:A.color));this.setBackgroundColor(actuate.util.Utility.encodeColor(A.backgroundColor==null?this.backgroundColorDefault:A.backgroundColor));this.isBold=A.bold;this.isItalic=A.italic;this.isUnderline=A.underline;this.alignment=A.alignment;}};