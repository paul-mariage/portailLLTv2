actuate.util.Package.define("actuate.dialog.impl.helper.gadgetbuilder");actuate.dialog.impl.helper.gadgetbuilder.FlashGadgetTypeTab=actuate.Class.create();actuate.dialog.impl.helper.gadgetbuilder.FlashGadgetTypeTab.prototype=actuate.Class.extend(new actuate.dialog.impl.helper.AbstractTabDialog(),{_classname:"actuate.dialog.impl.helper.gadgetbuilder.FlashGadgetTypeTab",_buttons:[],_flashGadget:null,initialize:function(){this.id=this._getId(this._classname);this._title=actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.type");actuate.dialog.impl.helper.AbstractTabDialog.prototype.initialize.call(this);this._buttons.push(actuate.widget.ComponentMgr.get(actuate.Constant.GadgetType.LinearGauge));this._buttons.push(actuate.widget.ComponentMgr.get(actuate.Constant.GadgetType.Bullet));this._buttons.push(actuate.widget.ComponentMgr.get(actuate.Constant.GadgetType.Meter));this._buttons.push(actuate.widget.ComponentMgr.get(actuate.Constant.GadgetType.Cylinder));this._buttons.push(actuate.widget.ComponentMgr.get(actuate.Constant.GadgetType.Spark));this._buttons.push(actuate.widget.ComponentMgr.get(actuate.Constant.GadgetType.Thermometer));},_initContent:function(){var C=this;this._componentArray=[];var B=function(){for(var D=0;D<C._buttons.length;D++){if(C._buttons[D].icon){C._buttons[D]._updateIcon(C._buttons[D].icon);}C._buttons[D].selected=false;}if(this.selectedIcon){this._updateIcon(this.selectedIcon);}this.selected=true;C._propagateTypeEvent(arguments[0].id);};var A={autoHeight:true,border:false,defaults:{border:false,header:false,layout:"column",height:90,bodyStyle:"padding:2px 4px 2px 4px"},items:[{items:[{id:actuate.Constant.GadgetType.LinearGauge,columnWidth:0.5,icon:"iportal/jsapi/actuate/dialog/images/dashboard/off-linear.gif",overIcon:"iportal/jsapi/actuate/dialog/images/dashboard/hover-linear.gif",selectedIcon:"iportal/jsapi/actuate/dialog/images/dashboard/on-linear.gif",cls:"flashgadget-type-icon",xtype:"button",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.linearGauge"),handler:B},{id:actuate.Constant.GadgetType.Bullet,columnWidth:0.5,icon:"iportal/jsapi/actuate/dialog/images/dashboard/off-bullet.gif",overIcon:"iportal/jsapi/actuate/dialog/images/dashboard/hover-bullet.gif",selectedIcon:"iportal/jsapi/actuate/dialog/images/dashboard/on-bullet.gif",cls:"flashgadget-type-icon",xtype:"button",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.bullet"),handler:B}]},{items:[{id:actuate.Constant.GadgetType.Meter,columnWidth:0.5,icon:"iportal/jsapi/actuate/dialog/images/dashboard/off-meter.gif",overIcon:"iportal/jsapi/actuate/dialog/images/dashboard/hover-meter.gif",selectedIcon:"iportal/jsapi/actuate/dialog/images/dashboard/on-meter.gif",cls:"flashgadget-type-icon",xtype:"button",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.meter"),handler:B},{id:actuate.Constant.GadgetType.Cylinder,columnWidth:0.5,icon:"iportal/jsapi/actuate/dialog/images/dashboard/off-cylinder.gif",overIcon:"iportal/jsapi/actuate/dialog/images/dashboard/hover-cylinder.gif",selectedIcon:"iportal/jsapi/actuate/dialog/images/dashboard/on-cylinder.gif",cls:"flashgadget-type-icon",xtype:"button",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.cylinder"),handler:B}]},{items:[{id:actuate.Constant.GadgetType.Spark,columnWidth:0.5,icon:"iportal/jsapi/actuate/dialog/images/dashboard/off-sparkLine.gif",overIcon:"iportal/jsapi/actuate/dialog/images/dashboard/hover-sparkLine.gif",selectedIcon:"iportal/jsapi/actuate/dialog/images/dashboard/on-sparkLine.gif",cls:"flashgadget-type-icon",xtype:"button",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.sparkLine"),handler:B},{id:actuate.Constant.GadgetType.Thermometer,columnWidth:0.5,icon:"iportal/jsapi/actuate/dialog/images/dashboard/off-thermometer.gif",overIcon:"iportal/jsapi/actuate/dialog/images/dashboard/hover-thermometer.gif",selectedIcon:"iportal/jsapi/actuate/dialog/images/dashboard/on-thermometer.gif",cls:"flashgadget-type-icon",xtype:"button",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.thermometer"),handler:B}]}]};this._componentArray.push(A);},validate:function(){return true;},_propagateTypeEvent:function(B){if(B){this._parentDialog._okBtn.disable();if(this._parentDialog.storeUIData){this._parentDialog.storeUIData();}var A={activeTab:true};switch(B){case actuate.Constant.GadgetType.Meter:this._parentDialog._consumer._service._type=actuate.Constant.GadgetType.Meter;this._parentDialog._consumer._eventDispatcher.fireEvent(actuate.builder.impl.event.__E_GET_METER_FLASHGADGET_BUILDER,A);break;case actuate.Constant.GadgetType.Spark:this._parentDialog._consumer._service._type=actuate.Constant.GadgetType.Spark;this._parentDialog._consumer._eventDispatcher.fireEvent(actuate.builder.impl.event.__E_GET_SPARKLINE_FLASHGADGET_BUILDER,A);break;case actuate.Constant.GadgetType.Cylinder:this._parentDialog._consumer._service._type=actuate.Constant.GadgetType.Cylinder;this._parentDialog._consumer._eventDispatcher.fireEvent(actuate.builder.impl.event.__E_GET_CYLINDER_FLASHGADGET_BUILDER,A);break;case actuate.Constant.GadgetType.Thermometer:this._parentDialog._consumer._service._type=actuate.Constant.GadgetType.Thermometer;this._parentDialog._consumer._eventDispatcher.fireEvent(actuate.builder.impl.event.__E_GET_THERMOMETER_FLASHGADGET_BUILDER,A);break;case actuate.Constant.GadgetType.Bullet:this._parentDialog._consumer._service._type=actuate.Constant.GadgetType.Bullet;this._parentDialog._consumer._eventDispatcher.fireEvent(actuate.builder.impl.event.__E_GET_BULLET_FLASHGADGET_BUILDER,A);break;default:this._parentDialog._consumer._service._type=actuate.Constant.GadgetType.LinearGauge;this._parentDialog._consumer._eventDispatcher.fireEvent(actuate.builder.impl.event.__E_GET_LINEARGAUGE_FLASHGADGET_BUILDER,A);break;}}},loadData:function(E,B){for(var C=0;C<this._buttons.length;C++){this._buttons[C].enable();}this._flashGadget=E[actuate.model.Constant.MetadataType.ELEMENT];var D=false;if(this._flashGadget){var A=[];if(this._flashGadget.getCompatibleTypes){A=this._flashGadget.getCompatibleTypes(B);D=true;}for(var C=0;C<this._buttons.length;C++){if(this._buttons[C].id==B){if(this._buttons[C].selectedIcon){this._buttons[C]._updateIcon(this._buttons[C].selectedIcon);}this._buttons[C].selected=true;}else{if(D){this._buttons[C].disable();}if(A&&A.length>0){if(actuate.util.Utility.arrayContains(A,this._buttons[C].id)){this._buttons[C].enable();}}if(this._buttons[C].icon){this._buttons[C]._updateIcon(this._buttons[C].icon);}this._buttons[C].selected=false;}}}},createSoapNode:function(B,C){var A=actuate.util.XmlDom.createElement(C,actuate.Constant.tag.Type);var E=this.getType();var D=C.createTextNode(E);A.appendChild(D);B.appendChild(A);},getType:function(){var B=actuate.Constant.GadgetType.LinearGauge;for(var A=0;A<this._buttons.length;A++){if(this._buttons[A].selected==true){B=this._buttons[A].id;}}return B;}});