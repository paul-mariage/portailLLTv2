actuate.util.Package.define("actuate.dialog.impl.helper.selectorbuilder");actuate.dialog.impl.helper.selectorbuilder.SelectorListFormatTab=actuate.Class.extendClass(actuate.dialog.impl.helper.selectorbuilder.SelectorFormatTab,{_classname:"actuate.dialog.SelectorListFormatTab",_initPanel:function(){var B=this;var C=[];var A={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.values"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 4px"},listeners:{collapse:function(){if(B._parentDialog&&B._parentDialog.adjustSize){B._parentDialog.adjustSize();}},expand:function(){if(B._parentDialog&&B._parentDialog.adjustSize){B._parentDialog.adjustSize();}}},items:[{items:[{id:"actuate_dialog_selectorListFormatTab_values_defaultValue_label",width:100,xtype:"label",text:actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.values.default")},{id:"actuate_dialog_selectorListFormatTab_values_defaultValue",xtype:"textfield"}]},{items:[{id:"actuate_dialog_selectorListFormatTab_values_limit_label",width:100,xtype:"label",text:actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.limit")},{id:"actuate_dialog_selectorListFormatTab_values_limit",xtype:"textfield",value:"1000"},{id:"actuate_dialog_selectorListFormatTab_values_label",width:100,xtype:"label",text:actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.values"),style:{padding:"2px 2px 0px 2px"}}]},{layout:"form",items:[{id:"actuate_dialog_selectorListFormatTab_values_allowMulti",xtype:"checkbox",hideLabel:true,boxLabel:actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.allowMultiSel"),checked:true},{id:"actuate_dialog_selectorListFormatTab_values_enable",xtype:"checkbox",hideLabel:true,boxLabel:actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.enableSearch")}]},this.__getFormattingComponent()]};C.push(A);this._panel=new actuate.widget.panel.Panel({header:false,plain:true,border:false,title:actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.format"),autoHeight:true,items:C});this._labelfaultValue=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_defaultValue_label");this._txtDefaultValue=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_defaultValue");this._txtValueLimit=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_limit");this._chkAllowMulti=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_allowMulti");this._chkEnable=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_enable");this._formatChanged_c=actuate.Method.bind(this._formatChanged,this);this._chkAllowMulti.on("check",this._formatChanged_c);},_initializeControlStatus:function(){this._validateControlArray=[];this._validateControlArray.push(this._txtValueLimit);},__diableItemsForVersion:function(){actuate.dialog.impl.helper.selectorbuilder.SelectorListFormatTab.superclass.__diableItemsForVersion.apply(this,arguments);var C=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_defaultValue_label");var A=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_limit_label");var B=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_label");if(C){C.disable();}if(A){A.disable();}if(B){B.disable();}if(this._txtDefaultValue){this._txtDefaultValue.setValue(null);this._txtDefaultValue.disable();}if(this._txtValueLimit){this._txtValueLimit.disable();}if(this._chkAllowMulti){this._chkAllowMulti.setValue(false,true);this._chkAllowMulti.disable();}if(this._chkEnable){this._chkEnable.setValue(false,true);this._chkEnable.disable();}if(this._panel){this._panel.disable();}},__resetStatus:function(){var C=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_defaultValue_label");var A=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_limit_label");var B=actuate.widget.ComponentMgr.get("actuate_dialog_selectorListFormatTab_values_label");if(C){C.enable();}if(A){A.enable();}if(B){B.enable();}if(this._txtDefaultValue){this._txtDefaultValue.setValue(null);this._txtDefaultValue.enable();}if(this._txtValueLimit){this._txtValueLimit.enable();}if(this._chkAllowMulti){this._chkAllowMulti.setValue(false,true);this._chkAllowMulti.enable();}if(this._chkEnable){this._chkEnable.setValue(false,true);this._chkEnable.enable();}if(this._panel){this._panel.enable();}},_formatChanged:function(){this.fireEvent("change",this);},validate:function(){var B=null;var A=actuate.util.String.trim(this._txtValueLimit.getValue());if(!A){B=actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.limit.errorMessage1");}else{if((!actuate.util.Utility.isNumeric(A))||parseInt(A)<=0){B=actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.limit.errorMessage2");}}if(B!=null){actuate.widget.MessageBox.alert(actuate.util.Utility.getLocalizedString("selectorDialog.alertTitle"),B);return false;}return true;},loadData:function(B){actuate.dialog.impl.helper.selectorbuilder.SelectorListFormatTab.superclass.loadData.apply(this,arguments);if(this._parameterBased){this._chkAllowMulti.hide();}else{this._chkAllowMulti.show();}if(B&&B.parameter){this._txtDefaultValue.setValue(B.parameter.defaultValue);}if(!B||!B.Base||B.Base.type!="list"){return ;}var D=B.Format;if(!D){this._setDefaultValues();return ;}this._txtDefaultValue.setValue(D.defaultValue);this._txtValueLimit.setValue(D.listLimit);var A=D.allowMulti;if(!A){this._chkAllowMulti.setValue(false,true);}else{this._chkAllowMulti.setValue(true,true);}var C=D.enableSearch;if(!C){this._chkEnable.setValue(false,true);}else{this._chkEnable.setValue(true,true);}if(this._parentDialog._consumer&&this._parentDialog._consumer._service._instanceId){if(this._txtDefaultValue&&this._txtDefaultValue.getValue()){if(this._labelfaultValue){this._labelfaultValue.disable();}this._txtDefaultValue.disable();}}},_setDefaultValues:function(){this._txtDefaultValue.setValue(null);this._txtValueLimit.setValue(1000);this._chkAllowMulti.setValue(true,true);this._chkEnable.setValue(false,true);},isMultiValues:function(){return this._chkAllowMulti.getValue();},_updateControlVisibility:function(A){if(this._parameterBased){if(this._chkAllowMulti.isVisible()){this._chkAllowMulti.setValue(false,true);this._chkAllowMulti.hide();}}else{if(!this._chkAllowMulti.isVisible()){this._chkAllowMulti.show();}}},setParameterBased:function(A){this._parameterBased=A;this._updateControlVisibility();},createJsonData:function(){var A={};A.defaultValue=this._txtDefaultValue.getValue();A.listLimit=actuate.util.String.trim(this._txtValueLimit.getValue());A.allowMulti=this._chkAllowMulti.getValue();A.enableSearch=this._chkEnable.getValue();return{Format:A};},setControlType:function(A){this._setDefaultValues();}});