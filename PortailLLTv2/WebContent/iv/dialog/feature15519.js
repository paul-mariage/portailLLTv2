actuate.util.Package.define("actuate.dialog.impl.helper.selectorbuilder");actuate.dialog.impl.helper.selectorbuilder.SelectorDropdownFormatTab=actuate.Class.extendClass(actuate.dialog.impl.helper.selectorbuilder.SelectorFormatTab,{_classname:"actuate.dialog.SelectorDropdownFormatTab",_initPanel:function(){var C=this;var D=[];var A=actuate.util.Utility;var B={xtype:"fieldset",collapsible:true,autoHeight:true,title:A.getLocalizedString("selectorBuilder.formatTab.values"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 4px"},listeners:{collapse:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}},expand:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}}},items:[{items:[{id:"actuate_dialog_selectorDropdownFormatTab_values_text_label",width:100,xtype:"label",text:A.getLocalizedString("selectorBuilder.formatTab.values.default")},{id:"actuate_dialog_selectorDropdownFormatTab_values_text",xtype:"textfield"}]},{id:"actuate_dialog_selectorDropdownFormatTab_values_limit_row",items:[{id:"actuate_dialog_selectorDropdownFormatTab_values_limit_label",width:100,xtype:"label",text:A.getLocalizedString("selectorBuilder.formatTab.limit")},{id:"actuate_dialog_selectorDropdownFormatTab_values_limit",xtype:"textfield",value:"1000"},{id:"actuate_dialog_selectorDropdownFormatTab_values_label",width:100,xtype:"label",text:A.getLocalizedString("selectorBuilder.formatTab.values"),style:{padding:"2px 2px 0px 2px"}}]},{layout:"form",items:[{id:"actuate_dialog_selectorDropdownFormatTab_values_autoTyping",xtype:"checkbox",hideLabel:true,boxLabel:A.getLocalizedString("selectorBuilder.formatTab.allowTyping")},{id:"actuate_dialog_selectorDropdownFormatTab_values_enableAuto",xtype:"checkbox",hideLabel:true,boxLabel:A.getLocalizedString("selectorBuilder.formatTab.enableAutoSuggest")}]},this.__getFormattingComponent()]};D.push(B);this._panel=new actuate.widget.panel.Panel({header:false,plain:true,border:false,title:actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.format"),autoHeight:true,items:D});this._txtValueLimit=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_limit");this._chkAutoTyping=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_autoTyping");this._chkEnableAuto=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_enableAuto");this._defaultValueText=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_text");this._valueLimitRow=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_limit_row");this._labelfaultValue=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_text_label");},_initializeControlStatus:function(){this._validateControlArray=[];this._validateControlArray.push(this._txtValueLimit);},validate:function(){var B=null;var A=actuate.util.String.trim(this._txtValueLimit.getValue());if(!A){B=actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.limit.errorMessage1");}else{if((!actuate.util.Utility.isNumeric(A))||parseInt(A)<=0){B=actuate.util.Utility.getLocalizedString("selectorBuilder.formatTab.limit.errorMessage2");}}if(B!=null){actuate.widget.MessageBox.alert(actuate.util.Utility.getLocalizedString("selectorBuilder.selectorDialog"),B);return false;}return true;},loadData:function(B){actuate.dialog.impl.helper.selectorbuilder.SelectorDropdownFormatTab.superclass.loadData.apply(this,arguments);if(B&&B.parameter){this._defaultValueText.setValue(B.parameter.defaultValue);}if(!B||!B.Base||B.Base.type!="dropdown"){return ;}var D=B.Format;if(!D){this._setDefaultValues();return ;}this._txtValueLimit.setValue(D.listLimit);var C=D.autoTyping;if(!C){this._chkAutoTyping.setValue(false,true);}else{this._chkAutoTyping.setValue(true,true);}var A=D.autoSuggest;if(!A){this._chkEnableAuto.setValue(false,true);}else{this._chkEnableAuto.setValue(true,true);}this._defaultValueText.setValue(D.defaultValue);if(this._parentDialog._consumer&&this._parentDialog._consumer._service._instanceId){if(this._defaultValueText&&this._defaultValueText.getValue()){if(this._labelfaultValue){this._labelfaultValue.disable();}this._defaultValueText.disable();}}},_setDefaultValues:function(){this._defaultValueText.setValue(null);this._txtValueLimit.setValue(1000);this._chkAutoTyping.setValue(false,true);this._chkEnableAuto.setValue(false,true);},createJsonData:function(){var A={};A.listLimit=actuate.util.String.trim(this._txtValueLimit.getValue());A.autoTyping=this._chkAutoTyping.getValue();A.autoSuggest=this._chkEnableAuto.getValue();A.defaultValue=this._defaultValueText.getValue();return{Format:A};},setControlType:function(A){if(A=="text-box"){this._chkEnableAuto.hide();this._chkAutoTyping.hide();this._chkAutoTyping.setValue(true);this._valueLimitRow.hide();}else{this._chkEnableAuto.show();this._chkAutoTyping.show();this._chkAutoTyping.setValue(false);this._valueLimitRow.show();}this._setDefaultValues();},__diableItemsForVersion:function(){actuate.dialog.impl.helper.selectorbuilder.SelectorDropdownFormatTab.superclass.__diableItemsForVersion.apply(this,arguments);var C=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_text_label");var A=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_limit_label");var B=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_label");if(C){C.disable();}if(A){A.disable();}if(B){B.disable();}if(this._defaultValueText){this._defaultValueText.setValue(null);this._defaultValueText.disable();}if(this._txtValueLimit){this._txtValueLimit.disable();}if(this._chkAutoTyping){this._chkAutoTyping.setValue(false,true);this._chkAutoTyping.disable();}if(this._chkEnableAuto){this._chkEnableAuto.setValue(false,true);this._chkEnableAuto.disable();}if(this._panel){this._panel.disable();}},__resetStatus:function(){actuate.dialog.impl.helper.selectorbuilder.SelectorDropdownFormatTab.superclass.__diableItemsForVersion.apply(this,arguments);var C=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_text_label");var A=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_limit_label");var B=actuate.widget.ComponentMgr.get("actuate_dialog_selectorDropdownFormatTab_values_label");if(C){C.enable();}if(A){A.enable();}if(B){B.enable();}if(this._defaultValueText){this._defaultValueText.setValue(null);this._defaultValueText.enable();}if(this._txtValueLimit){this._txtValueLimit.enable();}if(this._chkAutoTyping){this._chkAutoTyping.setValue(false,true);this._chkAutoTyping.enable();}if(this._chkEnableAuto){this._chkEnableAuto.setValue(false,true);this._chkEnableAuto.enable();}if(this._panel){this._panel.enable();}}});