actuate.util.Package.define("actuate.dialog.impl.helper.gadgetbuilder");actuate.dialog.impl.helper.gadgetbuilder.BulletFormatTab=actuate.Class.create();actuate.dialog.impl.helper.gadgetbuilder.BulletFormatTab.prototype=actuate.Class.extend(new actuate.dialog.impl.helper.gadgetbuilder.BaseGadgetFormatTab(),{_classname:"actuate.dialog.impl.helper.gadgetbuilder.BulletFormatTab",_regionStore:null,_regionField:null,_regionDialog:null,initialize:function(){this.id=this._getId(this._classname);this._title=actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.format");actuate.dialog.impl.helper.gadgetbuilder.BaseGadgetFormatTab.prototype.initialize.call(this);this._initUnitMap();this._control_width=actuate.widget.ComponentMgr.get(this.id+"_width");this._control_widthUnit=actuate.widget.ComponentMgr.get(this.id+"_widthUnit");this._control_height=actuate.widget.ComponentMgr.get(this.id+"_height");this._control_heightUnit=actuate.widget.ComponentMgr.get(this.id+"_heightUnit");this._baseColor=actuate.widget.ComponentMgr.get(this.id+"_baseColor");this._regionField=actuate.widget.ComponentMgr.get(this.id+"_regionField");this._labelValueField=actuate.widget.ComponentMgr.get(this.id+"_label");this._startValueField=actuate.widget.ComponentMgr.get(this.id+"_startValue");this._endValueField=actuate.widget.ComponentMgr.get(this.id+"_endValue");this._labelColorField=actuate.widget.ComponentMgr.get(this.id+"_labelColor");this._removeButton=actuate.widget.ComponentMgr.get(this.id+"_removeButton");this._gadget=actuate.widget.ComponentMgr.get(this.id+"_gadget");this._initializeControlStatus();},_initializeControlStatus:function(){this._validateControlArray=[];this._validateControlArray.push(this._control_width);this._validateControlArray.push(this._control_height);this._validateControlArray.push(actuate.widget.ComponentMgr.get(this.id+"_tickIntervalTextfield"));this._validateControlArray.push(actuate.widget.ComponentMgr.get(this.id+"_minTextfield"));this._validateControlArray.push(actuate.widget.ComponentMgr.get(this.id+"_maxTextfield"));},_initContent:function(){if(!actuate.util.Utility.isEmpty(this._initBaseFontContent,false)){this._initBaseFontContent();}this._componentArray=[];var D=this;var H={autoHeight:true,border:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},items:[{items:[{id:this.id+"_Title",columnWidth:0.1,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.title"),style:"font:bold 11px tahoma, arial, helvetica, sans-serif;color:#000000;"},{id:this.id+"_titleTextField",columnWidth:0.7,emptyText:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.default.title.bullet"),xtype:"textfield"}]}]};this._sizeStore=new actuate.widget.data.SimpleStore({fields:["value","text"]});var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_PT,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.points")});this._sizeStore.add(B);var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_PC,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.picas")});this._sizeStore.add(B);var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_CM,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.cm")});this._sizeStore.add(B);var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_MM,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.mm")});this._sizeStore.add(B);var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_IN,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.inches")});this._sizeStore.add(B);var C={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.flashgadget"),id:this.id+"_gadget",checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},listeners:{collapse:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}},expand:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}}},items:[{items:[{columnWidth:0.2,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.width")},{columnWidth:0.2,id:this.id+"_width",value:"352",xtype:"textfield",allowBlank:false,validator:function(J){var I=actuate.dialog.impl.Utility.validatePositive(J);if(!I){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.positivenumber.errorMessage");}return true;}},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.2,id:this.id+"_widthUnit",xtype:"combo",editable:false,forceSelection:true,value:actuate.dialog.impl.constant.DesignChoice.UNITS_PT,valueField:"value",displayField:"text",store:this._sizeStore}]},{items:[{columnWidth:0.2,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.height")},{columnWidth:0.2,id:this.id+"_height",value:"200",xtype:"textfield",allowBlank:false,validator:function(J){var I=actuate.dialog.impl.Utility.validatePositive(J);if(!I){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.positivenumber.errorMessage");}return true;}},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.2,id:this.id+"_heightUnit",xtype:"combo",editable:false,forceSelection:true,value:actuate.dialog.impl.constant.DesignChoice.UNITS_PT,valueField:"value",displayField:"text",store:this._sizeStore}]},{items:[{columnWidth:0.2,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.orientation")},{id:this.id+"_horizontalBullet",columnWidth:0.2,xtype:"radio",checked:false,name:"orientationRadio",boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.horizontal"),listeners:{check:actuate.Method.bind(this._horizontalBulletCheck,this)}},{columnWidth:0.02,xtype:"label",style:"height:1px"},{id:this.id+"_verticalBullet",columnWidth:0.35,xtype:"radio",checked:true,name:"orientationRadio",boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.vertical"),listeners:{check:actuate.Method.bind(this._verticalBulletCheck,this)}}]},{items:[{columnWidth:0.2,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.color")},{columnWidth:0.423,id:this.id+"_baseColor",editable:false,xtype:"colorfield",value:"Auto"}]}]};if(!actuate.util.Utility.isEmpty(this._baseFont,false)){C.items.push(this._baseFont);C.items.push(this._tooltip);}var F={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.plot"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},listeners:{collapse:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}},expand:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}}},items:[{items:[{id:this.id+"_showValueLabel",columnWidth:0.35,xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.showPlotValue")}]}]};var A={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.tickMarks"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},listeners:{collapse:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}},expand:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}}},items:[{items:[{id:this.id+"_showTickMarks",columnWidth:0.41,xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.showTickMarks"),handler:function(){var I=actuate.widget.ComponentMgr.get(D.id+"_ticksBelowGauge");if(!arguments[1]){I.disable();}else{I.enable();}}},{id:this.id+"_ticksBelowGauge",columnWidth:0.21,xtype:"combo",editable:false,value:"Top",store:[["Top",actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.left")],["Bottom",actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.right")]]}]},{items:[{id:this.id+"_autoAdjustTickMarks",columnWidth:0.41,xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.autoAdjustTickMarks"),handler:function(){var I=actuate.widget.ComponentMgr.get(D.id+"_tickInterval");var J=actuate.widget.ComponentMgr.get(D.id+"_tickIntervalTextfield");if(!arguments[1]){I.enable();J.enable();}else{I.disable();J.setValue(null);J.disable();}}}]},{items:[{id:this.id+"_tickInterval",columnWidth:0.41,xtype:"label",disabled:"true",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.tickmarksCount")},{id:this.id+"_tickIntervalTextfield",columnWidth:0.21,xtype:"textfield",disabled:"true",allowBlank:false,validator:function(J){var I=actuate.dialog.impl.Utility.validateInteger(J,actuate.dialog.impl.Utility.POSITIVE);if(!I){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.positiveinteger.errorMessage");}return true;}}]}]};var G={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.scale"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},listeners:{collapse:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}},expand:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}}},items:[{items:[{id:this.id+"_isShowScale",columnWidth:0.35,xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.showScale")}]},{items:[{id:this.id+"_autoValues",columnWidth:0.35,xtype:"checkbox",checked:true,handler:function(K,I){var J=actuate.widget.ComponentMgr.get(D.id+"_minLabel");var M=actuate.widget.ComponentMgr.get(D.id+"_minTextfield");var L=actuate.widget.ComponentMgr.get(D.id+"_maxLabel");var N=actuate.widget.ComponentMgr.get(D.id+"_maxTextfield");if(!I){J.enable();M.enable();L.enable();N.enable();}else{J.disable();M.disable();M.setValue(null);L.disable();N.disable();N.setValue(null);}},boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.autoValues")}]},{items:[{id:this.id+"_minLabel",columnWidth:0.35,xtype:"label",disabled:"true",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.minimumValue")},{id:this.id+"_minTextfield",columnWidth:0.27,xtype:"textfield",disabled:"true",allowBlank:false,blankText:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.minimumBlankText"),validator:function(K){var J=false;var I=actuate.util.Utility.isNumeric(K);if(!I){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.numeric.errorMessage");}else{J=true;}var L=actuate.widget.ComponentMgr.get(D.id+"_maxTextfield");if(L.getValue()!=""&&parseInt(K)>parseInt(L.getValue())){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.minValue.valueNotCorrect");}else{if(L.getValue()!=""&&parseInt(K)<parseInt(L.getValue())){J=true;L.clearInvalid();}}return J;}}]},{items:[{id:this.id+"_maxLabel",columnWidth:0.35,xtype:"label",disabled:"true",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.maximumValue")},{id:this.id+"_maxTextfield",columnWidth:0.27,xtype:"textfield",disabled:"true",allowBlank:false,blankText:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.maximumBlankText"),validator:function(K){var J=false;var I=actuate.util.Utility.isNumeric(K);if(!I){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.numeric.errorMessage");}else{J=true;}var L=actuate.widget.ComponentMgr.get(D.id+"_minTextfield");if(L.getValue()!=""&&parseInt(K)<parseInt(L.getValue())){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.maxValue.valueNotCorrect");}else{if(L.getValue()!=""&&parseInt(K)>parseInt(L.getValue())){J=true;L.clearInvalid();}}return true;}}]}]};this._regionStore=new actuate.widget.data.SimpleStore({fields:["labelName","startValue","endValue","labelColor"],sortInfo:{field:"startValue",direction:"ASC"},data:[[actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.low"),"0","35","Auto"],[actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.medium"),"35","70","Auto"],[actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.high"),"70","100","Auto"]]});var E={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.region"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},listeners:{collapse:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}},expand:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}}},items:[{items:[{xtype:"panel",columnWidth:0.62,layout:"fit",items:[{id:this.id+"_regionField",height:50,xtype:"listbox",store:this._regionStore,autoScroll:true,displayField:"labelName",selectOnFocus:true,defaultSelectedIndex:0,listeners:{click:actuate.Method.bind(this._availableDataListClick,this)}}]},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.35,border:false,defaults:{style:"margin: 2px 2px 2px 4px",minWidth:66},items:[{xtype:"button",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.add"),listeners:{click:actuate.Method.bind(this._popupRegionDlg,this)}},{id:this.id+"_removeButton",xtype:"button",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.remove"),listeners:{click:actuate.Method.bind(this._removeRegion,this)}}]}]},{items:[{columnWidth:0.35,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.label")},{id:this.id+"_label",columnWidth:0.27,value:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.low"),xtype:"textfield",enableKeyEvents:true,listeners:{change:function(J,L,K){if(L!=""&&L!=K){J.setValue(L);var I=D._regionStore.query("labelName",K).itemAt(0);if(I){I.set("labelName",L);D._regionStore.commitChanges();}}}}},{columnWidth:0.02,xtype:"label",style:"height:1px"},{id:this.id+"_labelColor",columnWidth:0.3,value:"Auto",xtype:"colorfield",listeners:{select:function(J,L){var K=actuate.widget.ComponentMgr.get(D.id+"_label");var I=D._regionStore.query("labelName",K.getValue()).itemAt(0);if(I){I.set("labelColor",L);}D._regionStore.commitChanges();}}}]},{items:[{columnWidth:0.35,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.startValue")},{id:this.id+"_startValue",columnWidth:0.27,value:"0",xtype:"textfield",allowBlank:false,listeners:{change:function(J,M,L){var K=actuate.widget.ComponentMgr.get(D.id+"_label");if(M!=""&&M!=L){J.setValue(M);var I=D._regionStore.query("labelName",K.getValue()).itemAt(0);I.set("startValue",M);D._regionStore.commitChanges();}}},validator:function(L){var K=false;var J=actuate.util.Utility.isNumeric(L);if(!J){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.startValue.typeNotMatch");}else{K=true;}var I=actuate.widget.ComponentMgr.get(D.id+"_endValue");if(I.getValue()!=""&&parseInt(L)>parseInt(I.getValue())){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.startValue.valueNotCorrect");}else{if(I.getValue()!=""&&parseInt(L)<parseInt(I.getValue())){K=true;I.clearInvalid();}}return K;}}]},{items:[{columnWidth:0.35,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.endValue")},{id:this.id+"_endValue",columnWidth:0.27,value:"35",xtype:"textfield",allowBlank:false,listeners:{change:function(J,M,L){var K=actuate.widget.ComponentMgr.get(D.id+"_label");if(M!=""&&M!=L){J.setValue(M);var I=D._regionStore.query("labelName",K.getValue()).itemAt(0);I.set("endValue",M);D._regionStore.commitChanges();}}},validator:function(L){var K=false;var J=actuate.util.Utility.isNumeric(L);if(!J){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.endValue.typeNotMatch");}else{K=true;}var I=actuate.widget.ComponentMgr.get(D.id+"_startValue");if(I.getValue()!=""&&parseInt(L)<parseInt(I.getValue())){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.endValue.valueNotCorrect");}else{if(I.getValue()!=""&&parseInt(L)>parseInt(I.getValue())){K=true;I.clearInvalid();}}return true;}}]}]};this._componentArray.push(H);this._componentArray.push(C);this._componentArray.push(F);this._componentArray.push(G);this._componentArray.push(E);this._componentArray.push(A);},_initUnitMap:function(){this._allUnitMap=new Array();this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_PT]="chartFormatDialog.Unit.PT";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_PC]="chartFormatDialog.Unit.PC";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_PERCENTAGE]="chartFormatDialog.Unit.Percentage";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_CM]="chartFormatDialog.Unit.CM";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_MM]="chartFormatDialog.Unit.MM";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_IN]="chartFormatDialog.Unit.IN";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_EM]="chartFormatDialog.Unit.EM";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_EX]="chartFormatDialog.Unit.EX";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_PX]="chartFormatDialog.Unit.PX";},getUnit:function(C){var B=actuate.dialog.impl.constant.DesignChoice.UNITS_IN;for(var A in this._allUnitMap){if(C.indexOf(A)>-1){B=A;break;}}return B;},_availableDataListClick:function(G,E,B){var D=actuate.widget.ComponentMgr.get(this.id+"_label");D.setValue(B.data.labelName);var F=actuate.widget.ComponentMgr.get(this.id+"_startValue");F.setValue(B.data.startValue);var A=actuate.widget.ComponentMgr.get(this.id+"_endValue");A.setValue(B.data.endValue);var C=actuate.widget.ComponentMgr.get(this.id+"_labelColor");C.setValue(B.data.labelColor);},_horizontalBulletCheck:function(C,D){if(D){var A=actuate.widget.ComponentMgr.get(this.id+"_ticksBelowGauge");var B=[];B.push(["Top",actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.top")]);B.push(["Bottom",actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.bottom")]);A.setStore(B);}},_verticalBulletCheck:function(C,D){if(D){var A=actuate.widget.ComponentMgr.get(this.id+"_ticksBelowGauge");var B=[];B.push(["Top",actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.left")]);B.push(["Bottom",actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.right")]);A.setStore(B);}},_popupRegionDlg:function(){var A=this;if(!this._inputTextField){this._inputTextField=new actuate.widget.panel.Panel({layout:"fit",height:25,width:240,defaultType:"textfield",cls:"actuate-widget-column-inner",items:[{id:this.id+"_inputRegionName",allowBlank:false,enableKeyEvents:true,listeners:{keyup:function(){if(A._regionName.isValid()){A._regionDialog.buttons[0].enable();A._inputTextField.body.applyStyles("borderColor:#99BBE8");}else{A._regionDialog.buttons[0].disable();A._inputTextField.body.applyStyles("borderColor:#DD7870");}}},validator:function(C){var B=A._regionStore.query("labelName",C,false,false,true).itemAt(0);if(B){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.labelName.duplication");}else{return true;}}}]});}if(!this._regionDialog){this._regionDialog=new actuate.widget.Window({id:this.id+"_newwin",title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.inputRegion"),width:300,height:130,modal:true,closeAction:"hide",buttonAlign:"center",buttons:[{text:actuate.util.Utility.getLocalizedString("baseDialog.button.ok"),handler:function(){var B=actuate.widget.ComponentMgr.get(A.id+"_inputRegionName").getValue();if(!actuate.util.Utility.isEmpty(B,false)){A.newRegionName=B;A._addRegion();}A._regionDialog.hide();}},{text:actuate.util.Utility.getLocalizedString("baseDialog.button.cancel"),handler:function(){A._regionDialog.hide();}}]});this._regionDialog.render(actuate.widget.Element.getBody());this._regionDialog.add(this._inputTextField);}this._regionName=actuate.widget.ComponentMgr.get(this.id+"_inputRegionName");this._regionName.setValue("");if(!this._regionName.isValid()){this._regionDialog.buttons[0].disable();this._inputTextField.body.applyStyles("borderColor:#DD7870");}else{this._regionDialog.buttons[0].enable();this._inputTextField.body.applyStyles("borderColor:#99BBE8");}this._regionDialog.show();},_addRegion:function(){var A=this.newRegionName;this._labelValueField.setValue(A);var B=this._regionStore.query("labelName",A).itemAt(0);if(!B){if(A!=""){B=new this._regionStore.recordType({labelName:A,startValue:0,endValue:0,labelColor:"Auto"});}this._regionStore.add(B);if(this._removeButton.disabled){this._removeButton.enable();}if(this._labelValueField.disabled){this._labelValueField.enable();}if(this._startValueField.disabled){this._startValueField.enable();}if(this._endValueField.disabled){this._endValueField.enable();}if(this._labelColorField.disabled){this._labelColorField.enable();}}var C=this._regionStore.indexOf(B);this._regionField.setSelectedIndex(C,true);this._startValueField.setValue(B.data.startValue);this._endValueField.setValue(B.data.endValue);this._labelColorField.setValue(B.data.labelColor);},_removeRegion:function(){if(this._regionStore.getCount()<1){return ;}var A=this._regionField.getSelectedIndex();if(A>-1){if(A<this._regionStore.getCount()-1){highLightIndex=A;}else{highLightIndex=0;}var B=this._regionStore.getAt(A);this._regionStore.remove(B);this._regionField.setSelectedIndex(highLightIndex,true);var C=this._regionStore.getAt(highLightIndex);if(C!=null||C!=undefined){this._labelValueField.setValue(C.data.labelName);this._startValueField.setValue(C.data.startValue);this._endValueField.setValue(C.data.endValue);this._labelColorField.setValue(C.data.labelColor);}else{this._labelValueField.setValue(null);this._labelValueField.disable();this._startValueField.setValue(null);this._startValueField.disable();this._endValueField.setValue(null);this._endValueField.disable();this._labelColorField.setValue("Auto");this._labelColorField.disable();this._removeButton.disable();}}},_preHide:function(){actuate.widget.ComponentMgr.get(this.id+"_titleTextField").setValue("");actuate.widget.ComponentMgr.get(this.id+"_showTickMarks").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_ticksBelowGauge").setValue("Top");actuate.widget.ComponentMgr.get(this.id+"_autoAdjustTickMarks").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_isShowScale").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_autoValues").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_minTextfield").setValue(null);actuate.widget.ComponentMgr.get(this.id+"_maxTextfield").setValue(null);actuate.widget.ComponentMgr.get(this.id+"_showValueLabel").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_verticalBullet").setValue(true);actuate.widget.ComponentMgr.get(this.id+"_horizontalBullet").setValue(false);actuate.widget.ComponentMgr.get(this.id+"_baseColor").setValue("auto");this._resetRegion();if(!actuate.util.Utility.isEmpty(this._clearControls,false)){this._clearControls();}this.hidden=true;},_resetRegion:function(){this._regionStore.removeAll();var C=new this._regionStore.recordType({labelName:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.low"),startValue:"0",endValue:"35",labelColor:"Auto"});this._regionStore.addSorted(C);C=new this._regionStore.recordType({labelName:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.medium"),startValue:"35",endValue:"70",labelColor:"Auto"});this._regionStore.addSorted(C);C=new this._regionStore.recordType({labelName:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.high"),startValue:"70",endValue:"100",labelColor:"Auto"});this._regionStore.addSorted(C);if(this._regionField.view){this._regionField.setSelectedIndex(0,true);}var D=actuate.widget.ComponentMgr.get(this.id+"_label");D.setValue(this._regionStore.getAt(0).data.labelName);var E=actuate.widget.ComponentMgr.get(this.id+"_startValue");E.setValue(this._regionStore.getAt(0).data.startValue);var A=actuate.widget.ComponentMgr.get(this.id+"_endValue");A.setValue(this._regionStore.getAt(0).data.endValue);var B=actuate.widget.ComponentMgr.get(this.id+"_labelColor");B.setValue(this._regionStore.getAt(0).data.labelColor);},loadData:function(D){if(D.Format){if(!actuate.util.Utility.isEmpty(this._updateFontValues,false)){this._updateFontValues(D.Format);}if(!actuate.util.Utility.isEmpty(this._updateToolTipValue,false)){this._updateToolTipValue(D.Format);}var G=D.Format.baseColor;this._baseColor.setValue(G);var M=D.Format.title;if(M){actuate.widget.ComponentMgr.get(this.id+"_titleTextField").setValue(M);}else{actuate.widget.ComponentMgr.get(this.id+"_titleTextField").setValue("");}var J=D.Format.isShowTickMarks;actuate.widget.ComponentMgr.get(this.id+"_showTickMarks").setValue(J);var F=D.Format.isTicksBelowGauge;if(F){actuate.widget.ComponentMgr.get(this.id+"_ticksBelowGauge").setValue(F?"Bottom":"Top");}else{actuate.widget.ComponentMgr.get(this.id+"_ticksBelowGauge").setValue("Top");}var C=D.Format.isAutoAdjustTickMarks;actuate.widget.ComponentMgr.get(this.id+"_autoAdjustTickMarks").setValue(C);if(!C){var K=D.Format.tickMarksCount;if(K>0){actuate.widget.ComponentMgr.get(this.id+"_tickIntervalTextfield").setValue(K);}else{actuate.widget.ComponentMgr.get(this.id+"_tickIntervalTextfield").setValue(null);}}var N=D.Format.isShowScale;actuate.widget.ComponentMgr.get(this.id+"_isShowScale").setValue(N);var E=D.Format.isAutoValues;actuate.widget.ComponentMgr.get(this.id+"_autoValues").setValue(E);if(!E){actuate.widget.ComponentMgr.get(this.id+"_maxTextfield").setValue(D.Format.maxValue);actuate.widget.ComponentMgr.get(this.id+"_minTextfield").setValue(D.Format.minValue);}var L=D.Format.isVerticalBullet;if(L!=undefined&&L!=null){actuate.widget.ComponentMgr.get(this.id+"_verticalBullet").setValue(L);actuate.widget.ComponentMgr.get(this.id+"_horizontalBullet").setValue(!L);}else{actuate.widget.ComponentMgr.get(this.id+"_verticalBullet").setValue(true);actuate.widget.ComponentMgr.get(this.id+"_horizontalBullet").setValue(false);}var A=D.Format.isShowValueLabel;if(A!=null&&A!=undefined){actuate.widget.ComponentMgr.get(this.id+"_showValueLabel").setValue(A);}else{actuate.widget.ComponentMgr.get(this.id+"_showValueLabel").setValue(true);}if(D.Format.width){this._control_width.setValue(D.Format.width.measure);this._control_widthUnit.setValue(D.Format.width.units);}if(D.Format.height){this._control_height.setValue(D.Format.height.measure);this._control_heightUnit.setValue(D.Format.height.units);}if(D.Format.regions&&D.Format.regions.length>0){this._regionStore.removeAll();for(var B=0;B<D.Format.regions.length;B++){var I=new this._regionStore.recordType({labelName:D.Format.regions[B].label,startValue:D.Format.regions[B].startValue,endValue:D.Format.regions[B].endValue,labelColor:D.Format.regions[B].color});this._regionStore.addSorted(I);}if(this._labelValueField.disabled){this._labelValueField.enable();}this._labelValueField.setValue(this._regionStore.getAt(0).data.labelName);if(this._startValueField.disabled){this._startValueField.enable();}this._startValueField.setValue(this._regionStore.getAt(0).data.startValue);if(this._endValueField.disabled){this._endValueField.enable();}this._endValueField.setValue(this._regionStore.getAt(0).data.endValue);if(this._labelColorField.disabled){this._labelColorField.enable();}this._labelColorField.setValue(this._regionStore.getAt(0).data.labelColor);if(this._removeButton.disabled){this._removeButton.enable();}try{this._regionField.setSelectedIndex(0,true);}catch(H){}}else{if(D.Format.flashGadgetType.toUpperCase()==="CYLINDER"||D.Format.flashGadgetType.toUpperCase()==="THERMOMETER"){this._resetRegion();}else{this._regionStore.removeAll();this._labelValueField.setValue(null);this._labelValueField.disable();this._startValueField.setValue(null);this._startValueField.disable();this._endValueField.setValue(null);this._endValueField.disable();this._labelColorField.setValue("Auto");this._labelColorField.disable();this._removeButton.disable();}}}else{this._resetRegion();if(D.operationData&&D.operationData.gadgetAttr){this._udpateSizeFromGadgetContainer(D.operationData.gadgetAttr);}}if(!this._isFlashGadget&&D.Element&&!D.Element.isFlashGadget){this._gadget.setTitle(actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.html5gadget"));}else{this._gadget.setTitle(actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.flashgadget"));}},createSoapNode:function(O,J){if(J){var Y=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.Title);var U=actuate.widget.ComponentMgr.get(this.id+"_titleTextField").getValue();var Q=null;if(U!=null&&U!=undefined){Q=J.createTextNode(U);}else{Q=J.createTextNode("Bullet");}Y.appendChild(Q);O.appendChild(Y);var K=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.BaseColor);var j=J.createTextNode("auto");if(this._baseColor.getValue()!=="auto"){j=J.createTextNode(this._baseColor.getHexValue());}K.appendChild(j);O.appendChild(K);var I=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.ShowValueLabel);var n=J.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_showValueLabel").getValue().toString());I.appendChild(n);O.appendChild(I);var H=actuate.util.Utility.getNumberFormatter();var B=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.ChartWidth);var A;var X;if(typeof this._control_width.getValue()=="string"){X=actuate.util.String.trim(this._control_width.getValue());}if(X==""){A=J.createTextNode("352pt");}else{A=J.createTextNode(H.parse(this._control_width.getValue())+this._control_widthUnit.getValue());}B.appendChild(A);O.appendChild(B);var S=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.ChartHeight);var E;var f;if(typeof this._control_height.getValue()=="string"){f=actuate.util.String.trim(this._control_height.getValue());}if(f==""){E=J.createTextNode("200pt");}else{E=J.createTextNode(H.parse(this._control_height.getValue())+this._control_heightUnit.getValue());}S.appendChild(E);O.appendChild(S);if(!actuate.util.Utility.isEmpty(this._addBaseFontToSoapResponse,false)){this._addBaseFontToSoapResponse(J,O);}if(!actuate.util.Utility.isEmpty(this._addShowTooltipToSoapResponse,false)){this._addShowTooltipToSoapResponse(J,O);}var b=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.ShowTickMarks);var C=J.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_showTickMarks").getValue().toString());b.appendChild(C);O.appendChild(b);var k=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.TicksBelowGauge);var e=actuate.widget.ComponentMgr.get(this.id+"_ticksBelowGauge").getValue()=="Bottom"?"true":"false";var T=J.createTextNode(e);k.appendChild(T);O.appendChild(k);var V=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.AutoAdjustTickMarks);var h=J.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_autoAdjustTickMarks").getValue().toString());V.appendChild(h);O.appendChild(V);if(!actuate.widget.ComponentMgr.get(this.id+"_autoAdjustTickMarks").getValue()){var P=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.TickmarkCount);var D=parseInt(actuate.widget.ComponentMgr.get(this.id+"_tickIntervalTextfield").getValue());var W=J.createTextNode(D);P.appendChild(W);O.appendChild(P);}var L=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.ShowScale);var a=J.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_isShowScale").getValue().toString());L.appendChild(a);O.appendChild(L);var g=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.AutoValues);var d=J.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_autoValues").getValue().toString());g.appendChild(d);O.appendChild(g);if(!actuate.widget.ComponentMgr.get(this.id+"_autoValues").getValue()){var G=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.MinValue);var F=J.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_minTextfield").getValue());G.appendChild(F);O.appendChild(G);var M=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.MaxValue);var Z=J.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_maxTextfield").getValue());M.appendChild(Z);O.appendChild(M);}var R=actuate.util.XmlDom.createElement(J,actuate.Constant.tag.VerticalBullet);var N=J.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_verticalBullet").getValue().toString());R.appendChild(N);O.appendChild(R);for(var l=0;l<this._regionStore.getCount();l++){var c=this._regionStore.getAt(l);var m=this._createRegionNode(J,c);O.appendChild(m);}}},_createRegionNode:function(F,E){var C=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.FlashGadgetRegions);var B=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.StartValue);var G=F.createTextNode(E.data.startValue);B.appendChild(G);C.appendChild(B);var H=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.EndValue);var D=F.createTextNode(E.data.endValue);H.appendChild(D);C.appendChild(H);var K=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.Label);var J=F.createTextNode(E.data.labelName);K.appendChild(J);C.appendChild(K);var A=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.Color);var I=F.createTextNode(E.data.labelColor);A.appendChild(I);C.appendChild(A);return C;}});