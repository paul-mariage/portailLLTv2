actuate.util.Package.define("actuate.dialog.impl.helper");actuate.dialog.impl.helper.LoginDialog=actuate.Class.extendClass(actuate.dialog.impl.helper.AbstractIVDialog,{_iportalUrl:null,_requestOptions:null,_loginField:null,_passwordField:null,_iportalUrlField:null,_iserverUrlField:null,_volumeField:null,_signinButton:null,_okHandler:null,_cancelHandler:null,hasAutoAdjustSize:false,initialize:function(B){this._isMobile=actuate.util.browser&&actuate.util.browser.useMobile();var A=actuate.util.Utility;this.hasOkButton=this._isMobile?false:true;this.hasCancelButton=false;this.hasHelpButton=false;this._windowConfig={layout:"form",cls:this._isMobile?"":"actuate-logindialog-form",width:this._isMobile?"":"320",labelAlign:this._isMobile?"left":"top",items:[{id:"actuateLoginDialog_volumeProfile",fieldLabel:A.getLocalizedString("loginDialog.volumeProfile"),label:A.getLocalizedString("loginDialog.volumeProfile"),xtype:"textfield",labelWidth:200,readOnly:true,width:this._isMobile?450:245},{id:"actuateLoginDialog_userName",fieldLabel:A.getLocalizedString("loginDialog.userName"),label:A.getLocalizedString("loginDialog.userName"),xtype:"textfield",labelWidth:200,width:this._isMobile?450:245},{id:"actuateLoginDialog_password",fieldLabel:A.getLocalizedString("loginDialog.password"),label:A.getLocalizedString("loginDialog.password"),xtype:"textfield",labelWidth:200,inputType:"password",width:this._isMobile?450:245},{id:"actuateLoginDialog_iportalUrl",fieldLabel:A.getLocalizedString("loginDialog.iportalUrl"),label:A.getLocalizedString("loginDialog.iportalUrl"),xtype:"textfield",labelWidth:200,readOnly:true,width:this._isMobile?450:245},{id:"actuateLoginDialog_iserverUrl",fieldLabel:A.getLocalizedString("loginDialog.iserverUrl"),label:A.getLocalizedString("loginDialog.iserverUrl"),xtype:"textfield",labelWidth:200,readOnly:true,width:this._isMobile?450:245},{id:"actuateLoginDialog_volume",fieldLabel:A.getLocalizedString("loginDialog.volume"),label:A.getLocalizedString("loginDialog.volume"),xtype:"textfield",labelWidth:200,readOnly:true,width:this._isMobile?450:245},{xtype:"panel",labelWidth:200,height:this._isMobile?20:0,border:false,readOnly:true,width:450}]};this._title=A.getLocalizedString("loginDialog.title");actuate.dialog.impl.helper.LoginDialog.superclass.initialize.call(this,B);var D=actuate.uiadapter.ComponentMgr;this._loginField=D.get("actuateLoginDialog_userName");this._passwordField=D.get("actuateLoginDialog_password");this._iportalUrlField=D.get("actuateLoginDialog_iportalUrl");this._iserverUrlField=D.get("actuateLoginDialog_iserverUrl");this._volumeField=D.get("actuateLoginDialog_volume");this._volumeProfileField=D.get("actuateLoginDialog_volumeProfile");var C="";if(this._isMobile){C="<span class='x-button-label' style='height:29px;'>"+A.getLocalizedString("loginDialog.button.signin")+"</span>";}else{C=A.getLocalizedString("loginDialog.button.signin");}if(this._isMobile){this._signinButton=new actuate.uiadapter.Button({text:C,xtype:"button",labelWidth:200,readOnly:true,width:450,ui:"action"});this._window.add(this._signinButton.buttonEl);}else{if(this._okBtn&&this._okBtn.buttonEl.setText){this._okBtn.buttonEl.setText(C);}}this._window._doLayout(false);if(this._isMobile){this._signinButton.registerEventHandler("click",actuate.Method.bind(actuate.dialog.impl.helper.LoginDialog.superclass._neh_okay,this),false);}},_localBind:function(C){this._iportalUrl=C.iportalUrl;this._iportalUrlField.setValue(this._iportalUrl);this._requestOptions=C.requestOptions;if(this._iserverUrlField&&this._volumeField){var D=null;var B=null;var A=null;if(this._requestOptions){A=this._requestOptions.getVolumeProfile();if(!A){D=this._requestOptions.getIServerUrl();B=this._requestOptions.getVolume();}}if(this._iserverUrlField.setVisibility){this._iserverUrlField.setVisibility(D?true:false);this._volumeField.setVisibility(B?true:false);this._volumeProfileField.setVisibility(A?true:false);}else{this._iserverUrlField.setVisible(D?true:false);this._volumeField.setVisible(B?true:false);this._volumeProfileField.setVisible(A?true:false);}this._iserverUrlField.setValue(D);this._volumeField.setValue(B);this._volumeProfileField.setValue(A);}if(this._loginField){this._loginField.setValue(C.userId||"");}if(this._passwordField){this._passwordField.setValue(C.password||"");}if(actuate.util.browser&&actuate.util.browser.useMobile()){this._iportalUrlField.setVisible(false);this._iserverUrlField.setVisible(false);this._volumeField.setVisible(false);this._volumeProfileField.setVisible(true);}this._okHandler=C.onOK;this._cancelHandler=C.onCancel;this._loginField.focus();},_okPress:function(){if(!this._requestOptions){this._requestOptions=new actuate.RequestOptions();}this._requestOptions.setVolumeProfile(this._volumeProfileField.getValue());this._hide();if(this._okHandler){this._okHandler(this);}},_cancelPress:function(){this._hide();if(this._cancelHandler){this._cancelHandler(this);}},getIportalUrl:function(){return this._iportalUrl;},getRequestOptions:function(){return this._requestOptions;},getVolumeProfile:function(){return this._volumeProfileField.getValue();},getUserId:function(){return this._loginField.getValue();},getPassword:function(){return this._passwordField.getValue();}});