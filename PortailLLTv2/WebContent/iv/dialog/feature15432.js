actuate.util.Package.define("actuate.dialog.impl.helper.chartbuilder");actuate.dialog.impl.helper.chartbuilder.ChartBuilder=actuate.Class.extendClass(actuate.dialog.impl.helper.DataViewBuilderDialog,{_classname:"actuate.dialog.ChartBuilderDialog",_height:null,_width:594,_tabPanel:null,_uiData:null,initialize:function(B,C){var D=this._getId(this._classname);this._applyHtmlElementsNames(D);var A=actuate.util.Utility;actuate.dialog.impl.helper.BaseBuilderDialog.prototype.initialize.call(this,D,actuate.util.Utility.getLocalizedString("chartBuilder.builderTitle"),[this._height,this._width],C);},_xaxisChanged:function(A){if(this._formatPanel){this._formatPanel.fireEvent("xaxischanged",A);}},_createBaseSoapNode:function(D){var C=actuate.util.XmlDom.createElement(D,actuate.Constant.tag.Chart);D.documentElement.appendChild(C);var A=actuate.util.XmlDom.createElement(D,actuate.Constant.tag.IsFlashChart);C.appendChild(A);var B=D.createTextNode(this._isFlashChart==true?"true":"false");A.appendChild(B);return C;},storeUIData:function(){if(this._dataPanel){this._uiData=this._dataPanel.storeUIData(this._uiData);}if(this._formatPanel){this._uiData=this._formatPanel.storeUIData(this._uiData);}if(this._genericPropsPanel){this._uiData=this._genericPropsPanel.storeUIData(this._uiData);}},_localBind:function(E){var F=E[actuate.model.Constant.MetadataType.ELEMENT];if((E.operationData&&E.operationData.componentData&&E.operationData.componentData.category=="FlashCharts")||(F.type=="FLASHCHART")){E._isFlashChart=true;this._isFlashChart=true;}else{E._isFlashChart=false;this._isFlashChart=false;}var C;var D;var G=this._consumer._service._type;this.hidePanels(["CHART_DATA_TAB_WITHAXIS_DIALOG","CHART_DATA_TAB_WOAXIS_DIALOG","BUBBLE_CHART_DATA_TAB_WITHAXIS_DIALOG","DIFFERENCE_CHART_DATA_TAB_WITHAXIS_DIALOG","GANTT_CHART_DATA_TAB_WITHAXIS_DIALOG","STOCK_CHART_DATA_TAB_WITHAXIS_DIALOG","COLUMN_CHART_FORMAT_TAB_DIALOG","BAR_CHART_FORMAT_TAB_DIALOG","LINE_CHART_FORMAT_TAB_DIALOG","PIE_CHART_FORMAT_TAB_DIALOG","DOUGHNUT_CHART_FORMAT_TAB_DIALOG","AREA_CHART_FORMAT_TAB_DIALOG","SCATTER_CHART_FORMAT_TAB_DIALOG","BUBBLE_CHART_FORMAT_TAB_DIALOG","DIFFERENCE_CHART_FORMAT_TAB_DIALOG","GANTT_CHART_FORMAT_TAB_DIALOG","STOCK_CHART_FORMAT_TAB_DIALOG","PYRAMID_CHART_FORMAT_TAB_DIALOG","RADAR_CHART_FORMAT_TAB_DIALOG","RADAR_CHART_DATA_TAB_WOAXIS_DIALOG","METER_CHART_FORMAT_TAB_DIALOG"]);if(G==actuate.Constant.ChartType.COLUMN_CHART){this.showPanel("CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("COLUMN_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_columnChartFormatTab");}else{if(G==actuate.Constant.ChartType.BAR_CHART){this.showPanel("CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("BAR_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_barChartFormatTab");}else{if(G==actuate.Constant.ChartType.LINE_CHART){this.showPanel("CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("LINE_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_lineChartFormatTab");}else{if(G==actuate.Constant.ChartType.PIE_CHART){this.showPanel("CHART_DATA_TAB_WOAXIS_DIALOG");this.showPanel("PIE_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWoAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_pieChartFormatTab");}else{if(G==actuate.Constant.ChartType.DONUT_CHART){this.showPanel("CHART_DATA_TAB_WOAXIS_DIALOG");this.showPanel("DOUGHNUT_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWoAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_doughnutChartFormatTab");}else{if(G==actuate.Constant.ChartType.SCATTER_CHART){this.showPanel("CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("SCATTER_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_scatterChartFormatTab");}else{if(G==actuate.Constant.ChartType.AREA_CHART){this.showPanel("CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("AREA_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_areaChartFormatTab");}else{if(G==actuate.Constant.ChartType.BUBBLE_CHART){this.showPanel("BUBBLE_CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("BUBBLE_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_bubbleChartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_bubbleChartFormatTab");}else{if(G==actuate.Constant.ChartType.DIFFERENCE_CHART){this.showPanel("DIFFERENCE_CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("DIFFERENCE_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_differenceChartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_differenceChartFormatTab");}else{if(G==actuate.Constant.ChartType.GANTT_CHART){this.showPanel("GANTT_CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("GANTT_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_ganttChartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_ganttChartFormatTab");}else{if(G==actuate.Constant.ChartType.STOCK_CHART){this.showPanel("STOCK_CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("STOCK_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_stockChartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_stockChartFormatTab");}else{if(G==actuate.Constant.ChartType.PYRAMID_CHART){this.showPanel("CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("PYRAMID_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_pyramidChartFormatTab");}else{if(G==actuate.Constant.ChartType.RADAR_CHART){this.showPanel("RADAR_CHART_DATA_TAB_WOAXIS_DIALOG");this.showPanel("RADAR_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_radarChartWoAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_radarChartFormatTab");}else{if(G==actuate.Constant.ChartType.METER_CHART){this.showPanel("CHART_DATA_TAB_WITHAXIS_DIALOG");this.showPanel("METER_CHART_FORMAT_TAB_DIALOG");C=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWithAxisDataTab");D=this.getPanel("actuate_dialog_impl_helper_chartbuilder_meterChartFormatTab");}}}}}}}}}}}}}}if(D){this._formatPanel=D;this._formatPanel._isFlashChart=E._isFlashChart;}if(C){C.hidden=false;this._dataPanel=C;if(!this._uiData){this._uiData={};}if(!this._uiData.dataTab){this._uiData.dataTab={};}this._mergeUIData(this._uiData.dataTab,E);C.on("xaxischanged",actuate.Method.bind(this._xaxisChanged,this));if(E.isSummaryTable){C._isSummaryTable=true;}else{C._isSummaryTable=false;}C.loadData(E);}if(D){D.hidden=false;this._formatPanel=D;if(D._clearControls){D._clearControls();}if(!this._uiData){this._uiData={};}if(!this._uiData.gadgetAttr&&E.operationData.gadgetAttr!==undefined){this._uiData.gadgetAttr=E.operationData.gadgetAttr;}if(this._uiData.gadgetAttr){D.loadData(this._uiData);}if(!this._uiData){this._uiData={};}if(!this._uiData.formatTab){this._uiData.formatTab={};if(E&&E.Element&&E.Element.type=="DOCUMENT"&&E.Element.legend){delete E.Element.legend;}}this._mergeUIData(this._uiData.formatTab,E);E.chartType=G;D.loadData(E);}var A=this.getPanel("actuate_dialog_impl_helper_genericPropsTab");if(A&&!A.hidden){if(!this._uiData){this._uiData={};}if(!this._uiData.generalTab&&E.operationData!==undefined){this._uiData.generalTab=E.operationData;}if(!this._uiData.generalTab){this._uiData.generalTab={};}this._genericPropsPanel=A;A.loadData(this._uiData.generalTab,G);}var B=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartTypeTab");if(B&&!B.hidden){this._typePanel=B;B.loadData(E,G);}if(E.operationData&&!E.operationData.activeTab&&C&&!C.hidden){this._tabPanel.setActiveTab(C.getPanel());}},_mergeUIData:function(B,D){if(typeof (B)=="object"){var A={};for(var C in B){if(B[C]!==undefined){if(typeof (B[C])=="object"&&C!="newDataMarts"&&C!="dataManagerSoap"){if(typeof (D[C])!="object"){if(D[C]!==undefined){A=D[C];}else{A[C]=undefined;}D[C]={};this._mergeUIData(B[C],D[C]);}else{A[C]=this._mergeUIData(B[C],D[C]);}}else{if(typeof (A)=="object"){A[C]=D[C];}D[C]=B[C];}}}return A;}},hidePanels:function(B){for(var A=0;A<B.length;A++){this.hidePanel(B[A]);}},_dataChanged:function(A){actuate.dialog.impl.helper.chartbuilder.ChartBuilder.superclass._dataChanged.call(this,A);},_preHide:function(){if(this._dataPanel&&this._dataPanel._preHide){this._dataPanel._preHide();}if(this._formatPanel&&this._formatPanel._preHide){this._formatPanel._preHide();}if(this._typePanel&&this._typePanel._preHide){this._typePanel._preHide();}if(this._genericPropsPanel&&this._genericPropsPanel._preHide){this._genericPropsPanel._preHide();}if(this._filterPanel&&this._filterPanel._preHide){this._filterPanel._preHide();}this._uiData=null;},_afterHide:function(){if(this._dataPanel&&this._dataPanel._afterHide){this._dataPanel._afterHide();}if(this._formatPanel&&this._formatPanel._afterHide){this._formatPanel._afterHide();}if(this._typePanel&&this._typePanel._afterHide){this._typePanel._afterHide();}if(this._genericPropsPanel&&this._genericPropsPanel._afterHide){this._genericPropsPanel._afterHide();}if(this._filterPanel&&this._filterPanel._afterHide){this._filterPanel._afterHide();}this._uiData=null;},_bind:function(B){var A=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWoAxisDataTab");if(A){A.loadData(B);}A=this.getPanel("actuate_dialog_impl_helper_chartbuilder_chartWithAxisDataTab");if(A){A.loadData(B);}},__getDataPanel:function(){return this._dataPanel;},__getGadgetTypeName:function(){var A=this._typePanel.getType();if(A){return A.replace(" ","");}return null;},__getHelpTopic:function(){return"EditChartGadget";}});