actuate.util.Package.define("actuate.dialog.impl.helper.gadgetbuilder");actuate.dialog.impl.helper.gadgetbuilder.ThermometerFormatTab=actuate.Class.create();actuate.dialog.impl.helper.gadgetbuilder.ThermometerFormatTab.prototype=actuate.Class.extend(new actuate.dialog.impl.helper.gadgetbuilder.BaseGadgetFormatTab(),{_classname:"actuate.dialog.impl.helper.gadgetbuilder.ThermometerFormatTab",initialize:function(){this.id=this._getId(this._classname);this._title=actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.format");actuate.dialog.impl.helper.gadgetbuilder.BaseGadgetFormatTab.prototype.initialize.call(this);this._initUnitMap();this._control_width=actuate.widget.ComponentMgr.get(this.id+"_width");this._control_widthUnit=actuate.widget.ComponentMgr.get(this.id+"_widthUnit");this._control_height=actuate.widget.ComponentMgr.get(this.id+"_height");this._control_heightUnit=actuate.widget.ComponentMgr.get(this.id+"_heightUnit");this._baseColor=actuate.widget.ComponentMgr.get(this.id+"_baseColor");this._gadget=actuate.widget.ComponentMgr.get(this.id+"_gadget");this._initializeControlStatus();},_initializeControlStatus:function(){this._validateControlArray=[];this._validateControlArray.push(this._control_width);this._validateControlArray.push(this._control_height);this._validateControlArray.push(actuate.widget.ComponentMgr.get(this.id+"_tickIntervalTextfield"));this._validateControlArray.push(actuate.widget.ComponentMgr.get(this.id+"_minTextfield"));this._validateControlArray.push(actuate.widget.ComponentMgr.get(this.id+"_maxTextfield"));},_initContent:function(){if(!actuate.util.Utility.isEmpty(this._initBaseFontContent,false)){this._initBaseFontContent();}this._componentArray=[];var D=this;this._sizeStore=new actuate.widget.data.SimpleStore({fields:["value","text"]});var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_PT,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.points")});this._sizeStore.add(B);var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_PC,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.picas")});this._sizeStore.add(B);var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_CM,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.cm")});this._sizeStore.add(B);var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_MM,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.mm")});this._sizeStore.add(B);var B=new this._sizeStore.recordType({value:actuate.dialog.impl.constant.DesignChoice.UNITS_IN,text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.unit.inches")});this._sizeStore.add(B);var C={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.flashgadget"),id:this.id+"_gadget",checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},listeners:{collapse:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}},expand:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}}},cls:"actuate-widget-panle-zero-margin-top",items:[{items:[{columnWidth:0.2,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.width")},{columnWidth:0.2,id:this.id+"_width",value:"352",xtype:"textfield",allowBlank:false,validator:function(H){var G=actuate.dialog.impl.Utility.validatePositive(H);if(!G){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.positivenumber.errorMessage");}return true;}},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.2,id:this.id+"_widthUnit",xtype:"combo",editable:false,forceSelection:true,value:actuate.dialog.impl.constant.DesignChoice.UNITS_PT,valueField:"value",displayField:"text",store:this._sizeStore}]},{items:[{columnWidth:0.2,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.height")},{columnWidth:0.2,id:this.id+"_height",value:"200",xtype:"textfield",allowBlank:false,validator:function(H){var G=actuate.dialog.impl.Utility.validatePositive(H);if(!G){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.positivenumber.errorMessage");}return true;}},{columnWidth:0.02,xtype:"label",style:"height:1px"},{columnWidth:0.2,id:this.id+"_heightUnit",xtype:"combo",editable:false,forceSelection:true,value:actuate.dialog.impl.constant.DesignChoice.UNITS_PT,valueField:"value",displayField:"text",store:this._sizeStore}]},{items:[{columnWidth:0.2,xtype:"label",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.color")},{columnWidth:0.423,id:this.id+"_baseColor",xtype:"colorfield",editable:false,value:"Auto"}]}]};if(!actuate.util.Utility.isEmpty(this._baseFont,false)){C.items.push(this._baseFont);C.items.push(this._tooltip);}var E={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.Value"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},listeners:{collapse:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}},expand:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}}},items:[{items:[{id:this.id+"_showValue",columnWidth:0.35,xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.showValue")}]}]};var A={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.tickMarks"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},listeners:{collapse:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}},expand:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}}},items:[{items:[{id:this.id+"_showTickMarks",columnWidth:0.41,xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.showTickMarks"),handler:function(){var G=actuate.widget.ComponentMgr.get(D.id+"_ticksOnRight");if(!arguments[1]){G.disable();}else{G.enable();}}},{id:this.id+"_ticksOnRight",columnWidth:0.21,xtype:"combo",editable:false,value:"Right",store:[["Right",actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.right")],["Left",actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.left")]]}]},{items:[{id:this.id+"_autoAdjustTickMarks",columnWidth:0.41,xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.autoAdjustTickMarks"),handler:function(){var G=actuate.widget.ComponentMgr.get(D.id+"_tickInterval");var H=actuate.widget.ComponentMgr.get(D.id+"_tickIntervalTextfield");if(!arguments[1]){G.enable();H.enable();}else{G.disable();H.setValue(null);H.disable();}}}]},{items:[{id:this.id+"_tickInterval",columnWidth:0.41,xtype:"label",disabled:"true",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.tickmarksCount")},{id:this.id+"_tickIntervalTextfield",columnWidth:0.21,xtype:"textfield",disabled:"true",allowBlank:false,validator:function(H){var G=actuate.dialog.impl.Utility.validateInteger(H,actuate.dialog.impl.Utility.POSITIVE);if(!G){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.positiveinteger.errorMessage");}return true;}}]}]};var F={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.scale"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 10px"},listeners:{collapse:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}},expand:function(){if(D._parentDialog&&D._parentDialog.adjustSize){D._parentDialog.adjustSize();}}},items:[{items:[{id:this.id+"_isShowScale",columnWidth:0.35,xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.showScale")}]},{items:[{id:this.id+"_autoValues",columnWidth:0.35,xtype:"checkbox",checked:true,handler:function(I,G){var H=actuate.widget.ComponentMgr.get(D.id+"_minLabel");var K=actuate.widget.ComponentMgr.get(D.id+"_minTextfield");var J=actuate.widget.ComponentMgr.get(D.id+"_maxLabel");var L=actuate.widget.ComponentMgr.get(D.id+"_maxTextfield");if(!G){H.enable();K.enable();J.enable();L.enable();}else{H.disable();K.disable();K.setValue(null);J.disable();L.disable();L.setValue(null);}},boxLabel:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.autoValues")}]},{items:[{id:this.id+"_minLabel",columnWidth:0.35,xtype:"label",disabled:"true",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.minimumValue")},{id:this.id+"_minTextfield",columnWidth:0.35,xtype:"textfield",disabled:"true",allowBlank:false,blankText:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.minimumBlankText"),validator:function(I){var H=false;var G=actuate.util.Utility.isNumeric(I);if(!G){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.minValue.typeNotMatch");}else{H=true;}var J=actuate.widget.ComponentMgr.get(D.id+"_maxTextfield");if(J.getValue()!=""&&parseInt(I)>parseInt(J.getValue())){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.numeric.errorMessage");}else{if(J.getValue()!=""&&parseInt(I)<parseInt(J.getValue())){H=true;J.clearInvalid();}}return H;}}]},{items:[{id:this.id+"_maxLabel",columnWidth:0.35,xtype:"label",disabled:"true",text:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.maximumValue")},{id:this.id+"_maxTextfield",columnWidth:0.35,xtype:"textfield",disabled:"true",allowBlank:false,blankText:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.maximumBlankText"),validator:function(I){var H=false;var G=actuate.util.Utility.isNumeric(I);if(!G){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.numeric.errorMessage");}else{H=true;}var J=actuate.widget.ComponentMgr.get(D.id+"_minTextfield");if(J.getValue()!=""&&parseInt(I)<parseInt(J.getValue())){return actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.maxValue.valueNotCorrect");}else{if(J.getValue()!=""&&parseInt(I)>parseInt(J.getValue())){H=true;J.clearInvalid();}}return true;}}]}]};this._componentArray.push(C);this._componentArray.push(E);this._componentArray.push(F);this._componentArray.push(A);this._styleMenus=null;},_initUnitMap:function(){this._allUnitMap=new Array();this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_PT]="chartFormatDialog.Unit.PT";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_PC]="chartFormatDialog.Unit.PC";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_PERCENTAGE]="chartFormatDialog.Unit.Percentage";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_CM]="chartFormatDialog.Unit.CM";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_MM]="chartFormatDialog.Unit.MM";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_IN]="chartFormatDialog.Unit.IN";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_EM]="chartFormatDialog.Unit.EM";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_EX]="chartFormatDialog.Unit.EX";this._allUnitMap[actuate.dialog.impl.constant.DesignChoice.UNITS_PX]="chartFormatDialog.Unit.PX";},getUnit:function(C){var B=actuate.dialog.impl.constant.DesignChoice.UNITS_IN;for(var A in this._allUnitMap){if(C.indexOf(A)>-1){B=A;break;}}return B;},_preHide:function(){actuate.widget.ComponentMgr.get(this.id+"_showTickMarks").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_ticksOnRight").setValue("Right");actuate.widget.ComponentMgr.get(this.id+"_autoAdjustTickMarks").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_isShowScale").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_autoValues").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_minTextfield").setValue(null);actuate.widget.ComponentMgr.get(this.id+"_maxTextfield").setValue(null);actuate.widget.ComponentMgr.get(this.id+"_showValue").setValue("true");actuate.widget.ComponentMgr.get(this.id+"_baseColor").setValue("auto");if(!actuate.util.Utility.isEmpty(this._clearControls,false)){this._clearControls();}this.hidden=true;},loadData:function(C){if(C.Format){if(!actuate.util.Utility.isEmpty(this._updateFontValues,false)){this._updateFontValues(C.Format);}if(!actuate.util.Utility.isEmpty(this._updateToolTipValue,false)){this._updateToolTipValue(C.Format);}var E=C.Format.baseColor;this._baseColor.setValue(E);var F=C.Format.isShowTickMarks;actuate.widget.ComponentMgr.get(this.id+"_showTickMarks").setValue(F);var I=C.Format.isSetTicksOnRight;actuate.widget.ComponentMgr.get(this.id+"_ticksOnRight").setValue(I?"Right":"Left");var B=C.Format.isAutoAdjustTickMarks;actuate.widget.ComponentMgr.get(this.id+"_autoAdjustTickMarks").setValue(B);if(!B){var G=C.Format.tickMarksCount;if(G>0){actuate.widget.ComponentMgr.get(this.id+"_tickIntervalTextfield").setValue(G);}else{actuate.widget.ComponentMgr.get(this.id+"_tickIntervalTextfield").setValue(null);}}var H=C.Format.isShowScale;actuate.widget.ComponentMgr.get(this.id+"_isShowScale").setValue(H);var D=C.Format.isAutoValues;actuate.widget.ComponentMgr.get(this.id+"_autoValues").setValue(D);if(!D){actuate.widget.ComponentMgr.get(this.id+"_maxTextfield").setValue(C.Format.maxValue);actuate.widget.ComponentMgr.get(this.id+"_minTextfield").setValue(C.Format.minValue);}var A=C.Format.isShowValue;actuate.widget.ComponentMgr.get(this.id+"_showValue").setValue(A);if(C.Format.width){this._control_width.setValue(C.Format.width.measure);this._control_widthUnit.setValue(C.Format.width.units);}if(C.Format.height){this._control_height.setValue(C.Format.height.measure);this._control_heightUnit.setValue(C.Format.height.units);}}else{if(C.operationData&&C.operationData.gadgetAttr){this._udpateSizeFromGadgetContainer(C.operationData.gadgetAttr);}}if(!this._isFlashGadget&&C.Element&&!C.Element.isFlashGadget){this._gadget.setTitle(actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.html5gadget"));}else{this._gadget.setTitle(actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.flashgadget"));}},createSoapNode:function(I,F){if(F){var L=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.ShowTickMarks);var G=F.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_showTickMarks").getValue().toString());L.appendChild(G);I.appendChild(L);var M=actuate.util.Utility.getNumberFormatter();var T=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.ChartWidth);var Y;var X;if(typeof this._control_width.getValue()=="string"){X=actuate.util.String.trim(this._control_width.getValue());}if(X==""){Y=F.createTextNode("");}else{Y=F.createTextNode(M.parse(this._control_width.getValue())+this._control_widthUnit.getValue());}T.appendChild(Y);I.appendChild(T);var W=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.ChartHeight);var V;var Q;if(typeof this._control_height.getValue()=="string"){Q=actuate.util.String.trim(this._control_height.getValue());}if(Q==""){V=F.createTextNode("");}else{V=F.createTextNode(M.parse(this._control_height.getValue())+this._control_heightUnit.getValue());}W.appendChild(V);I.appendChild(W);if(!actuate.util.Utility.isEmpty(this._addBaseFontToSoapResponse,false)){this._addBaseFontToSoapResponse(F,I);}if(!actuate.util.Utility.isEmpty(this._addShowTooltipToSoapResponse,false)){this._addShowTooltipToSoapResponse(F,I);}var R=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.BaseColor);var U=F.createTextNode("auto");if(this._baseColor.getValue()!=="auto"){U=F.createTextNode(this._baseColor.getHexValue());}R.appendChild(U);I.appendChild(R);var e=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.TicksOnRight);var b=actuate.widget.ComponentMgr.get(this.id+"_ticksOnRight").getValue()=="Right"?"true":"false";var H=F.createTextNode(b);e.appendChild(H);I.appendChild(e);var B=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.AutoAdjustTickMarks);var D=F.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_autoAdjustTickMarks").getValue().toString());B.appendChild(D);I.appendChild(B);if(!actuate.widget.ComponentMgr.get(this.id+"_autoAdjustTickMarks").getValue()){var a=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.TickmarkCount);var N=parseInt(actuate.widget.ComponentMgr.get(this.id+"_tickIntervalTextfield").getValue());var K=F.createTextNode(N);a.appendChild(K);I.appendChild(a);}var P=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.ShowScale);var E=F.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_isShowScale").getValue().toString());P.appendChild(E);I.appendChild(P);var J=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.AutoValues);var O=F.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_autoValues").getValue().toString());J.appendChild(O);I.appendChild(J);if(!actuate.widget.ComponentMgr.get(this.id+"_autoValues").getValue()){var S=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.MinValue);var Z=F.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_minTextfield").getValue());S.appendChild(Z);I.appendChild(S);var d=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.MaxValue);var c=F.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_maxTextfield").getValue());d.appendChild(c);I.appendChild(d);}var C=actuate.util.XmlDom.createElement(F,actuate.Constant.tag.ShowValue);var A=F.createTextNode(actuate.widget.ComponentMgr.get(this.id+"_showValue").getValue().toString());C.appendChild(A);I.appendChild(C);}}});