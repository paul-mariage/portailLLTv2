actuate.util.Package.define("actuate.dialog.impl.helper.reportlibrarybuilder");actuate.dialog.impl.helper.reportlibrarybuilder.ReportLibraryBuilder=actuate.Class.extendClass(actuate.dialog.impl.helper.BaseBuilderDialog,{_classname:"actuate.dialog.ReportLibraryDialog",_DATA_TAB_NAMES:{reportlibrary:"REPORTLIBRARY_DATA_TAB"},_DATA_PANEL_NAMES:{reportlibrary:"reportLibraryDataTab"},_tabPanel:null,_defaultType:null,_dataPanel:null,_firstTime:true,initialize:function(A,B){this._width=494;var C=this._getId(this._classname);this._applyHtmlElementsNames(C);actuate.dialog.impl.helper.reportlibrarybuilder.ReportLibraryBuilder.superclass.initialize.call(this,C,actuate.util.Utility.getLocalizedString("reportLibraryBuilder.title"),[this._height,this._width],B);},_showDataPanel:function(A){var B=this._DATA_TAB_NAMES[A];this._dataPanelName=B;if(this._dataPanelName){return this.showPanel(this._dataPanelName);}},_bind:function(A){if(A&&this._dataPanel){if(A.reportLibraryFiles){this._dataPanel.fireEvent("filesloaded",A.reportLibraryFiles);}if(A.reportLibraryItems){this._dataPanel.fireEvent("metadataloaded",A.reportLibraryItems);}}return true;},_localBind:function(C){this._dataPanel=null;if(C){if(C.operationData&&C.operationData.componentData){this._dataPanel=this._showDataPanel("reportlibrary");}if(this._dataPanel&&this._dataPanel.getPanel()){this.getTabPanel().setActiveTab(this._dataPanel.getPanel());}if(this._dataPanel){var B;if(C.operationData.componentData.metadata&&C.operationData.componentData.metadata.Base&&C.operationData.componentData.metadata.Base.reportLibraryBase){B=C.operationData.componentData.metadata.Base.reportLibraryBase;}this._dataPanel.loadData(B);this._fixDropShadow();}}var A=this.getPanel("actuate_dialog_impl_helper_genericPropsTab");if(A&&!A.hidden&&C){this._genericPropsPanel=A;A.loadData(C.operationData,C.Base&&C.Base.type);}if(this._dataPanel){this._dataPanel.fireEvent("databound",C);}},_afterHide:function(){if(this._genericPropsPanel&&this._genericPropsPanel._afterHide){this._genericPropsPanel._afterHide();}},_preHide:function(){if(this._dataPanel&&this._dataPanel._preHide){this._dataPanel._preHide();}},_createBaseSoapNode:function(B){var A=actuate.util.XmlDom.createElement(B,actuate.Constant.tag.Json);B.documentElement.appendChild(A);return A;},__generateUniqueGadgetTitle:function(B){if(B&&B.type=="version"){var C="editgadgetprops.panel.general.gadgetName.";var A=actuate.util.Utility;return A.getLocalizedString(C+"version",B.dataSourceName||"");}return actuate.dialog.impl.helper.reportlibrarybuilder.ReportLibraryBuilder.superclass.__generateUniqueGadgetTitle.apply(this,arguments);},__generateGadgetTitle:function(C){if(C&&C.reportItem&&C.reportLibrary){var D="editgadgetprops.panel.general.gadgetName.";var A=actuate.util.Utility;var B=C.reportLibrary;B=B.substring(B.lastIndexOf("/")+1,B.length);return A.getLocalizedString(D+"reportLibrary",C.reportItem,B);}return"Report Library";},__getDataPanel:function(){return this._dataPanel;},__getGadgetTypeName:function(){return"ReportLibrary";},__getHelpTopic:function(){return"EditReportLibraryGadget";},establishTabs:function(I){var H=actuate.util.Package;var A=actuate.util.Constants.MODULE_NAME_DIALOG;if(this._panels==null){this._panels=new Object();}if(I.children){this._hidePanels();for(var E=0;E<I.children.length;E++){var C=actuate.resource.module.feature.features[A][I.children[E]]._classInstance;if(C){for(var F=0;F<C.length;F++){var G=actuate.util.Package.getInstanceName(C[F]).replace(/\./g,"_");if(!this._panels[G]){var D=H.getNamespaceObjectReference(C[F]);if(D){var B=new D(null,true);if(B.getPanel){this._tabPanel.add(B.getPanel(),false);this._panels[G]=B;B.setParent(this);}}}if(G&&this._panels[G]&&(G.indexOf("Format")<0||this._panels[G]==this._formatPanel)){this._tabPanel.unhideTabStripItem(this._panels[G].getPanel());this._panels[G].hidden=false;}}}}}}});