actuate.util.Package.define("actuate.dialog.impl.helper.chartbuilder");actuate.dialog.impl.helper.chartbuilder.RadarChartWoAxisDataTab=actuate.Class.extendClass(actuate.dialog.impl.helper.AbstractDataTabDialog,{_classname:"actuate.dialog.impl.helper.chartbuilder.RadarChartWoAxisDataTab",_filter:null,_showTooltip:null,_uiData:{},_selectedIid:null,initialize:function(){this.id=this._getId(this._classname);this._title=actuate.util.Utility.getLocalizedString("chartBuilder.data");actuate.dialog.impl.helper.AbstractTabDialog.prototype.initialize.call(this);this._dataFieldSet=actuate.widget.ComponentMgr.get(this.id+"_dataFieldSet");this.__initDataSourceCombo();this._categoryCombo=actuate.widget.ComponentMgr.get(this.id+"_categoryCombo");this._xGroupOn=actuate.widget.ComponentMgr.get(this.id+"_xGroupOn");this._valueCombo1=actuate.widget.ComponentMgr.get(this.id+"_valueCombo1");this._agregateExpression1=actuate.widget.ComponentMgr.get(this.id+"_agregateExpression1");this._valueCombo2=actuate.widget.ComponentMgr.get(this.id+"_valueCombo2");this._agregateExpression2=actuate.widget.ComponentMgr.get(this.id+"_agregateExpression2");this._aggrExprLabel=actuate.widget.ComponentMgr.get(this.id+"_aggrExprLabel");this._isXGroupOn=actuate.widget.ComponentMgr.get(this.id+"_isXGroupOn");this._showTooltip=actuate.widget.ComponentMgr.get(this.id+"_ShowTooltip");this._tooltipValue=actuate.widget.ComponentMgr.get(this.id+"_TooltipValue");this._xGroupOn_items=actuate.widget.ComponentMgr.get(this.id+"_xGroupOn_items");this._yGroup=actuate.widget.ComponentMgr.get(this.id+"_yGroup");this._yGroupOn=actuate.widget.ComponentMgr.get(this.id+"_yGroupOn");this._yGroupOn_items=actuate.widget.ComponentMgr.get(this.id+"_yGroupOn_items");this._eh_changeYGroupOn_c=actuate.Method.bind(this._eh_changeYGroupOn,this);this._yGroup.registerEventHandler("select",this._eh_changeYGroupOn_c);this._groupLegned_items=actuate.widget.ComponentMgr.get(this.id+"_groupLegned_items");this._eh_changeXGroupOn_c=actuate.Method.bind(this._eh_changeXGroupOn,this);this._categoryCombo.registerEventHandler("select",this._eh_changeXGroupOn_c);this._hyperlinkCheckbox=actuate.widget.ComponentMgr.get(this.id+"_hyperlinkCheckbox");this._keepCubeHierarchy=actuate.widget.ComponentMgr.get(this.id+"_keepCubeHierarchy");this._eh_datasetComboChange_c=actuate.Method.bind(this._eh_datasetComboChange,this);this.__dataSourceCombo.registerEventHandler("change",this._eh_datasetComboChange_c);var A=actuate.Method.bind(this._eh_onBeforeSelect,this);this._categoryCombo.registerEventHandler("beforeselect",A);this._yGroup.registerEventHandler("beforeselect",A);this._valueCombo1.registerEventHandler("beforeselect",A);this._valueCombo2.registerEventHandler("beforeselect",A);this._tooltipValue.registerEventHandler("beforeselect",A);},__createDataSourceCombo:function(){return actuate.widget.ComponentMgr.get(this.id+"_dataSetCombo");},_initContent:function(){this._componentArray=[];var C=this;this._valueDefinitionStore=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType","hasAction"]});this._valueDefinitionStore1=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStore2=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStoreTooltip=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._valueDefinitionStoreGroupBy=new actuate.widget.data.SimpleStore({fields:["valueDefinitionValue","valueDefinitionText","title","valueDefinitionType"]});this._aggrNumStore=[["Sum",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionSum")],["Average",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionAverage")],["Count",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionCount")],["DistinctCount",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionDistinctCount")],["Min",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionMin")],["Max",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionMax")],["First",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionFirst")],["Last",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionLast")]];this._aggrStringStore=[["",""],["Count",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionCount")],["DistinctCount",actuate.util.Utility.getLocalizedString("chartBuilder.agregateExpressionDistinctCount")]];var A={xtype:"fieldset",collapsible:true,title:actuate.util.Utility.getLocalizedString("chartBuilder.data"),checkboxToggle:false,defaults:{border:false,layout:"column"},cls:"actuate-widget-panle-zero-margin-top",id:this.id+"_dataFieldSet",listeners:{collapse:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}},expand:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}}},items:[{layout:"column",bodyStyle:"padding:4px 4px 4px 4px",items:[{layout:"form",border:false,labelWidth:114,items:[{id:this.id+"_dataSetCombo",width:322,fieldLabel:actuate.util.Utility.getLocalizedString("chartBuilder.useDataFrom"),xtype:"treecombo",editable:false,forceSelection:true,autoExpand:true,valueField:"value",displayField:"title",titleField:"title",icons:this.__dataSourceIcons,sortInfo:{folderSort:true,field:"text",direction:"ASC"},showTooltip:true,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this.__dataSourceComboStore),style:"margin-right:3px; margin-lef:0px"}]}]},{items:[{columnWidth:0.37,id:this.id+"_hyperlinkCheckbox",xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("common.dataTab.useHyperlink"),handler:function(){}},{columnWidth:0.37,id:this.id+"_keepCubeHierarchy",xtype:"checkbox",checked:false,boxLabel:actuate.util.Utility.getLocalizedString("common.dataTab.keepCubeHierarchy"),handler:function(){}}]}]};this._componentArray.push(A);this._xGroupOnStore=new actuate.widget.data.SimpleStore({fields:["value","text"]});this._yGroupOnStore=new actuate.widget.data.SimpleStore({fields:["value","text"]});var E={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("chartBuilder.radarCategory"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 4px"},listeners:{collapse:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}},expand:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}}},items:[{items:[{columnWidth:0.23,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.sliceLable")},{columnWidth:0.6,id:this.id+"_categoryCombo",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",titleField:"title",xtype:"treecombo",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore)}]},{items:[{columnWidth:0.23,xtype:"label",style:"height:1px"},{columnWidth:0.6,id:this.id+"_isXGroupOn",xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("chartBuilder.groupCategories"),handler:function(){var G=actuate.widget.ComponentMgr.get(C.id+"_agregateExpression1");G.setDisabled(this.checked?false:true);G.setValue(this.checked?"Sum":"");var H=actuate.widget.ComponentMgr.get("allowMultipleValue");var F=actuate.widget.ComponentMgr.get(C.id+"_agregateExpression2");if(H.getValue()){F.setDisabled(this.checked?false:true);F.setValue(this.checked?"Sum":"");C._valueCombo2.enable();}else{F.setDisabled(true);C._valueCombo2.disable();C._valueCombo2.setValueById("none");}C._eh_changeXGroupOn();}}]},{id:this.id+"_xGroupOn_items",items:[{columnWidth:0.23,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.timeInterval")},{columnWidth:0.33,id:this.id+"_xGroupOn",xtype:"combo",editable:false,forceSelection:true,valueField:"value",displayField:"text",store:this._xGroupOnStore},{columnWidth:0.4,xtype:"label",style:"height:1px"}]}]};this._componentArray.push(E);var D={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("chartBuilder.value"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 4px"},listeners:{collapse:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}},expand:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}}},items:[{items:[{columnWidth:0.4,xtype:"checkbox",checked:false,id:"allowMultipleValue",handler:function(I,H){var K=actuate.widget.ComponentMgr.get(C.id+"_value_2_label");var M=actuate.widget.ComponentMgr.get(C.id+"_valueCombo2");var L=actuate.widget.ComponentMgr.get(C.id+"_agregateExpression2");if(H){K.enable();M.enable();var J=actuate.widget.ComponentMgr.get(C.id+"_dataSetCombo");var F=J.getValue();var G=actuate.widget.ComponentMgr.get(C.id+"_isXGroupOn");if(F.type=="dataset"&&G.getValue()){L.enable();L.setValue("Sum");}}else{K.disable();M.disable();M.setValueById("none");L.disable();L.setValue("");}},boxLabel:actuate.util.Utility.getLocalizedString("chartBuilder.allowMultipleValue")}]},{items:[{columnWidth:0.1,xtype:"label",style:"height:1px"},{columnWidth:0.2,xtype:"label",style:"height:1px",text:""},{columnWidth:0.3,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.dataColumns")},{columnWidth:0.02,xtype:"label",style:"height:1px"},{id:this.id+"_aggrExprLabel",columnWidth:0.3,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.aggregateExpression")}]},{items:[{columnWidth:0.23,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.selectValue1")},{id:this.id+"_valueCombo1",columnWidth:0.33,forceSelection:true,editable:false,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",xtype:"treecombo",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore1)},{columnWidth:0.03,xtype:"label",style:"height:1px"},{columnWidth:0.33,xtype:"combo",forceSelection:true,value:"Sum",editable:false,id:this.id+"_agregateExpression1",store:this._aggrNumStore}]},{items:[{id:this.id+"_value_2_label",columnWidth:0.23,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.selectValue2")},{id:this.id+"_valueCombo2",columnWidth:0.33,forceSelection:true,editable:false,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",xtype:"treecombo",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStore2)},{columnWidth:0.03,xtype:"label",style:"height:1px"},{columnWidth:0.33,xtype:"combo",forceSelection:true,value:"Sum",editable:false,id:this.id+"_agregateExpression2",store:this._aggrNumStore}]},{id:this.id+"_groupLegned_items",items:[{columnWidth:0.23,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.groupLegnedItems")},{columnWidth:0.33,id:this.id+"_yGroup",editable:false,forceSelection:true,valueField:"valueDefinitionValue",displayField:"valueDefinitionText",viewWidth:250,titleField:"title",xtype:"treecombo",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStoreGroupBy)},{columnWidth:0.03,xtype:"label",style:"height:1px"},{columnWidth:0.33,xtype:"label",text:""}]},{id:this.id+"_yGroupOn_items",items:[{columnWidth:0.23,xtype:"label",text:actuate.util.Utility.getLocalizedString("chartBuilder.timeInterval")},{columnWidth:0.33,id:this.id+"_yGroupOn",xtype:"combo",editable:false,forceSelection:true,valueField:"value",displayField:"text",store:this._yGroupOnStore},{columnWidth:0.03,xtype:"label",style:"height:1px"},{columnWidth:0.33,xtype:"label",text:""}]}]};this._componentArray.push(D);var B={xtype:"fieldset",collapsible:true,autoHeight:true,title:actuate.util.Utility.getLocalizedString("chartBuilder.tooltip"),checkboxToggle:false,defaults:{border:false,header:false,layout:"column",bodyStyle:"padding:2px 4px 2px 4px"},listeners:{collapse:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}},expand:function(){if(C._parentDialog&&C._parentDialog.adjustSize){C._parentDialog.adjustSize();}}},items:[{items:[{columnWidth:0.23,id:this.id+"_ShowTooltip",xtype:"checkbox",checked:true,boxLabel:actuate.util.Utility.getLocalizedString("chartBuilder.tooltip"),handler:function(){var F=actuate.widget.ComponentMgr.get(C.id+"_TooltipValue");F.setDisabled(this.checked?false:true);}},{columnWidth:0.33,id:this.id+"_TooltipValue",editable:false,style:"width:170px",forceSelection:true,disabled:false,value:"",valueField:"valueDefinitionValue",displayField:"valueDefinitionText",titleField:"title",xtype:"treecombo",autoExpand:true,showTooltip:true,icons:this.__icons,store:new actuate.widget.custom.TreeCombo.TreeComboStore(this._valueDefinitionStoreTooltip)}]}]};this._componentArray.push(B);},_eh_changeYGroupOn:function(){this._yGroupOn.clear();var B=this._queryTreeComboRecord(this._valueCombo2,this._getTreeComboValue(this._yGroup));var C=B?B.data.valueDefinitionType:"";if("date-time"==C||"datetime"==C||"date"==C||"time"==C){if("date-time"==C||"datetime"==C){var A=new this._yGroupOnStore.recordType({value:"Years",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.year")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Quarters",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.quarter")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Months",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.month")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Weeks",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.week")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Days",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.day")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Hours",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.hour")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Minutes",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.minute")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Seconds",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.second")});this._yGroupOnStore.add(A);}else{if("date"==C){var A=new this._yGroupOnStore.recordType({value:"Years",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.year")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Quarters",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.quarter")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Months",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.month")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Weeks",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.week")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Days",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.day")});this._yGroupOnStore.add(A);}else{if("time"==C){var A=new this._yGroupOnStore.recordType({value:"Hours",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.hour")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Minutes",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.minute")});this._yGroupOnStore.add(A);var A=new this._yGroupOnStore.recordType({value:"Seconds",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.second")});this._yGroupOnStore.add(A);}}}this._yGroupOn.setSelectedIndex(0);this._yGroupOn_items.show(true);}else{this._yGroupOn_items.hide();}},_eh_changeXGroupOn:function(){this._xGroupOn.clear();this._filter_y_group();var B=this._queryTreeComboRecord(this._categoryCombo,this._getTreeComboValue(this._categoryCombo));var C=B?B.data.valueDefinitionType:"";if(this._isXGroupOn.checked&&("date-time"==C||"datetime"==C||"date"==C||"time"==C)){if("date-time"==C||"datetime"==C){var A=new this._xGroupOnStore.recordType({value:"Years",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.year")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Quarters",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.quarter")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Months",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.month")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Weeks",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.week")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Days",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.day")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Hours",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.hour")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Minutes",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.minute")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Seconds",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.second")});this._xGroupOnStore.add(A);}else{if("date"==C){var A=new this._xGroupOnStore.recordType({value:"Years",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.year")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Quarters",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.quarter")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Months",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.month")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Weeks",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.week")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Days",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.day")});this._xGroupOnStore.add(A);}else{if("time"==C){var A=new this._xGroupOnStore.recordType({value:"Hours",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.hour")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Minutes",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.minute")});this._xGroupOnStore.add(A);var A=new this._xGroupOnStore.recordType({value:"Seconds",text:actuate.util.Utility.getLocalizedString("chartBuilder.dialog.intervalType.second")});this._xGroupOnStore.add(A);}}}this._xGroupOn.setSelectedIndex(0);this._xGroupOn_items.show(true);this._parentDialog._fixDropShadow();}else{this._xGroupOn_items.hide();this._parentDialog._fixDropShadow();}},_filter_y_group:function(){var D=this._queryTreeComboRecord(this._categoryCombo,this._getTreeComboValue(this._categoryCombo));if(this._isDataCubeSelected()){if(D&&D.id!="none"){var C=D.get("dimension");var B=this._valueDefinitionStoreGroupBy;B.clearFilter(true);B.filterBy(function(E){return E.get("id")!=C;});this._yGroup.refresh();if(this._getTreeComboValue(this._yGroup)){var A=this._queryTreeComboRecord(this._yGroup,this._getTreeComboValue(this._yGroup));if(A&&A.get("dimension")==C){this._yGroup.setValueById("none");}}}}},_eh_datasetComboChange:function(){this.__selectionChangedHandler();},__onSelectDataSource:function(){this.__clearFilter();this._agregateExpression1.setSelectedIndex(0);this._agregateExpression2.setSelectedIndex(0);var A=this.__getSelectedDataSourceInfo();if(A&&A[1]){if(A[1].columns){this._yGroupOn_items.hide();var D=A?A[1].columns:[];if(D&&D.length>0){for(var C=0;C<D.length;C++){if(D[C].dataType!="blob"){this._agregateExpression1.enable();var B=actuate.widget.ComponentMgr.get("allowMultipleValue");if(B.getValue()){this._agregateExpression2.enable();}}}}}var E=A[1].measures;if(E){this._yGroupOn_items.hide();this._agregateExpression1.disable();this._agregateExpression2.disable();}if(A[3]&&A[3].type=="cube"){this._isXGroupOn.setDisabled(true);this._isXGroupOn.setValue(false);}else{if(A[3]&&A[3].type=="dataset"){this._isXGroupOn.setDisabled(false);this._isXGroupOn.setValue(true);}}}this._clearFilterUI=true;this._keepCubeHierarchy.setValue((this._isDataCubeSelected()||this._isDataModelSelected())?true:false);this.showCubeHierarchyOption((this._isDataCubeSelected()||this._isDataModelSelected())?true:false);this._resetAllTreeCombo();actuate.dialog.impl.helper.chartbuilder.RadarChartWoAxisDataTab.superclass.__onSelectDataSource.call(this);},_resetAllTreeCombo:function(){var F=this.__dataSourceCombo.getValue();var E={id:"none",strong:true,value:"",text:""};var D={id:"default1",value:"",strong:true,text:actuate.util.Utility.getLocalizedString("chartBuilder.tooltip.default")};var C={id:"default2",value:"categoryData",strong:true,text:actuate.util.Utility.getLocalizedString("chartBuilder.tooltip.categoryData")};var B={id:"default3",value:"valueSeriesName",strong:true,text:actuate.util.Utility.getLocalizedString("chartBuilder.tooltip.valueSeriesName")};var A={id:"default4",value:"valueData",strong:true,text:actuate.util.Utility.getLocalizedString("chartBuilder.tooltip.valueData")};this._valueDefinitionStore.removeAll();this._valueDefinitionStore1.removeAll();this._valueDefinitionStore2.removeAll();this._valueDefinitionStoreTooltip.removeAll();this._valueDefinitionStoreGroupBy.removeAll();this.__addDataIntoTreeStore(E,this._valueDefinitionStore);this.__addDataIntoTreeStore(E,this._valueDefinitionStore1);this.__addDataIntoTreeStore(E,this._valueDefinitionStore2);this.__addDataIntoTreeStore(D,this._valueDefinitionStoreTooltip);this.__addDataIntoTreeStore(C,this._valueDefinitionStoreTooltip);this.__addDataIntoTreeStore(B,this._valueDefinitionStoreTooltip);this.__addDataIntoTreeStore(A,this._valueDefinitionStoreTooltip);this.__addDataIntoTreeStore(E,this._valueDefinitionStoreGroupBy);this.__setTreeStoreValues(this._valueDefinitionStore,F,["category","column","dimension"]);this.__setTreeStoreValues(this._valueDefinitionStore1,F,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStore2,F,["category","column","measure"]);this.__setTreeStoreValues(this._valueDefinitionStoreTooltip,F,["category","column"]);this.__setTreeStoreValues(this._valueDefinitionStoreGroupBy,F,["category","column","dimension"]);if(this._isDataModelSelected()){this._categoryCombo.expandDeep=1;this._valueCombo1.expandDeep=1;this._valueCombo2.expandDeep=1;this._yGroup.expandDeep=1;this._tooltipValue.expandDeep=1;}else{this._categoryCombo.expandDeep=null;this._valueCombo1.expandDeep=null;this._valueCombo2.expandDeep=null;this._yGroup.expandDeep=null;this._tooltipValue.expandDeep=null;}this._categoryCombo.refresh();this._valueCombo1.refresh();this._valueCombo2.refresh();this._yGroup.refresh();this._tooltipValue.refresh();this._categoryCombo.setValueById("none");this._valueCombo1.setValueById("none");this._valueCombo2.setValueById("none");this._yGroup.setValueById("none");this._tooltipValue.setValueById("default1");},storeUIData:function(B){var A=actuate.dialog.impl.helper.chartbuilder.RadarChartWoAxisDataTab.superclass.storeUIData.call(this);this._uiData.dataManagerSoap=A.dataManagerSoap;this._uiData.newDataMarts=A.newDataMarts;this._uiData.DataSet=A.DataSet;this._uiData.Cube=A.Cube;this._uiData.DataMarts=A.DataMarts;this._uiData.xAxisSeries={};this._uiData.xAxisSeries.name=this._getTreeComboValue(this._categoryCombo);this._uiData.xAxisSeries.isGroupOnX=this._isXGroupOn.getValue();this._uiData.keepCubeHierarchy=this._keepCubeHierarchy.getValue();if(this._isXGroupOn.getValue()){var C=this._queryTreeComboRecord(this._categoryCombo,this._getTreeComboValue(this._categoryCombo));var D=C?C.data.valueDefinitionType:"";if("date-time"==D||"datetime"==D||"date"==D||"time"==D){this._uiData.xAxisSeries.groupOn=this._xGroupOn.getValue();}}this._uiData.yAxisSeries=new Array();this._uiData.yAxisSeries[0]={};this._uiData.yAxisSeries[0].name=this._getTreeComboValue(this._valueCombo1);this._uiData.yAxisSeries[0].aggregate=this._agregateExpression1.getValue();this._uiData.yAxisSeries[0].groupOn=false;if(this._getTreeComboValue(this._yGroup)){var C=this._queryTreeComboRecord(this._valueCombo2,this._getTreeComboValue(this._yGroup));var E=C?C.data.valueDefinitionType:"";if("date-time"==E||"datetime"==E||"date"==E||"time"==E){this._uiData.yAxisSeries[0].groupUnit=this._yGroupOn.getValue();}}this._uiData.yAxisSeries[1]={};this._uiData.yAxisSeries[1].name=this._getTreeComboValue(this._valueCombo2);this._uiData.yAxisSeries[1].aggregate=this._agregateExpression2.getValue();this._uiData.yAxisSeries[1].groupOn=false;if(this._showTooltip.getValue()){this._uiData.tooltip={};this._uiData.tooltip.tooltip=this._getTreeComboValue(this._tooltipValue);}if(B==null){B={};}B.dataTab=this._uiData;this._uiData={};return B;},loadData:function(F){this._xGroupOn_items.hide();if(F.Element&&F.Element.iid){this._selectedIid=F.Element.iid;}else{this._selectedIid=null;}var I=[];if(F.DataMarts){this._data=F;this._clearControls();this.__showAllDataSources(null,F.newDataMarts);}if(F.DataSet&&F.DataSet.dataMart){this.__selectDataSource(F.DataSet,"dataset");this.__onSelectDataSource();}else{if(F.Cube&&F.Cube.dataMart){this.__selectDataSource(F.Cube,"cube");this.__onSelectDataSource();}else{this._tooltipValue.setSelectedIndex(0);}}this._eh_datasetComboChange();if(F.Filter){this._filter=F.Filter;}if(F.xAxisSeries){this.__setTreeComboValue(this._categoryCombo,this.convertExpression(F.xAxisSeries.name));this._isXGroupOn.setValue(F.xAxisSeries.isGroupOnX);if(F.xAxisSeries.isGroupOnX==true){var A=this._queryTreeComboRecord(this._categoryCombo,F.xAxisSeries.name);var D=A?A.data.valueDefinitionType:"";if("date-time"==D||"datetime"==D||"date"==D||"time"==D){this._eh_changeXGroupOn();var G=this._xGroupOnStore.query("value",F.xAxisSeries.groupOn).itemAt(0);if(G){this._xGroupOn.setValue(F.xAxisSeries.groupOn);}}}}if(F.tooltip){if(F.tooltip.tooltip!=undefined){this._showTooltip.setValue(true);this.__setTreeComboValue(this._tooltipValue,F.tooltip.tooltip);}else{this._showTooltip.setValue(false);}}if(F.yAxisSeries){var C=F.yAxisSeries;if(C){if(C[0]){this.__setTreeComboValue(this._valueCombo1,this.convertExpression(C[0].name));if(!C[0].aggregate){if(this._isXGroupOn.checked){this._agregateExpression1.setValue("Sum");this._agregateExpression1.setDisabled(false);}else{this._agregateExpression1.setValue("");this._agregateExpression1.setDisabled(true);}}else{if(C[0].name==""){this._agregateExpression1.setValue("Sum");}else{this._agregateExpression1.setValue(C[0].aggregate);}}if(C[0].groupOn){this.__setTreeComboValue(this._yGroup,this.convertExpression(C[0].groupOn));var A=this._queryTreeComboRecord(this._valueCombo1,C[0].groupOn);var B=A?A.data.valueDefinitionType:"";if("date-time"==B||"datetime"==B||"date"==B||"time"==B){this._eh_changeYGroupOn();var G=this._yGroupOnStore.query("value",C[0].groupUnit).itemAt(0);if(G){this._yGroupOn.setValue(C[0].groupUnit);}}}}if(C[1]&&C[1].name&&C[1].name!=""){this.__setTreeComboValue(this._valueCombo2,this.convertExpression(C[1].name));actuate.widget.ComponentMgr.get("allowMultipleValue").setValue(true);if(!C[1].aggregate){this._agregateExpression2.setValue("");this._agregateExpression2.setDisabled(true);}else{if(C[1].name==""){this._agregateExpression2.setValue("Sum");}else{this._agregateExpression2.setValue(C[1].aggregate);}}}else{actuate.widget.ComponentMgr.get("allowMultipleValue").setValue(false);this._valueCombo2.setValueById("none");this._valueCombo2.setDisabled(true);this._agregateExpression2.setValue("");this._agregateExpression2.setDisabled(true);}}}var E=null;if(F.Base!=null&&F.Base.copyHyperlink!=null){E=F.Base.copyHyperlink=="true"?true:false;}if(E==true){this._hyperlinkCheckbox.setValue(true);}else{if(E==false){this._hyperlinkCheckbox.setValue(false);}}if(F.dataManagerSoap){this._dataManagerSoap=F.dataManagerSoap;}var H=null;if(F.Base!=null&&F.Base.keepCubeHierarchy!=null){H=F.Base.keepCubeHierarchy?true:false;}else{if(F.keepCubeHierarchy!=null){H=F.keepCubeHierarchy?true:false;}}if(H==true){this._keepCubeHierarchy.setValue(true);}else{this._keepCubeHierarchy.setValue(false);}},_afterHide:function(){this._clearControls();this._dataManagerSoap=null;this._uiData={};},_clearControls:function(){this.__dataSourceCombo.clear();this.__clearFilter();this._dataManagerSoap=null;this._clearSubControls();this._agregateExpression1.setSelectedIndex(0);this._agregateExpression2.setSelectedIndex(0);this._hyperlinkCheckbox.setValue(true);this._hyperlinkCheckbox.setDisabled(false);actuate.widget.ComponentMgr.get("allowMultipleValue").setValue("false");this._selectedIid=null;this._keepCubeHierarchy.setValue(false);this.showCubeHierarchyOption(false);},_clearSubControls:function(){this._categoryCombo.clear();this._valueCombo1.clear();this._valueCombo2.clear();this._tooltipValue.clear();this._xGroupOn.clear();this._isXGroupOn.setDisabled(false);this._isXGroupOn.setValue(true);this._showTooltip.setValue(true);this._xGroupOn_items.hide();this._agregateExpression1.setDisabled(false);this._agregateExpression1.setSelectedIndex(0);this._agregateExpression2.setSelectedIndex(0);this._agregateExpression2.setDisabled(true);this._valueCombo2.setDisabled(true);this._yGroup.clear();this._yGroupOn.clear();this._yGroupOn_items.hide();actuate.widget.ComponentMgr.get("allowMultipleValue").setValue("false");},_changeFilterPanel:function(B){if(this._parentDialog._filterPanel){var C={};var A=this.__getSelectedDataSourceInfo();if(A){C.dataObject=[A[1],A[4],A[3]];C.dataObjectSoap=this.createDataSetSoap(A);C.dataMartSoap=this._dataManagerSoap;C.clearFilterUI=this._clearFilterUI;C.target="FlashCharts";}if(this._filter){C.Filter=this._filter;}this._parentDialog._filterPanel.loadData(C);}},_updateFilter:function(B,A){this._filterSoap=B;this._clearFilterUI=false;},_rightButtonClick:function(){var A=this._itemsTree.getSelectionModel().getSelectedNode();if(A&&!this._selectedList.contains(A.id)){this._selectedList.add([A.id,A.text]);if(A.nextSibling){A.nextSibling.select();}else{if(A.previousSibling){A.previousSibling.select();}}this._itemsTree.getRootNode().firstChild.removeChild(A);}},_leftButtonClick:function(){var A=this._selectedList.getSelectedIndex();if(A!=-1){var C=-1;if(this._selectedList.getValueAt(A+1)){C=A+1;}else{if(this._selectedList.getValueAt(A-1)){C=A-1;}}var B=this._selectedList.store[A];this._itemsTree.getRootNode().firstChild.appendChild({id:B[0],text:B[1]});this._selectedList.setSelectedIndex(C);this._selectedList.remove(B[0]);}},validate:function(){var B=this._isDataCubeSelected();var C=this._isDataSetSelected();if(!(B||C)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("flashGadgetBuilderDialog.alertTitle"),msg:actuate.util.Utility.getLocalizedString("common.dataTab.noDataSourceError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!this._getTreeComboValue(this._categoryCombo)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.noCategoryError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!this._getTreeComboValue(this._valueCombo1)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.noSelectedValueError"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._valueCombo1))){var A=this._getFieldDataType(this._getTreeComboValue(this._valueCombo1));if(!(A=="integer"||A=="float"||A=="decimal")&&this._isXGroupOn.checked&&!(this._agregateExpression1.getValue()=="Count"||this._agregateExpression1.getValue()=="DistinctCount")){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(A=="integer"||A=="float"||A=="decimal")&&!this._isXGroupOn.checked){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}if(actuate.widget.ComponentMgr.get("allowMultipleValue").getValue()){if(!this._getTreeComboValue(this._valueCombo2)){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.noSelectedValue2Error"),buttons:actuate.widget.MessageBox.OK});return false;}else{if(!this.isExpression(this._getTreeComboValue(this._valueCombo2))){var A=this._getFieldDataType(this._getTreeComboValue(this._valueCombo2));if(!(A=="integer"||A=="float"||A=="decimal")&&this._isXGroupOn.checked&&!(this._agregateExpression2.getValue()=="Count"||this._agregateExpression2.getValue()=="DistinctCount")){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}if(!(A=="integer"||A=="float"||A=="decimal")&&!this._isXGroupOn.checked){actuate.widget.MessageBox.show({title:actuate.util.Utility.getLocalizedString("chartBuilder.alertTitle"),msg:actuate.util.Utility.getLocalizedString("chartBuilder.yAggregationError"),buttons:actuate.widget.MessageBox.OK});return false;}}}}return true;},_getFieldDataType:function(K){var J=this.__getSelectedDataSourceInfo();if(J){var A=J[1].dimensions;if(A){for(var H=0;H<A.length;H++){var L=A[H].levels;if(L){for(var G=0;G<L.length;G++){if(L[G].dataType=="integer"&&L[G].attributes&&L[G].attributes.length>0){for(var D=0;D<L[G].attributes.length;D++){var E=L[G].attributes[D];if(E&&E.name=="DateTime"&&(E.dataType=="date"||E.dataType=="time"||E.dataType=="datetime"||E.dataType=="date-time")){if('data["'+E.fullName+'"]'==K){return E.dataType;}}}}if('data["'+L[G].fullName+'"]'==K){return L[G].dataType;}}}}}var C=J[1].measures;if(C){for(var H=0;H<C.length;H++){var I=C[H].measures;if(I){for(var G=0;G<I.length;G++){if('data["'+C[H].name+"/"+I[G].name+'"]'==K){return I[G].dataType;}}}}}var F=J[1].columns;if(F){for(var H=0;H<F.length;H++){var B=F[H].name;if(F[H].type=="attribute"){B=F[H].fullName;}if('row["'+B+'"]'==K){return F[H].dataType;}}}}return"";},_getFieldDispalyName:function(I){var H=this.__getSelectedDataSourceInfo();if(H){var A=H[1].dimensions;if(A){for(var F=0;F<A.length;F++){var J=A[F].levels;if(J){for(var E=0;E<J.length;E++){if('data["'+J[E].fullName+'"]'==I){return J[E].displayName;}}}}}var C=H[1].measures;if(C){for(var F=0;F<C.length;F++){var G=C[F].measures;if(G){for(var E=0;E<G.length;E++){if('data["'+C[F].name+"/"+G[E].name+'"]'==I){return G[E].displayName;}}}}}var D=H[1].columns;if(D){for(var F=0;F<D.length;F++){var B=D[F].name;if(D[F].type=="attribute"){B=D[F].fullName;}if('row["'+B+'"]'==I){return D[F].displayName;}}}}return"";},createDataSetSoap:function(){var F=actuate.util.XmlDom.createXMLDom(actuate.util.Constants.soap.NAMESPACE_ACTUATE10,actuate.Constant.tag.Data);var G=this.__getSelectedDataSourceInfo();if(G){var D=G[0];var J=G[1].name;var H=G[2];}if(G[1].dimensions){E=actuate.util.XmlDom.createElement(F,"Cube");var B=actuate.util.XmlDom.createElement(F,"Name");var C=F.createTextNode(J);B.appendChild(C);E.appendChild(B);}else{var E=actuate.util.XmlDom.createElement(F,"DataSetDef");var B=actuate.util.XmlDom.createElement(F,"Name");var C=F.createTextNode(J);B.appendChild(C);E.appendChild(B);}var A=actuate.util.XmlDom.createElement(F,"DataSource");if(D){var K=actuate.util.XmlDom.createElement(F,"DisplayName");K.appendChild(F.createTextNode(D));A.appendChild(K);}var I=actuate.util.XmlDom.createElement(F,"DataMartName");C=F.createTextNode(H);I.appendChild(C);A.appendChild(I);E.appendChild(A);return E;},createSoapNode:function(T,H){if(H){if(this._selectedIid){H.documentElement.setAttribute("iid",this._selectedIid);}var p=actuate.util.XmlDom.createElement(H,"DataBinding");var V=actuate.util.XmlDom.createElement(H,"X-axis");var h=actuate.util.XmlDom.createElement(H,"DataMartData");V.appendChild(h);var W=actuate.util.XmlDom.createElement(H,"DataField");var O=H.createTextNode(this._getTreeComboValue(this._categoryCombo));W.appendChild(O);h.appendChild(W);var L=actuate.util.XmlDom.createElement(H,"DataType");var O=H.createTextNode(this._getFieldDataType(this._getTreeComboValue(this._categoryCombo)));L.appendChild(O);h.appendChild(L);var b=actuate.util.XmlDom.createElement(H,"DisplayName");var O=H.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._categoryCombo)));b.appendChild(O);h.appendChild(b);p.appendChild(V);var I=actuate.util.XmlDom.createElement(H,"Y-axis");var h=actuate.util.XmlDom.createElement(H,"DataMartData");I.appendChild(h);var W=actuate.util.XmlDom.createElement(H,"DataField");var O=H.createTextNode(this._getTreeComboValue(this._valueCombo1));W.appendChild(O);h.appendChild(W);var L=actuate.util.XmlDom.createElement(H,"DataType");var O=H.createTextNode(this._getFieldDataType(this._getTreeComboValue(this._valueCombo1)));L.appendChild(O);h.appendChild(L);var b=actuate.util.XmlDom.createElement(H,"DisplayName");var O=H.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._valueCombo1)));b.appendChild(O);h.appendChild(b);if(!this._agregateExpression1.disabled&&this._agregateExpression1.getValue()!=null&&this._agregateExpression1.getValue().length>0){var c=actuate.util.XmlDom.createElement(H,"Aggregate");var m=actuate.util.XmlDom.createElement(H,"Func");var O=H.createTextNode(this._agregateExpression1.getValue());m.appendChild(O);c.appendChild(m);h.appendChild(c);}p.appendChild(I);var I=actuate.util.XmlDom.createElement(H,"Y-axis");var h=actuate.util.XmlDom.createElement(H,"DataMartData");I.appendChild(h);var W=actuate.util.XmlDom.createElement(H,"DataField");var O=H.createTextNode(this._getTreeComboValue(this._valueCombo2));W.appendChild(O);h.appendChild(W);var L=actuate.util.XmlDom.createElement(H,"DataType");var O=H.createTextNode(this._getFieldDataType(this._getTreeComboValue(this._valueCombo2)));L.appendChild(O);h.appendChild(L);var b=actuate.util.XmlDom.createElement(H,"DisplayName");var O=H.createTextNode(this._getFieldDispalyName(this._getTreeComboValue(this._valueCombo2)));b.appendChild(O);h.appendChild(b);if(!this._agregateExpression2.disabled&&this._agregateExpression2.getValue()!=null&&this._agregateExpression2.getValue().length>0){var c=actuate.util.XmlDom.createElement(H,"Aggregate");var m=actuate.util.XmlDom.createElement(H,"Func");var O=H.createTextNode(this._agregateExpression2.getValue());m.appendChild(O);c.appendChild(m);h.appendChild(c);}p.appendChild(I);var l=this.__getSelectedDataSourceInfo();var S=l[0];var E=l[2];if(l[1].dimensions){var Q=actuate.util.XmlDom.createElement(H,"CubeName");var O=H.createTextNode(l[1].name);Q.appendChild(O);p.appendChild(Q);}if(l[1].columns){var Q=actuate.util.XmlDom.createElement(H,"DataSetName");var O=H.createTextNode(l[1].name);Q.appendChild(O);p.appendChild(Q);}var q=actuate.util.XmlDom.createElement(H,"ShowTooltip");var k=H.createTextNode(this._showTooltip.checked?"true":"false");q.appendChild(k);p.appendChild(q);var f=actuate.util.XmlDom.createElement(H,"TooltipValue");var h=actuate.util.XmlDom.createElement(H,"DataMartData");f.appendChild(h);var W=actuate.util.XmlDom.createElement(H,"DataField");var O=H.createTextNode(this._getTreeComboValue(this._tooltipValue));W.appendChild(O);h.appendChild(W);var L=actuate.util.XmlDom.createElement(H,"DataType");var d="";if(this._getTreeComboValue(this._tooltipValue)=="categoryData"){d=this._getFieldDataType(this._getTreeComboValue(this._categoryCombo));}else{if(this._getTreeComboValue(this._tooltipValue)=="valueSeriesName"){}else{if(this._getTreeComboValue(this._tooltipValue)=="valueData"){d=this._getFieldDataType(this._getTreeComboValue(this._valueCombo1));}else{d=this._getFieldDataType(this._getTreeComboValue(this._tooltipValue));}}}var O=H.createTextNode(d);L.appendChild(O);h.appendChild(L);p.appendChild(f);var U;var N=T.getElementsByTagName(actuate.Constant.tag.Apperance);if(N==null||N.length==0){U=actuate.util.XmlDom.createElement(H,actuate.Constant.tag.Apperance);T.appendChild(U);}else{U=N[0];}if(S){var g=actuate.util.XmlDom.createElement(H,"DataSourceName");var O=H.createTextNode(S);g.appendChild(O);p.appendChild(g);}var a=actuate.util.XmlDom.createElement(H,"DataMartName");var O=H.createTextNode(E);a.appendChild(O);T.appendChild(a);var n=l[4];if(n){var A=(n.toLowerCase()=="data")?actuate.dialog.impl.constant.DataMartAccessType.LATEST:actuate.dialog.impl.constant.DataMartAccessType.TRANSIENT;var R=actuate.util.XmlDom.createElement(H,"DataMartAccessType");R.appendChild(H.createTextNode(A));T.appendChild(R);}var U;var N=T.getElementsByTagName(actuate.Constant.tag.Apperance);if(N==null||N.length==0){U=actuate.util.XmlDom.createElement(H,actuate.Constant.tag.Apperance);T.appendChild(U);}else{U=N[0];}var j=actuate.util.XmlDom.createElement(H,"GroupingAtX");var O=H.createTextNode(this._isXGroupOn.checked?"true":"false");j.appendChild(O);U.appendChild(j);if(this._isXGroupOn.checked){var D=actuate.util.XmlDom.createElement(H,"XGroupingOn");var O=H.createTextNode(this._xGroupOn.getValue());D.appendChild(O);U.appendChild(D);}var X=actuate.util.XmlDom.createElement(H,"YAxes");U.appendChild(X);var e=actuate.util.XmlDom.createElement(H,"YAxis");X.appendChild(e);var J=actuate.util.XmlDom.createElement(H,"GroupingAtY");var O=H.createTextNode(this._getTreeComboValue(this._yGroup)?"true":"false");J.appendChild(O);U.appendChild(J);e.appendChild(J);var Z=actuate.util.XmlDom.createElement(H,"YGroupingOn");var O=H.createTextNode(this._getTreeComboValue(this._yGroup));Z.appendChild(O);U.appendChild(Z);e.appendChild(Z);var P=actuate.util.XmlDom.createElement(H,"YGroupingUnit");var O=H.createTextNode(this._yGroupOn.getValue());P.appendChild(O);U.appendChild(P);e.appendChild(P);T.appendChild(p);}this.__addFilterSoap(H.documentElement);var M=actuate.util.XmlDom.createElement(H,actuate.Constant.tag.Json);H.documentElement.appendChild(M);if(this._dataManagerSoap!=null&&this._dataManagerSoap.childNodes){var K=this._dataManagerSoap.childNodes[0].data;var Y=K.substr(0,K.length-1)+",";var o=H.createTextNode(Y);M.appendChild(o);}if(this._keepCubeHierarchy.disabled==false){var F=actuate.util.Json;var i="KeepCubeHierarchy:";if(M.childNodes.length==0){i="{KeepCubeHierarchy:";}var G={};G.value=this._keepCubeHierarchy.getValue().toString();i+=F.makeMap(G)+",";var B=H.createTextNode(i);M.appendChild(B);}if(this._hyperlinkCheckbox.disabled==false){var F=actuate.util.Json;var i="UseHyperlink:";if(M.childNodes.length==0){i="{UseHyperlink:";}var G={};G.value=this._hyperlinkCheckbox.getValue().toString();i+=F.makeMap(G)+"}";var C=H.createTextNode(i);M.appendChild(C);}else{var i=null;if(M.childNodes.length!=0){i="}";}else{i="{}";}var C=H.createTextNode(i);M.appendChild(C);}},getDataSelection:function(){var A=this.__getSelectedDataSourceInfo();if(A&&A[1]){return{dataSourceName:A[1].name,type:A[3].type};}return null;},setAggrExprVisibility:function(A){if(A){this._agregateExpression1.show();this._agregateExpression2.show();this._aggrExprLabel.show();}else{this._agregateExpression1.hide();this._agregateExpression2.hide();this._aggrExprLabel.hide();}},showCubeHierarchyOption:function(A){if(A){this._keepCubeHierarchy.show();}else{this._keepCubeHierarchy.hide();}},__addDataIntoTreeStore:function(C,A){if(A&&C&&!(C.value&&C.value.dataType=="blob")){if(A==this._valueDefinitionStore){var B=C.value;if(B&&B.type=="column"&&this._isSummaryTable&&!B.isDimension){return ;}}C.valueDefinitionValue=C;C.valueDefinitionText=C.text;C.valueDefinitionType=this._getDataType(C);C.title=this._getTooltip(C);C.dimension=this._getDimension(C);C.hasAction=this._hasAction(C);C.isDimension=this._isDimension(C);C.disabled=this._isDisabled(C,A);A.add(new A.recordType(C,C.id));}},_isDisabled:function(B,A){if(actuate.dialog.impl.helper.chartbuilder.RadarChartWoAxisDataTab.superclass._isDisabled.apply(this,arguments)){return true;}if(this._isSummaryTable&&B.type=="column"){if(A==this._valueDefinitionStore){return !B.isDimension;}else{if(A==this._valueDefinitionStore1||A==this._valueDefinitionStore2){return B.isDimension;}}}return false;},_getTreeComboValueByRecord:function(B){var A;if(B){A=B.value;}if(B&&B.value&&B.value.type){var E=B.value;switch(E.type){case"attribute":var F=E.fullName;if(F){F=F.replace(/\"/g,'\\"');A='row["'+F+'"]';}break;case"column":var C=E.name;if(C){C=C.replace(/\"/g,'\\"');A='row["'+C+'"]';}break;case"level":if(E.dataType!="blob"){levelFullName=E.fullName;if(E.dataType=="integer"&&E.attributes&&E.attributes.length>0){for(var G=0;G<E.attributes.length;G++){var D=E.attributes[G];if(D&&D.name=="DateTime"&&(D.dataType=="date"||D.dataType=="time"||D.dataType=="datetime"||D.dataType=="date-time")){levelFullName=D.fullName;break;}}}A='data["'+levelFullName+'"]';}break;case"measure":if(E.dataType!="blob"){A='data["'+E.groupName+"/"+E.name+'"]';}break;default:A=E.name;break;}}return A;},_eh_onBeforeSelect:function(B,A){if(A&&A.data&&A.data.valueDefinitionValue){return actuate.dialog.impl.helper.chartbuilder.RadarChartWoAxisDataTab.superclass._eh_onBeforeSelect.call(this,B,A.data.valueDefinitionValue.node);}return true;}});