actuate.util.Package.define("actuate.dialog.impl.helper");actuate.dialog.impl.helper.ChartFilterDialog=actuate.Class.create();actuate.dialog.impl.helper.ChartFilterDialog.superclass=actuate.dialog.impl.helper.AbstractIVDialog.prototype;actuate.dialog.impl.helper.ChartFilterDialog.prototype=actuate.Class.extend(new actuate.dialog.impl.helper.AbstractIVDialog(),{_classname:"actuate.dialog.ChartFilterDialog",_width:368,_filterText:"",_htmlElements:{"_chartfilterBy":null,"_chartAdvancedFilterButton":null,"_filterClearLink":null,"_chartcondition":null,"_chartvalue1":null,"_charttextValue1Div":null,"_chartvalue1InputDiv":null,"_chartvalue1Text":null,"_ChartListSelectedValues":null,"_ChartDateImg1":null,"_chartAnyOfListValuesDiv":null,"_chartAnyOfListValuesLink":null,"_chartAnyOfDeleteValuesLink":null,"_chartvalue2":null,"_charttextValue2Div":null,"_chartvalue2InputDiv":null,"_chartvalue2Text":null,"_ChartDateImg2":null,"_chartSelectValuesLink1":null,"_chartSelectValuesLabel1":null,"_chartSelectValuesLink2":null,"_chartSelectValuesLabel2":null,"_chartSelectValuesDiv":null,"_chartFilterText":null,"_chartFindButton":null,"_FindRow":null,"_chartValuesList":null,"_labelPipe":null,"_ChartCalendar":null,"_chartDateTimeFormatDiv":null,"_previous":null,"_next":null,"_filterTextLabel":null},filter:null,boundDataColsList:null,whichDataType:null,initialize:function(){var B=this._getId(this._classname);this._applyHtmlElementsNames(B);actuate.dialog.impl.helper.AbstractIVDialog.prototype.initialize.call(this,B);this.columnName=null;this.data=null;this.whichButton=null;this.boundDataColsList;this.whichDataType;this.filters;this.clearFilterFlag="false";this.valuesLoadedFlag="false";this.textValue=actuate.util.Utility.getLocalizedString("filterDialog.text.value");this.textValueTo=actuate.util.Utility.getLocalizedString("filterDialog.text.valueTo");this.textValueFrom=actuate.util.Utility.getLocalizedString("filterDialog.text.valueFrom");this.textDateValue=actuate.util.Utility.getLocalizedString("filterDialog.text.dateValue");this.textDateValueTo=actuate.util.Utility.getLocalizedString("filterDialog.text.dateValueTo");this.textDateValueFrom=actuate.util.Utility.getLocalizedString("filterDialog.text.dateValueFrom");this.idDateImg1=document.getElementById(this._htmlElements["_ChartDateImg1"]);this.idDateImg2=document.getElementById(this._htmlElements["_ChartDateImg2"]);this.idCalendar=document.getElementById(this._htmlElements["_ChartCalendar"]);this.value1Text=new actuate.uiadapter.TextField({cls:"valueTextBox "+actuate.dialog.impl.constant.CSS_INPUTBOX});this.value1Text.render(this._htmlElements["_chartvalue1InputDiv"]);this.value2Text=new actuate.uiadapter.TextField({cls:"valueTextBox "+actuate.dialog.impl.constant.CSS_INPUTBOX});this.value2Text.render(this._htmlElements["_chartvalue2InputDiv"]);this.value1Text.registerEventHandler("mouseover",actuate.Method.bind(this.__neh_value1Change,this),false);this.value2Text.registerEventHandler("mouseover",actuate.Method.bind(this.__neh_value2Change,this),false);this.__neh_CalendarClick1_c=actuate.Method.bind2(this.__neh_CalendarClick,this,this.value1Text);actuate.util.Event.observe(this.idDateImg1,"click",this.__neh_CalendarClick1_c,false);this.__neh_CalendarClick2_c=actuate.Method.bind2(this.__neh_CalendarClick,this,this.value2Text);actuate.util.Event.observe(this.idDateImg2,"click",this.__neh_CalendarClick2_c,false);this.textValue1Div=document.getElementById(this._htmlElements["_charttextValue1Div"]);this.textValue2Div=document.getElementById(this._htmlElements["_charttextValue2Div"]);this.value1InputDiv=document.getElementById(this._htmlElements["_chartvalue1InputDiv"]);this.value2InputDiv=document.getElementById(this._htmlElements["_chartvalue2InputDiv"]);this.idValue1=document.getElementById(this._htmlElements["_chartvalue1"]);this.idValue2=document.getElementById(this._htmlElements["_chartvalue2"]);this.idFilterByDiv=document.getElementById(this._htmlElements["_chartfilterBy"]);this.idFilterBy=new actuate.uiadapter.ComboBox({editable:false,width:220});this.idFilterBy.render(this.idFilterByDiv);this.__neh_FilterByChange_c=actuate.Method.bind(this.__neh_FilterByChange,this);this.idFilterBy.registerEventHandler("select",this.__neh_FilterByChange_c);this.condition=new actuate.uiadapter.ComboBox({editable:false,width:220});this.condition.render(this._htmlElements["_chartcondition"]);this.__neh_changeCondition_c=actuate.Method.bind(this.__neh_changeCondition,this);this.condition.registerEventHandler("select",this.__neh_changeCondition_c);this.idSelectValuesDiv=document.getElementById(this._htmlElements["_chartSelectValuesDiv"]);this.idSelectValuesLink1=document.getElementById(this._htmlElements["_chartSelectValuesLink1"]);this.idSelectValuesLink2=document.getElementById(this._htmlElements["_chartSelectValuesLink2"]);this.idSelectValuesLabel1=document.getElementById(this._htmlElements["_chartSelectValuesLabel1"]);this.idSelectValuesLabel2=document.getElementById(this._htmlElements["_chartSelectValuesLabel2"]);actuate.util.Event.observe(this.idSelectValuesLink1,"click",actuate.Method.bind(this._neh_SelectValuesLink1,this),false);actuate.util.Event.observe(this.idSelectValuesLink2,"click",actuate.Method.bind(this._neh_SelectValuesLink2,this),false);this.idFilterText=new actuate.uiadapter.TextField({cls:"valueTextBox "+actuate.dialog.impl.constant.CSS_INPUTBOX,name:"filterText"});this.idFilterText.render(this._htmlElements["_chartFilterText"]);this.idFindButton=new actuate.uiadapter.Button({text:actuate.util.Utility.getLocalizedString("filterDialog.text.find")});this.idFindButton.render(this._htmlElements["_chartFindButton"]);this.idValuesListDiv=document.getElementById(this._htmlElements["_chartValuesList"]);this.idFilterTextLabel=document.getElementById(this._htmlElements["_filterTextLabel"]);this.idFindRow=document.getElementById(this._htmlElements["_FindRow"]);this.idValuesList=new actuate.uiadapter.ListBox({width:220,height:100,renderTo:this.idValuesListDiv});this.idListSelectedValuesDiv=document.getElementById(this._htmlElements["_ChartListSelectedValues"]);this.idListSelectedValues=new actuate.uiadapter.ListBox({width:180,height:50,enableKeyEvents:true,renderTo:this.idListSelectedValuesDiv});var A=this;this.idListSelectedValues.registerEventHandler("keyup",function(D,C){if(C.stopPropagation){C.stopPropagation();}else{C.cancelBubble=true;}if(C.keyCode==C.DELETE){A._neh_DeleteValuesLink();}C.preventDefault();});this.__neh_ListSelectedValuesFocus_c=actuate.Method.bind(this.__neh_ListSelectedValuesFocus,this);this.idListSelectedValues.registerEventHandler("click",this.__neh_ListSelectedValuesFocus_c);this.__neh_FindClick_c=actuate.Method.bind(this.__neh_FindClick,this);this.idFindButton.registerEventHandler("click",this.__neh_FindClick_c,false);this.__neh_ListClick_c=actuate.Method.bind(this.__neh_ListClick,this);this.idValuesList.registerEventHandler("select",this.__neh_ListClick_c);this.__neh_FilterTextChange_c=actuate.Method.bind(this.__neh_FilterTextChange,this);this.idFilterText.registerEventHandler("keypress",this.__neh_FilterTextChange_c,false);this.idAdvancedFilterLink=document.getElementById(this._htmlElements["_chartAdvancedFilterButton"]);actuate.util.Event.observe(this.idAdvancedFilterLink,"click",actuate.Method.bind(this._neh_AdvancedButtonClick,this),false);this.idLabelPipe=document.getElementById(this._htmlElements["_labelPipe"]);actuate.util.Event.observe(document.getElementById(this._htmlElements["_filterClearLink"]),"click",actuate.Method.bind(this._neh_clearFilterLink,this),false);this.textEq=actuate.util.Utility.getLocalizedString("filterDialog.text.Eq");this.textNe=actuate.util.Utility.getLocalizedString("filterDialog.text.Ne");this.textLt=actuate.util.Utility.getLocalizedString("filterDialog.text.Lt");this.textLe=actuate.util.Utility.getLocalizedString("filterDialog.text.Le");this.textGt=actuate.util.Utility.getLocalizedString("filterDialog.text.Gt");this.textGe=actuate.util.Utility.getLocalizedString("filterDialog.text.Ge");this.textBetween=actuate.util.Utility.getLocalizedString("filterDialog.text.Between");this.textNotbetween=actuate.util.Utility.getLocalizedString("filterDialog.text.Notbetween");this.textIsnull=actuate.util.Utility.getLocalizedString("filterDialog.text.Isnull");this.textIsnotnull=actuate.util.Utility.getLocalizedString("filterDialog.text.Isnotnull");this.textIstrue=actuate.util.Utility.getLocalizedString("filterDialog.text.Istrue");this.textIsfalse=actuate.util.Utility.getLocalizedString("filterDialog.text.Isfalse");this.textLike=actuate.util.Utility.getLocalizedString("filterDialog.text.Like");this.textNotLike=actuate.util.Utility.getLocalizedString("filterDialog.text.NotLike");this.textIn=actuate.util.Utility.getLocalizedString("filterDialog.text.In");this.textNotIn=actuate.util.Utility.getLocalizedString("filterDialog.text.NotIn");this.noCondition=actuate.util.Utility.getLocalizedString("filterDialog.text.NoFilterCondition");this.conditionEq=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_EQ;this.conditionNe=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_NE;this.conditionLt=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_LT;this.conditionLe=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_LE;this.conditionGt=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_GT;this.conditionGe=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_GE;this.conditionBetween=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_BETWEEN;this.conditionNotbetween=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_NOT_BETWEEN;this.conditionIsnull=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_NULL;this.conditionIsnotnull=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_NOT_NULL;this.conditionIstrue=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_TRUE;this.conditionIsfalse=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_FALSE;this.conditionLike=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_LIKE;this.conditionNotLike=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_NOT_LIKE;this.conditionTopn=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_TOP_N;this.conditionBottomn=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_BOTTOM_N;this.conditionToppercent=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_TOP_PERCENT;this.conditionBottompercent=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_BOTTOM_PERCENT;this.conditionIn=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_IN_NEW;this.conditionNotIn=actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_NOT_IN_NEW;this._operatorMap=[];this._operatorMap[this.conditionEq]=this.textEq;this._operatorMap[this.conditionNe]=this.textNe;this._operatorMap[this.conditionLt]=this.textLt;this._operatorMap[this.conditionLe]=this.textLe;this._operatorMap[this.conditionGt]=this.textGt;this._operatorMap[this.conditionGe]=this.textGe;this._operatorMap[this.conditionBetween]=this.textBetween;this._operatorMap[this.conditionNotBetween]=this.textNotbetween;this._operatorMap[this.conditionIsnull]=this.textIsnull;this._operatorMap[this.conditionIsnotnull]=this.textIsnotnull;this._operatorMap[this.conditionIstrue]=this.textIstrue;this._operatorMap[this.conditionIsfalse]=this.textIsfalse;this._operatorMap[this.conditionIsLike]=this.textIsLike;this._operatorMap[this.conditionIsNotLike]=this.textIsNotLike;this._operatorMap[this.conditionIn]=this.textIn;this._operatorMap[this.conditionNotIn]=this.textNotIn;this.MsgNoBlankValue=actuate.util.Utility.getLocalizedString("filterDialog.text.MsgNoBlankValue");this.MsgNumeric=actuate.util.Utility.getLocalizedString("filterDialog.text.MsgNumeric");this.MsgMissingQuotes=actuate.util.Utility.getLocalizedString("filterDialog.text.MsgMissingQuotes");this.cal=document.getElementById("outerCalendarDiv");this.ListSelectedValuesCount=null;this.FocusAfterCalendarFlag=false;this.idAnyOfListValuesLink=document.getElementById(this._htmlElements["_chartAnyOfListValuesLink"]);actuate.util.Event.observe(this.idAnyOfListValuesLink,"click",actuate.Method.bind(this._neh_AnyOfSelectValuesLink,this),false);this.idAnyOfDeleteValuesLink=document.getElementById(this._htmlElements["_chartAnyOfDeleteValuesLink"]);actuate.util.Event.observe(this.idAnyOfDeleteValuesLink,"click",actuate.Method.bind(this._neh_DeleteValuesLink,this),false);this.idAnyOfListValuesDiv=document.getElementById(this._htmlElements["_chartAnyOfListValuesDiv"]);this.idDateTimeFormatDiv=document.getElementById(this._htmlElements["_chartDateTimeFormatDiv"]);this.idPrevious=document.getElementById(this._htmlElements["_previous"]);this.idNext=document.getElementById(this._htmlElements["_next"]);this._previousClick_c=actuate.Method.bind(this._previousClick,this);actuate.util.Event.observe(this.idPrevious,"click",this._previousClick_c,false);this._nextClick_c=actuate.Method.bind(this._nextClick,this);actuate.util.Event.observe(this.idNext,"click",this._nextClick_c,false);this._rowCount=0;this._prevCursor=-1;this._currCursor=-1;this._endOfResultset=false;this.filterList=new actuate.data.FilterLists();this.ivFilter=new actuate.data.Filters();},_localBind:function(C,E){if(E){this.showAdvancedFilterLink("true");}else{this.showAdvancedFilterLink("false");}if(!C){return ;}var D=C.selectedBinding||C.Binding;var B=C.Filter&&C.Filter.hasAggregation;if(D&&(D.isLinkedDataModel||D.isSubQuery)&&(B||D.isAggregation)){this.showAdvancedFilterLink(false);}this.data=C;if(this.whichButton==null){this.resetValues();this._showFilter(C);var A=this.getOperatorAry(this.condition.getValue());A=(this._isColumnInResultSet()===false)?0:A;this._showSelectValuesLinks(A);}else{if(this.whichButton!=null){this.showData(C);}}this.adjustSize();},_previousClick:function(){if(this.idPrevious.className=="link_disabled"){return ;}if(this._prevCursor>0){if(this.idFilterText.getValue()!=this._filterText){this.__neh_FindClick(null);return ;}var A={name:"FilterText",value:this.idFilterText.getValue()};var C={name:"target",value:this._classname};var D={name:"prevCursor",value:this._prevCursor};var B=[A,C,D];this._showHideFindRow();this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_MOREVALUES_FILTER,B);}},_nextClick:function(){if(this.idNext.className=="link_disabled"){return ;}if(this.idFilterText.getValue()!=this._filterText){this.__neh_FindClick(null);return ;}var A={name:"FilterText",value:this.idFilterText.getValue()};var C={name:"target",value:this._classname};var D={name:"currCursor",value:this._currCursor};var B=[A,C,D];this._showHideFindRow();this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_MOREVALUES_FILTER,B);},showHideDateTimeFormatDiv:function(){var B="";this.idDateTimeFormatDiv.style.display="none";var A=this.whichDataType();if(A==actuate.Constant.DataType.DATE){B=actuate.util.Utility.getLocalizedString("filterDialog.text.dateFormatMsg")+" "+actuate.util.Utility.toDate(new Date());this.idDateTimeFormatDiv.style.display="block";}else{if(A==actuate.Constant.DataType.TIME){B=actuate.util.Utility.getLocalizedString("filterDialog.text.timeFormatMsg")+" "+actuate.util.Utility.toTime(new Date());this.idDateTimeFormatDiv.style.display="block";}else{if(A==actuate.Constant.DataType.DATETIME){B=actuate.util.Utility.getLocalizedString("filterDialog.text.dateTimeFormatMsg")+" "+actuate.util.Utility.toDateTime(new Date());this.idDateTimeFormatDiv.style.display="block";}}}this.idDateTimeFormatDiv.innerHTML=B;},_okPress:function(){if(this.idFilterBy.getValue()==null){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("filterDialog.text.NoColumnBindings"));return ;}if(this.condition.getValue()=="clear"){this.__neh_clearFilter();this._hide();}else{var C=this.getOperatorAry(this.condition.getValue());if(this.value1Text.getValue()!=null&&this.value1Text.getValue()!=""){var B=this.value1Text.getValue();if(B.charAt(0)=='"'&&B.charAt(B.length-1)!='"'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgMissingQuotes);return ;}else{if(B.charAt(0)!='"'&&B.charAt(B.length-1)=='"'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgMissingQuotes);return ;}}}if(this.value2Text.getValue()!=null&&this.value2Text.getValue()!=""){var B=this.value2Text.getValue();if(B.charAt(0)=='"'&&B.charAt(B.length-1)!='"'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgMissingQuotes);return ;}else{if(B.charAt(0)!='"'&&B.charAt(B.length-1)=='"'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgMissingQuotes);return ;}}}var A=this.whichDataType();if(C==0){this.value1Text.setValue("");this.value2Text.setValue("");this.idListSelectedValues.clear();}else{if(C==1&&(A!="string"||this.isNumericTypeCondition())){if(this.value1Text.getValue()=='""'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgNoBlankValue);return ;}this.value2Text.setValue("");this.idListSelectedValues.clear();}else{if(C==2&&A!="string"){if(this.value1Text.getValue()==""||this.value1Text.getValue()==null||this.value1Text.getValue()=='""'||this.value2Text.getValue()==""||this.value2Text.getValue()==null||this.value2Text.getValue()=='""'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgNoBlankValue);return ;}this.idListSelectedValues.clear();}else{if(C==3){if(this.idListSelectedValues.getLength()==0){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgNoBlankValue);return ;}this.value1Text.setValue("");this.value2Text.setValue("");}}}}var A=this.whichDataType();if(actuate.util.Utility.isDateDataType(A)&&this.condition.getValue()!=this.conditionTopn&&this.condition.getValue()!=this.conditionBottomn){if(this.value1Text.getValue()!=null&&this.value1Text.getValue()!=""){var B=this.value1Text.getValue();if(B.charAt(0)=='"'&&B.charAt(B.length-1)!='"'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgMissingQuotes);return ;}else{if(B.charAt(0)!='"'&&B.charAt(B.length-1)=='"'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgMissingQuotes);return ;}}}if(this.value2Text.getValue()!=null&&this.value2Text.getValue()!=""){var B=this.value2Text.getValue();if(B.charAt(0)=='"'&&B.charAt(B.length-1)!='"'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgMissingQuotes);return ;}else{if(B.charAt(0)!='"'&&B.charAt(B.length-1)=='"'){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,this.MsgMissingQuotes);return ;}}}}this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_APPLYFILTER,this.htmlId);this.whichButton=null;this._hide();}},isNumericTypeCondition:function(){if(this.condition.getValue()==this.conditionTopn||this.condition.getValue()==this.conditionBottomn||this.condition.getValue()==this.conditionToppercent||this.condition.getValue()==this.conditionBottompercent){return true;}return false;},__getHelpTopic:function(){return"iv_filter";},_preHide:function(){this.whichButton=null;this.filterList.clearFilterList();this.idFilterBy.collapse();this.condition.collapse();this.idSelectValuesDiv.style.display="none";},resetValues:function(){this.whichButton=null;this.idValuesList.clear();this.idFilterText.setValue("");this.valuesLoadedFlag="false";this.clearFilterFlag="false";this._rowCount=0;this._prevCursor=-1;this._currCursor=-1;this._endOfResultset=false;this.showHideCalendarDiv(false);this.idListSelectedValues.clear();},loadConditions:function(B){var A=[];var C=actuate.util.Utility.isNumber(B);var D=actuate.util.Utility.isDateDataType(B);var E=(B==actuate.Constant.DataType.BOOLEAN);if(E){A.push([this.conditionIstrue,this.textIstrue]);A.push([this.conditionIsfalse,this.textIsfalse]);}else{A.push([this.conditionEq,this.textEq]);A.push([this.conditionNe,this.textNe]);A.push([this.conditionLt,this.textLt]);A.push([this.conditionLe,this.textLe]);A.push([this.conditionGt,this.textGt]);A.push([this.conditionGe,this.textGe]);A.push([this.conditionBetween,this.textBetween]);A.push([this.conditionNotbetween,this.textNotbetween]);}A.push([this.conditionIsnull,this.textIsnull]);A.push([this.conditionIsnotnull,this.textIsnotnull]);if(!E&&!C&&!D){A.push([this.conditionLike,this.textLike]);A.push([this.conditionNotLike,this.textNotLike]);}A.push([this.conditionIn,this.textIn]);A.push([this.conditionNotIn,this.textNotIn]);if(C){A.push([this.conditionIstrue,this.textIstrue]);A.push([this.conditionIsfalse,this.textIsfalse]);}A.push(["clear",this.noCondition]);this.condition.setStore(A);this.showHideDateTimeFormatDiv();},__neh_clearFilter:function(A){this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_CLEARFILTER);this.value1Text.setValue("");this.value2Text.setValue("");this.condition.setSelectedIndex(0);this.clearFilterFlag="true";this.__neh_changeCondition();},_neh_cancel:function(){if(this.clearFilterFlag=="true"){this.value2Text.setValue("");this.value1Text.setValue("");this.condition.setSelectedIndex(0);this.whichButton=null;}this._hide();},__neh_ListKeyPress:function(A){if(A.keyCode==46){this._neh_DeleteValuesLink();}},_disableDeleteValuesLink:function(){this._enableLink(this.idAnyOfDeleteValuesLink,false);},_neh_DeleteValuesLink:function(){if(this.idListSelectedValues.getLength()==0){return ;}if(this.idAnyOfDeleteValuesLink.className=="link_disabled"){return ;}var C=0;var B=this.idListSelectedValues.getSelectedIndex()-1;var A=this.idListSelectedValues.getSelectedValues();for(C=0;C<A.length;C++){this.idListSelectedValues.remove(A[C]);}if(B<0){B=0;}if(this.idListSelectedValues.getLength()==0){this._enableLink(this.idAnyOfDeleteValuesLink,false);this.idListSelectedValues.setSelectedIndex(-1);}else{if(B!=-1&&B!=null){this.idListSelectedValues.setSelectedIndex(B);}}},_enableLink:function(B,A){if(A){B.className="iv_dialog_link_enabled";}else{B.className="iv_dialog_link_disabled";}},_neh_AnyOfSelectValuesLink:function(C){if(this.idFilterBy.getValue()==null){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("filterDialog.text.NoColumnBindings"));return ;}this._showHideFindRow();this.whichButton="MoreValues1";if(this.valuesLoadedFlag=="false"){var D=new Array();var A=new Object();A.name="FilterText";A.value="";var E=new Object();E.name="target";E.value=this._getJSId(this._classname);var F=new Object();F.name="currCursor";F.value=-1;D[0]=A;D[1]=E;D[2]=F;this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_MOREVALUES_FILTER,D);this.valuesLoadedFlag="true";}this.showHideCalendarDiv(false);this.idSelectValuesDiv.style.display="block";this.idCalendar.style.display="none";this._enableLink(this.idAnyOfListValuesLink,false);var B=this.getOperatorAry(this.condition.getValue());if(B!=3){this.value1Text.focus();}this.adjustSize();},_neh_SelectValuesLink1:function(C){if(this.idFilterBy.getValue()==null){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("filterDialog.text.NoColumnBindings"));return ;}this.whichButton="MoreValues1";if(this.valuesLoadedFlag=="false"){var D=new Array();var A=new Object();A.name="FilterText";A.value="";var E=new Object();E.name="target";E.value=this._getJSId(this._classname);var F=new Object();F.name="currCursor";F.value=-1;D[0]=A;D[1]=E;D[2]=F;this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_MOREVALUES_FILTER,D);this.valuesLoadedFlag="true";}this._showHideFindRow();this.showHideCalendarDiv(false);this.idCalendar.style.display="none";this.idSelectValuesDiv.style.display="block";this.idSelectValuesLink1.style.display="none";this.idSelectValuesLabel1.style.display="block";this.idSelectValuesLink2.style.display="block";this.idSelectValuesLabel2.style.display="none";var B=this.getOperatorAry(this.condition.getValue());if(B!=3){this.value1Text.focus();}this.adjustSize();},_neh_SelectValuesLink2:function(C){if(this.idFilterBy.getValue()==null){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("filterDialog.text.NoColumnBindings"));return ;}this.whichButton="MoreValues2";if(this.valuesLoadedFlag=="false"){var D=new Array();var A=new Object();A.name="FilterText";A.value="";var E=new Object();E.name="target";E.value=this._getJSId(this._classname);var F=new Object();F.name="currCursor";F.value=-1;D[0]=A;D[1]=E;D[2]=F;this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_MOREVALUES_FILTER,D);this.valuesLoadedFlag="true";}this._showHideFindRow();this.showHideCalendarDiv(false);this.idCalendar.style.display="none";this.idSelectValuesDiv.style.display="block";this.idSelectValuesLink2.style.display="none";this.idSelectValuesLabel2.style.display="block";this.idSelectValuesLink1.style.display="block";this.idSelectValuesLabel1.style.display="none";var B=this.getOperatorAry(this.condition.getValue());if(B!=3){this.value2Text.focus();}this.adjustSize();},__neh_CalendarClick:function(E){var B={};var C=this.getOperatorAry(this.condition.getValue());var A=this.whichDataType();if(A==actuate.Constant.DataType.DATE){B.isDateTime=false;}else{B.isDateTime=true;}if(C==3){this.ListSelectedValuesCount=this.idListSelectedValues.getLength();this.FocusAfterCalendarFlag=true;B.target=this.idListSelectedValues;}else{B.target=E;}var D={};D.cache=B;this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_CALENDAR,D);},showHideCalendarDiv:function(A){if(A){if(this.idCalendar.style.display=="none"){this.cal.style.display="block";this.idCalendar.appendChild(this.cal);this.idCalendar.style.display="block";}}else{if(this.idCalendar.style.display=="block"){this.cal.style.display="none";this.idCalendar.removeChild(this.cal);this.idCalendar.style.display="none";}}},_isTopBottomCondition:function(A){return(A==this.conditionTopn||A==this.conditionBottomn||A==this.conditionToppercent||A==this.conditionBottompercent);},__neh_changeCondition:function(C){var B=false;if(this._isTopBottomCondition(this.condition.getValue())!=this._isTopBottomCondition(this._previousCondition)){this.value1Text.setValue("");this.value2Text.setValue("");B=true;}var A=this.getOperatorAry(this.condition.getValue());this._showValueGUI(A);this.idValuesList.setSelectedIndex();if(!B){this._showHideSelectValuesBlock();}this.adjustSize();this._previousCondition=this.condition.getValue();if(this._isColumnInResultSet()===false){this._showSelectValuesLinks(0);}},_isColumnInResultSet:function(){var A=true;if(this.filters.length>0){var B=this.filters[0].bindingName;if(!this.idFilterBy.hasRecord(B)){A=false;}}return A;},_showHideFindRow:function(){var A=this.whichDataType();if(A!=actuate.Constant.DataType.STRING){this.idFindRow.style.display="none";this.idFilterText.hide();this.idFindButton.hide();this.idFilterTextLabel.style.display="none";}else{if(actuate.util.Utility.isIE){this.idFindRow.style.display="";}else{this.idFindRow.style.display="table-row";}this.idFilterText.show();this.idFindButton.show();this.idFilterTextLabel.style.display="inline";}},_showHideSelectValuesBlock:function(){var A=this.getOperatorAry(this.condition.getValue());if(A==0){this.idSelectValuesDiv.style.display="none";}else{if(this.idValuesList.getLength()>0){this.idSelectValuesDiv.style.display="block";this._showHideFindRow();}}},showData:function(E){this.idValuesList.clear();if(E["resultSetData"]){this._prevCursor=E["prevCursor"];this._currCursor=E["currCursor"];var C=new actuate.data.ResultSetData(E["resultSetData"]);var D=C.getRows();if(this.idValuesList.getLength()>0){this.idValuesList.setSelectedIndex(0,false);}this._rowCount=parseInt(C.getRowCount());this._endOfResultset=C.getEndOfResultSet();this._enableLink(this.idNext,false);this._enableLink(this.idPrevious,false);actuate.util.Event.stopObserving(this.idPrevious,"click",this._previousClick_c);actuate.util.Event.stopObserving(this.idNext,"click",this._nextClick_c);if(!this._endOfResultset){this._enableLink(this.idNext,true);actuate.util.Event.observe(this.idNext,"click",this._nextClick_c,false);}if(this._prevCursor>0){this._enableLink(this.idPrevious,true);actuate.util.Event.observe(this.idPrevious,"click",this._previousClick_c,false);}var B=[];if(D.length>0){for(var A=0;A<D.length;A++){if(D[A]!=null){var G=0;var F=0;if(D[A].length>1){F=1;}B.push([D[A][G],D[A][F]]);}}}this.idValuesList.setStore(B);}},_isAvailable:function(B){var A=false;if(B){A=!B.isAggregation||(!B.isSubQuery&&!B.isLinkedDataModel);}return A;},_showFilter:function(F){var A=F[actuate.model.Constant.MetadataType.BINDING];this.boundDataColsList=[];var G;var D;var J=[];for(var C in A){var H=A[C];if(this._isAvailable(H)){var I=H.displayName||H.name;if(H.isViewableBinding){J.push([C,H.displayName.replace(/\"/ig,"")]);}this.boundDataColsList.push(H);}}if(J.length<=0){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("filterDialog.text.NoColumnBindings"));return true;}this.idFilterBy.setStore(J);this.idFilterBy.setSelectedIndex(0);this.filters=[];var B=F[actuate.model.Constant.MetadataType.FILTER].filters;for(var E=0;E<B.length;E++){this.filters.push(B[E]);}if(this.filters.length>0){this.idFilterBy.setValue(this.filters[0].bindingName);}this.displayFilters();},showAdvancedFilterLink:function(A){if(A=="true"){this.idAdvancedFilterLink.style.display="";this.idLabelPipe.style.display="";}else{this.idAdvancedFilterLink.style.display="none";this.idLabelPipe.style.display="none";}},__neh_FilterByChange:function(B){this.idListSelectedValues.clear();this.idValuesList.clear();this.value1Text.setValue("");this.value2Text.setValue("");this.idFilterText.setValue("");this.valuesLoadedFlag="false";this._rowCount=0;this._prevCursor=-1;this._currCursor=-1;this._endOfResultset=false;this.displayFilters();var A=this.getOperatorAry(this.condition.getValue());this._showSelectValuesLinks(A);this._showValueGUI(A);this.adjustSize();},whichDataType:function(){for(var B=0;B<this.boundDataColsList.length;B++){var C=this.boundDataColsList[B].name;if(C==this.idFilterBy.getValue()){var A=this.boundDataColsList[B].dataType;return A;}}},displayFilters:function(){this.value1Text.setValue("");this.value2Text.setValue("");var G=this.whichDataType();this.loadConditions(G);this.condition.setSelectedIndex(0);this._showValueGUI(1);for(var E=0;E<this.filters.length;E++){var B=this.filters[E];if(B!=null){var C=B.bindingName;if(C==this.idFilterBy.getValue()){var D=this._operatorMap[B.operator];if(D!=null&&!this.condition.hasRecord(B.operator)){this.condition.add([[B.operator,D]]);}this.condition.setValue(B.operator);this._showValueGUI(this.getOperatorAry(B.operator));var A=B.values||[];if(this.condition.getValue()==actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_IN_NEW||this.condition.getValue()==actuate.dialog.impl.constant.DesignChoice.FILTER_OPERATOR_NOT_IN_NEW){var I=[];for(var F=0;F<A.length;F++){if(A[F]!=null){var H=A[F];H=H.replace(/\"/g,'\\"');I.push([H,H]);}}this.idListSelectedValues.setStore(I);this._enableLink(this.idAnyOfDeleteValuesLink,false);}else{if(A.length==1){if(A[0]==""){A[0]='""';this.value1Text.setValue(A[0]);}else{this.value1Text.setValue(A[0]);}}else{if(A.length==2){if(A[0]=='""'){this.value1Text.setValue(A[0]);}else{this.value1Text.setValue(A[0]);}if(A[1]=='""'){this.value2Text.setValue(A[1]);}else{this.value2Text.setValue(A[1]);}}}}}}}this._previousCondition=this.condition.getValue();},_showValueGUI:function(B){this.idCalendar.style.display="none";this.idValuesList.setMultiSelect(false);this.idListSelectedValuesDiv.style.display="none";this.value1Text.show();actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textValue);actuate.util.XmlDom.setTextContent(this.textValue2Div,"");this.idAnyOfListValuesDiv.style.display="none";if(B==0){this.idValue1.style.display="none";this.idValue2.style.display="none";actuate.util.XmlDom.setTextContent(this.textValue1Div,"");actuate.util.XmlDom.setTextContent(this.textValue2Div,"");}if(B==1){this.whichButton="MoreValues1";if(this.idSelectValuesLabel1.style.display=="none"&&this.idSelectValuesLink1.style.display=="none"){this.idSelectValuesLink1.style.display="block";this.idSelectValuesLabel1.style.display="none";}if(this.idSelectValuesDiv.style.display=="block"){this.idSelectValuesLink1.style.display="none";this.idSelectValuesLabel1.style.display="block";}var A=this.whichDataType();if(A==actuate.Constant.DataType.INTEGER||A==actuate.Constant.DataType.FLOAT||A==actuate.Constant.DataType.DECIMAL||A=="string"||A=="any"){this.idValue1.style.display="block";this.idValue2.style.display="none";actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textValue);actuate.util.XmlDom.setTextContent(this.textValue2Div,"");this.value1Text.enable();this.value2Text.enable();this.idDateImg1.style.display="none";this.idDateImg2.style.display="none";}else{this.idValue1.style.display="block";this.idValue2.style.display="none";if(actuate.util.Utility.isDateDataType(A)&&!actuate.util.Utility.isTime(A)){actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textDateValue);actuate.util.XmlDom.setTextContent(this.textValue2Div,"");this.idDateImg1.style.display="block";this.idDateImg2.style.display="none";}else{actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textValue);actuate.util.XmlDom.setTextContent(this.textValue2Div,"");this.idDateImg1.style.display="none";this.idDateImg2.style.display="none";}if(this.condition.getValue()==this.conditionTopn||this.condition.getValue()==this.conditionBottomn||this.condition.getValue()==this.conditionToppercent||this.condition.getValue()==this.conditionBottompercent||this.condition.getValue()==this.conditionLike){this.value1Text.enable();this.value2Text.enable();actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textValue);actuate.util.XmlDom.setTextContent(this.textValue2Div,"");}else{actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textDateValue);actuate.util.XmlDom.setTextContent(this.textValue2Div,"");}}}if(B==2){var A=this.whichDataType();if(A==actuate.Constant.DataType.INTEGER||A==actuate.Constant.DataType.FLOAT||A==actuate.Constant.DataType.DECIMAL||A=="string"||A=="any"){this.idValue1.style.display="block";this.idValue2.style.display="block";actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textValueFrom);actuate.util.XmlDom.setTextContent(this.textValue2Div,this.textValueTo);this.value1Text.enable();this.value2Text.enable();this.idDateImg1.style.display="none";this.idDateImg2.style.display="none";}else{this.idValue1.style.display="block";this.idValue2.style.display="block";if(actuate.util.Utility.isDateDataType(A)&&!actuate.util.Utility.isTime(A)){actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textDateValueFrom);actuate.util.XmlDom.setTextContent(this.textValue2Div,this.textDateValueTo);this.idDateImg1.style.display="block";this.idDateImg2.style.display="block";}else{actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textValueFrom);actuate.util.XmlDom.setTextContent(this.textValue2Div,this.textValueTo);this.idDateImg1.style.display="none";this.idDateImg2.style.display="none";}}if(this.idSelectValuesLabel1.style.display=="none"&&this.idSelectValuesLink1.style.display=="none"){this.idSelectValuesLink1.style.display="block";this.idSelectValuesLabel1.style.display="none";}if(this.idSelectValuesLabel2.style.display=="none"&&this.idSelectValuesLink2.style.display=="none"){this.idSelectValuesLink2.style.display="block";this.idSelectValuesLabel2.style.display="none";}if(this.idSelectValuesLabel1.style.display=="block"){this.idSelectValuesLink2.style.display="block";this.idSelectValuesLabel2.style.display="none";this.whichButton="MoreValues1";}else{if(this.idSelectValuesLabel2.style.display=="block"){this.idSelectValuesLink1.style.display="block";this.idSelectValuesLabel1.style.display="none";this.whichButton="MoreValues2";}}}if(B==3){this.idAnyOfListValuesDiv.style.display="block";this.idAnyOfListValuesLink.style.display="";this._enableLink(this.idAnyOfListValuesLink,true);this.idAnyOfDeleteValuesLink.style.display="";if(this.idSelectValuesDiv.style.display=="block"){this._enableLink(this.idAnyOfListValuesLink,false);}else{this._enableLink(this.idAnyOfListValuesLink,true);}if(this.idListSelectedValues.getLength()>0){this._enableLink(this.idAnyOfDeleteValuesLink,true);}else{this._enableLink(this.idAnyOfDeleteValuesLink,false);}this.idSelectValuesLink1.style.display="none";this.idSelectValuesLabel1.style.display="none";var A=this.whichDataType();if(A==actuate.Constant.DataType.INTEGER||A==actuate.Constant.DataType.FLOAT||A==actuate.Constant.DataType.DECIMAL||A=="string"||A=="any"){this.idDateImg1.style.display="none";this.idDateImg2.style.display="none";actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textValue);actuate.util.XmlDom.setTextContent(this.textValue2Div,"");}else{this.idDateImg1.style.display="none";this.idDateImg2.style.display="none";if(actuate.util.Utility.isDateDataType(A)&&!actuate.util.Utility.isTime(A)){actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textDateValue);actuate.util.XmlDom.setTextContent(this.textValue2Div,"");}else{actuate.util.XmlDom.setTextContent(this.textValue1Div,this.textValue);actuate.util.XmlDom.setTextContent(this.textValue2Div,"");}}this.idValuesList.setMultiSelect(true);this.idListSelectedValues.setMultiSelect(true);this.idListSelectedValuesDiv.style.display="block";this.idValue1.style.display="block";this.value1Text.hide();this.idValue2.style.display="none";}if(this.condition.getValue()==this.conditionTopn||this.condition.getValue()==this.conditionBottomn||this.condition.getValue()==this.conditionToppercent||this.condition.getValue()==this.conditionBottompercent){this.idSelectValuesLink1.style.display="none";this.idSelectValuesLink1.style.visibility="hidden";this.idSelectValuesLabel1.style.display="none";this.idSelectValuesDiv.style.display="none";this.idDateImg1.style.display="none";}},_showSelectValuesLinks:function(A){this.idSelectValuesLabel2.style.display="none";this.idSelectValuesLabel1.style.display="none";this.idSelectValuesDiv.style.display="none";if(A==0){this.idSelectValuesLink1.style.display="none";this.idSelectValuesLink2.style.display="none";}else{if(A==1){this.idSelectValuesLink1.style.display="block";this.idSelectValuesLink2.style.display="none";}else{if(A==2){this.idSelectValuesLink1.style.display="block";this.idSelectValuesLink2.style.display="block";}}}},createFilterRequest:function(){var D=this.getOperatorAry(this.condition.getValue());this.ivFilter.setFilterType("Simple");var G=new actuate.data.BoundDataColumn();G.setName(this.idFilterBy.getValue());this.ivFilter.setColumnName(G);var B=new Array();var H=this.whichDataType();if(D==3){var E="";var A=this.idListSelectedValues.getStore().collect("value",true);for(var F=0;F<A.length;F++){var I=A[F];B.push(I);}}else{var E=this.value1Text.getValue();B.push(E);var C=this.value2Text.getValue();if(C){B.push(C);}}B=actuate.util.Json.makeArray(B);this.ivFilter.setOperator(this.condition.getValue());this.ivFilter.setValueList(B);return this.ivData.getFilter(this._viewer,this.ivFilter);},createMoreValuesRequest:function(){var A=new actuate.data.BoundDataColumn();A.setName(this.idFilterBy.getValue());var B=new actuate.data.BoundDataColumnList();B.setBoundDataColumn(A);return this.ivData.getBoundDataColumnList(B);},isSpecialFunction:function(A){if(A==this.conditionTopn||A==this.conditionBottomn||A==this.conditionToppercent||A==this.conditionBottompercent){return true;}else{return false;}},getOperatorAry:function(D){var A=new Array(3);A[0]=new Array(this.conditionIsnull,this.conditionIsnotnull,this.conditionIstrue,this.conditionIsfalse);A[1]=new Array(this.conditionTopn,this.conditionBottomn,this.conditionToppercent,this.conditionBottompercent,this.conditionEq,this.conditionNe,this.conditionLt,this.conditionLe,this.conditionGe,this.conditionGt,this.conditionLike,this.conditionNotLike);A[2]=new Array(this.conditionBetween,this.conditionNotbetween);A[3]=new Array(this.conditionIn,this.conditionNotIn);for(var C=0;C<4;C++){for(var B=0;B<A[C].length;B++){if(D==A[C][B]){return C;}}}return 0;},__neh_ValuesListKeyPress:function(B){var A=this.getOperatorAry(this.condition.getValue());if(A==3){if(B.keyCode==38||B.keyCode==40){this._fillSelectedValuesInList(false);}else{this._fillSelectedValuesInList(true);}}else{if(B.keyCode!=38&&B.keyCode!=40){this.fillTextBox();}}},__neh_ListClick:function(B){var A=this.getOperatorAry(this.condition.getValue());if(A==3){this._fillSelectedValuesInList(true);}else{if(this.idValuesList.getSelectedIndex()!=-1){this.fillTextBox();}}},_fillSelectedValuesInList:function(D){if(D){var A=this.idValuesList.getSelectedValues();if(A){for(var C=0;C<A.length;C++){var B=A[C];if(!this.idListSelectedValues.contains(B)){this.idListSelectedValues.add([B,B]);}}}}if(this.idListSelectedValues.getLength()>0){this.idListSelectedValues.setSelectedIndex(this.idListSelectedValues.getLength()-1,true);this._enableLink(this.idAnyOfDeleteValuesLink,true);}else{this.idListSelectedValues.setSelectedIndex(null);}},__neh_FindClick:function(B){this.idValuesList.clear();this._filterText=this.idFilterText.getValue();var C=new Array();var A=new Object();A.name="FilterText";A.value=this._filterText;var D=new Object();D.name="target";D.value=this._getJSId(this._classname);var E=new Object();E.name="currCursor";E.value=-1;C[0]=A;C[1]=D;C[2]=E;this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_MOREVALUES_FILTER,C);},__neh_FilterTextChange:function(A){if(A.keyCode==A.ENTER){this.__neh_FindClick(A);}},fillTextBox:function(){var B="";var A=this.idValuesList.getSelectedValue();if(A!=null){B=A;}if(this.whichButton=="MoreValues1"){this.value1Text.setValue(B);}else{if(this.whichButton=="MoreValues2"){this.value2Text.setValue(B);}else{if(this.whichButton=="DateTimeMoreValues1"){this.value1Text.setValue(B);}else{if(this.whichButton=="DateTimeMoreValues2"){this.value2Text.setValue(B);}}}}},_neh_clearFilterLink:function(A){this._rowCount=0;this._prevCursor=-1;this._currCursor=-1;this._endOfResultset=false;this.valuesLoadedFlag="false";this.clearFilterFlag="false";this.idListSelectedValues.clear();this.value1Text.setValue("");this.value2Text.setValue("");this.condition.setValue("clear");this.__neh_changeCondition();},__neh_ListSelectedValuesFocus:function(){if(this.idListSelectedValues.getLength()>0&&this.idListSelectedValues.getSelectedIndex()!=-1){this._enableLink(this.idAnyOfDeleteValuesLink,true);if(this.FocusAfterCalendarFlag){this.idListSelectedValues.setSelectedIndex(this.idListSelectedValues.getLength()-1,true);}}else{this._enableLink(this.idAnyOfDeleteValuesLink,false);}this.FocusAfterCalendarFlag=false;},_neh_AdvancedButtonClick:function(){if(this.idFilterBy.getValue()==null){this._consumer._eventDispatcher.broadcastEvent(actuate.iv.core.iVEvent.__E_WARN,actuate.util.Utility.getLocalizedString("filterDialog.text.NoColumnBindings"));return ;}var D=[];D.push(this.getConditionLine());if(this.idSelectValuesDiv.style.display=="block"){var B=[];var A=this.idValuesList.getStore().getRange();for(var C=0;C<A.length;C++){var F=A[C].get("text");var E=A[C].get("value");B.push([F,E]);}var G=new actuate.data.ResultSetData();G.setRows(B);G.setCursor({currCursor:this._currCursor,prevCursor:this._prevCursor});G.setRowCount(this._rowCount);G.setEndOfResultSet(this._endOfResultset);D.push(G);}this._consumer._eventDispatcher.fireEvent(actuate.iv.core.iVEvent.__E_ADVANCEDFILTERDIALOG,D);this._hide();},getConditionLine:function(){var D=new actuate.data.ConditionLine();D.setOperator(this.condition.getValue());D.setRow(this.idFilterBy.getValue());var G=this.getOperatorAry(this.condition.getValue());var A=new Array();if(G==3){var C="";var B=this.idListSelectedValues.getStore().collect("value",true);for(var E=0;E<B.length;E++){var F=B[E];C=C+"|"+F;}if(C.charAt(0)=="|"){C=C.substring(1);}var H=new Object();H.isAnyOf=true;H.isLiteral=true;H.isDataField=false;H.value=C;A.push(H);}else{var H=new Object();H.isAnyOf=false;H.isLiteral=true;H.isDataField=false;H.value=this.value1Text.getValue();A.push(H);H=new Object();H.isAnyOf=false;H.isLiteral=true;H.isDataField=false;H.value=this.value2Text.getValue();A.push(H);}D.setFilterOperands(A);return D;},__neh_value1Change:function(){var A=this.value1Text.getEl().dom;this.__updateTooltip(A);},__neh_value2Change:function(){var A=this.value2Text.getEl().dom;this.__updateTooltip(A);},__updateTooltip:function(A){A.setAttribute("title",A.value);},_enter_key:function(A,B){if(!this.__preventEnterKey){var C=B==null?null:B.getTarget();if(C&&C.name&&C.name.toLowerCase()=="filtertext"){this.__neh_FilterTextChange(B);}else{actuate.dialog.impl.helper.ChartFilterDialog.superclass._enter_key.apply(this,arguments);}}},noComma:""});