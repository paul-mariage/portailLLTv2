actuate.util.Package.define("actuate.dialog.impl.helper.format");actuate.dialog.impl.helper.format.StringFormattingDialog=actuate.Class.create();actuate.dialog.impl.helper.format.StringFormattingDialog.superclass=actuate.dialog.impl.helper.AbstractIVDialog.prototype;actuate.dialog.impl.helper.format.StringFormattingDialog.prototype=actuate.Class.extend(new actuate.dialog.impl.helper.AbstractIVDialog(),{_classname:"actuate.dialog.format.StringFormattingDialog",_htmlElements:{"_category":null,"_customePattern":null,"_customPatternInput":null,"_customePatternHelp":null},__resultSetName:null,_width:418,_height:107,initialize:function(){var A=this._getId(this._classname);this._applyHtmlElementsNames(A);actuate.dialog.impl.helper.format.StringFormattingDialog.superclass.initialize.call(this,A);this._initTemplates();this.categoryMenuDiv=document.getElementById(this._htmlElements["_category"]);this.customPattern=document.getElementById(this._htmlElements["_customePattern"]);this.customPatternInput=new actuate.uiadapter.TextField({cls:"valueTextBox "+actuate.dialog.impl.constant.CSS_INPUTBOX,name:"customPattern",width:200});this.customPatternInput.render(this._htmlElements["_customPatternInput"]);var B=[["Unformatted",actuate.util.Utility.getLocalizedString("stringFormattingDialog.option.Unformatted")],[">",actuate.util.Utility.getLocalizedString("stringFormattingDialog.option.Uppercase")],["<",actuate.util.Utility.getLocalizedString("stringFormattingDialog.option.Lowercase")],["Custom",actuate.util.Utility.getLocalizedString("stringFormattingDialog.option.Custom")]];this.categoryMenu=new actuate.uiadapter.ComboBox({editable:false,width:200,store:B});this.categoryMenu.render(this.categoryMenuDiv);this.__local_installEventHandlers(A);},_initTemplates:function(){var E=document.createElement("div");var A=new actuate.uiadapter.Template('<TABLE style="margin-top:1ex;" WIDTH="100%">'+'	<TR class="helpHeader"> '+"		<TD>{0}</TD>"+"		<TD>{1}</TD>"+"		<TD>{2}</TD>"+"	</TR>"+"	<TR>"+"		<TD>{3}</TD>"+"		<TD>{4}</TD>"+"		<TD>{5}</TD>"+"	</TR>"+"	<TR>"+"		<TD>{6}</TD>"+"		<TD>{7}</TD>"+"		<TD>{8}</TD>"+"	</TR>"+"	<TR>"+"		<TD>{9}</TD>"+"		<TD>{10}</TD>"+"		<TD>{11}"+"	</TR>"+"	<TR>"+"		<TD>{12}</TD>"+"		<TD>{13}</TD>"+"		<TD>{14}</TD>"+"	</TR>"+"	<TR>"+"		<TD>{15}</TD>"+"		<TD>{16}</TD>"+"		<TD>{17}</TD>"+"	</TR>"+"</TABLE>");var D=[actuate.util.Utility.getLocalizedString("formattingDialog.helpHeader.format"),actuate.util.Utility.getLocalizedString("formattingDialog.helpHeader.code"),actuate.util.Utility.getLocalizedString("formattingDialog.helpHeader.result"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpFormat.uppercase"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpCode.uppercase"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpResult.uppercase"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpFormat.lowercase"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpCode.lowercase"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpResult.lowercase"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpFormat.zip4"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpCode.zip4"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpResult.zip4"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpFormat.phone"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpCode.phone"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpResult.phone"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpFormat.ssn"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpCode.ssn"),actuate.util.Utility.getLocalizedString("stringFormattingDialog.helpResult.ssn")];var C=A._append(E,D,true);var B=new actuate.uiadapter.FieldSet({checkboxToggle:false,title:actuate.util.Utility.getLocalizedString("formattingDialog.helpHeader.codeExamples"),autoHeight:true,defaultType:"textfield",bodyStyle:"padding:0px 0px 0",contentEl:E});B.render(this._htmlElements["_customePatternHelp"]);},__local_installEventHandlers:function(A){this.__neh_categoryMenuChange_c=actuate.Method.bindAsEventListener(this.__neh_categoryMenuChange,this);this.categoryMenu.registerEventHandler("select",this.__neh_categoryMenuChange_c);},_preHide:function(){this.categoryMenu.setValue(this.categoryMenu.getValueAt(0));},_localBind:function(A){if(!A){return ;}this.prepareUI(A);},prepareUI:function(C){this.hideAll();this.customPatternInput.setValue("");this.categoryMenu.setValue(this.categoryMenu.getValueAt(0));if(C==undefined||C==null){return ;}var D;if(!C.targetMd){this.__resultSetName=C.selectedBinding?C.selectedBinding.name:null;D=C.selectedElement?C.selectedElement.dataFormat:null;}else{this.__resultSetName=C.targetMd.binding.name;D=C.targetMd.dataFormat;}if(C.total){this.total=C.total;this.targetMd=C.targetMd;}else{delete this.total;this.targetMd;}if(D==null){return ;}var B=D.category;if(!B){D=D.StringFormat?D.StringFormat.categoryChoice:D;if(D&&D.category){B=D.category;}}this.categoryMenu.setValue(B);if(B==this.categoryMenu.getValueAt(this.categoryMenu.getLength()-1)){var A=D.pattern;this.customPatternInput.setValue(A==null?"":A);this.showCustom();}},hideAll:function(){this.customPattern.style.display="none";this.adjustSize();},showCustom:function(){this.customPattern.style.display="block";this.adjustSize();},__neh_categoryMenuChange:function(A){if(this.categoryMenu.getValue()==this.categoryMenu.getValueAt(this.categoryMenu.getLength()-1)){this.showCustom();}else{this.hideAll();}this._fixDropShadow();},__getHelpTopic:function(){return"iv_string_formatting";},createJsonNode:function(){var B={};var C={};var A={};A.category=this.categoryMenu.getValue();A.pattern=this.customPatternInput.getValue();C.categoryChoice=A;B[actuate.Constant.tag.StringFormat]=C;B.resultSetDataType="String";if(this.__resultSetName||this.__resultSetName==""){B.resultSetName=this.__resultSetName;}return{dataFormat:B};},createSoapNode:function(){var A=actuate.util.XmlDom.createXMLDom(actuate.util.Constants.soap.NAMESPACE_ACTUATE10,actuate.Constant.tag.ColumnDefFormat);var B=actuate.util.XmlDom.createElement(A,actuate.Constant.tag.StringFormat);A.documentElement.appendChild(B);var C=actuate.util.XmlDom.createElement(A,actuate.Constant.tag.CATEGORYCHOICE);B.appendChild(C);var G=actuate.util.XmlDom.createElement(A,actuate.Constant.tag.CATEGORY);C.appendChild(G);var D=A.createTextNode(this.categoryMenu.getValue());G.appendChild(D);var J=actuate.util.XmlDom.createElement(A,actuate.Constant.tag.PATTERN);C.appendChild(J);var D=A.createTextNode(this.customPatternInput.getValue());J.appendChild(D);var F=actuate.util.XmlDom.createElement(A,"ResultSetDataType");A.documentElement.appendChild(F);var I=A.createTextNode("String");F.appendChild(I);if(this.__resultSetName||this.__resultSetName==""){var E=actuate.util.XmlDom.createElement(A,"ResultSetName");A.documentElement.appendChild(E);var H=A.createTextNode(this.__resultSetName);E.appendChild(H);}return A.documentElement;}});